                INTERNATIONL PERFORMANCE ANALYSIS DATA COLLECTION

                                 January, 1991
                            Prepared by Jo Ann Joels
                               Network Analysis
                                  BT Tymnet

        The Delay and Deluti programs have been set up to collect data for 
        International nodes and links.  All data collected for these nodes
        and links will be located in the NTRACKDATA directory on system
        38 in 1022 data bases.  Within 1022, if you do an "inform structure"
        command on an open data base, you can see which fields of data have 
        been captured (see Appendix 1).

      
                                     DELUTI
                                     ------

        The Deluti program will collect information for International Public 
        nodes.  International nodes are defined as those residing in a site 
        having a class type of 21, 22, 23, 24 or 25.  Public nodes are defined 
        as those nodes having a nodetype of 2-10, 13, 24, 25 or 26.  

        It will collect information for links which are connected to one of 
        these International Public nodes on one end and to any other public 
        node on the other end. (The actual name of the collector program
        is NTRACK. DELUTI is the human interface program that allows a set
        of reports to be generated. In this documentation, as well as in
        casual conversation, the terms DELUTI and NTRACK are used
        interchangeably).

        Data collected by the NTRACK program will be in two 1022 data bases.  
        Node data will be in data base: duns.dms.  Link data will be in data 
        base: duks.dms.  A maximum of 35 weekdays' information may be found in 
        these data bases at any time.  If adding a new day's data to a data 
        base takes the number of days of data over 35 days, then, the oldest 
        day's data is automatically deleted.  

        The NTRACK collection process starts up at 8:00 a.m. GMT each weekday 
        and continues until 3:00 p.m..  It will loop through the list of links 
        and nodes in its collection list ( or queue) as many times as it can 
        during this 7 hour period.  The collection queue is also contained in 
        a 1022 data base: duque.dms.  

        The collection queue is automatically regenerated through a SUBMIT job 
        at the beginning of each month.  The correct set of nodes and links 
        are identified using the appropriate fields in the CKTS data base.  
        CKTS is a 1022 subset of the PROFILE data base.  

        There is a program available in the NTRACKDATA directory called 
        DELUTI.SAV which can be used to generate reports from the data 
        contained in the DUNS and DUKS data bases (as well as using some
        general network information contained in the CKTS data base). The
        menu-driven program will allow the user to choose among the
        existing reports, using the data collected. To invoke it, just
        type the following at the PDP10 propmt:

            1)   -GO DELUTI




                                     DELAY
                                     -----

        The Delay program will collect information for International Public 
        ACCESS nodes.  International nodes are defined as those residing in a 
        site having a class type of 21, 22, 23, 24 or 25.  Public ACCESS nodes 
        are defined as those nodes having a nodetype of 7-10, 13, 25 or 26.  

        Data collected by the DELAY program will be in a 1022 data base: 
        dlay.dms.  A maximum of 35 weekdays' information may be found in this 
        data base at any time.  If adding a new day's data to the data base 
        takes the number of days of data over 35 days, then, the oldest day's 
        data is automatically deleted.  
        
        The Delay collection process starts up at 8:00 a.m. GMT each weekday 
        and continues until it has gone through the nodes in its collection 
        list ( or queue ) once.  The queue for the delay program is contained 
        in file: dlay.que.  

        The collection queue is automatically regenerated through a SUBMIT job 
        at the beginning of each month.  The correct set of nodes is 
        identified using the appropriate fields in the CKTS data base.  PROBE 
        information, gathered by the SUPMAP program, is also used in the 
        generation of the queue.  

        A 1022 DPL program called DLAY.DPL is available in the NTRACKDATA
        directory to provide a report from the information in the DLAY
        data base.  To use this program, type the following at the PDP10
        system prompt:

         1) Run 1022
         2) Use DLAY.DPL
         3) Leave 1022
         4) Type DLSUM.RPT







                      A P P E N D I X   1


The following appendix contains information on the data structure
of 5 data bases used/created to generate/report the collected
data. The data base system used is called "1022", from
Software House Products Inc. (it is not a relational data base
system). These 5 data bases are:

     1. (NETSTAT:38)CKTS.DMS  Contains a subset of the Network Profile
                              Data Base attributes, which are needed
                              to obtain basic topological information
                              of the network.

     2. (NTRACKDATA:38)DUQUE.DMS Contains the input queue (nodes and
                                 links) to be sampled, using the
                                 NTRACK program collector.

     3. (NTRACKDATA:38)DUNS.DMS  Contains the actual raw data collected
                                 from XRAY's NS and ND commands.

     4. (NTRACKDATA:38)DUKS.DMS  Contains the actual raw data collected
                                 from XRAY's KS command.

     5. (NTRACKDATA:38)DLAY.DMS  Contains the actual raw data collected
                                 from XRAY's PM command, and from
                                 TMCS's PATH command, to sample the
                                 round trip delay per packet, as well
                                 as the number of hops (links) a
                                 session travels through.


     There are PDP10 and 1022 manuals available to explain how to
     use the operating system and the data base system, respectively.


     Here it is the structure of these 5 data bases, in the same
     order.

-gfd netstat

-r 1022
1/24/91
TYMSHARE System 1022A (114B)


                  SUBSET OF PROFILE DATA BASE
                  ===========================


*o ckts
* f all
29406 RECS FOUND.
* inf str
ATTRIBUTE POINT1 ABBREV PT1 INTEGER KEYED COL 1 6
ATTRIBUTE POINTYPE1 ABBREV PTY1 TEXT COL 8 22
ATTRIBUTE COMPANY1 ABBREV CMP1 TEXT COL 24 43
ATTRIBUTE PLACE1 TEXT COL 45 59
ATTRIBUTE ST1 TEXT COL 61 62
ATTRIBUTE SITE1 TEXT KEYED COL 64 67
ATTRIBUTE V1 INTEGER KEYED COL 69 73
ATTRIBUTE H1 INTEGER KEYED COL 75 79
ATTRIBUTE POINT2 ABBREV PT2 INTEGER KEYED COL 81 86
ATTRIBUTE POINTYPE2 ABBREV PTY2 TEXT COL 88 102
ATTRIBUTE COMPANY2 ABBREV CMP2 TEXT COL 104 123
ATTRIBUTE PLACE2 TEXT COL 125 139
ATTRIBUTE ST2 TEXT COL 141 142
ATTRIBUTE SITE2 TEXT KEYED COL 144 147
ATTRIBUTE V2 INTEGER KEYED COL 149 153
ATTRIBUTE H2 INTEGER KEYED COL 155 159
ATTRIBUTE CIRCUIT ABBREV CCT TEXT COL 161 180
ATTRIBUTE BANDWIDTH ABBREV BNDW TEXT KEYED COL 182 186
ATTRIBUTE CLASS1 INTEGER COL 188 189
ATTRIBUTE CLASS2 INTEGER COL 191 192
ATTRIBUTE NPA1 INTEGER KEYED COL 194 196
ATTRIBUTE NXX1 INTEGER KEYED COL 198 200
ATTRIBUTE NPA2 INTEGER KEYED COL 202 204
ATTRIBUTE NXX2 INTEGER KEYED COL 206 208
ATTRIBUTE KHOST1 INTEGER KEYED COL 210 214
ATTRIBUTE KHOST2 INTEGER KEYED COL 216 220
ATTRIBUTE STATUS TEXT KEYED COL 222 222
ATTRIBUTE TELCOREQ INTEGER KEYED COL 224 231
ATTRIBUTE TROUBLEPHO TEXT COL 233 247
ATTRIBUTE REGION1 TEXT COL 249 253
ATTRIBUTE REGION2 TEXT COL 255 259
ATTRIBUTE CONTACT1 TEXT COL 261 282
ATTRIBUTE CONTACT2 TEXT COL 284 305
ATTRIBUTE PHONE1 TEXT COL 307 326
ATTRIBUTE PHONE2 TEXT COL 328 347
ATTRIBUTE HARDWARE1 TEXT COL 349 363
ATTRIBUTE HARDWARE2 TEXT COL 365 379
ATTRIBUTE NODETYPE1 INTEGER COL 381 382
ATTRIBUTE NODETYPE2 INTEGER COL 384 385
* q

EXIT

-gfd ntrackdata

DLAY    DMS      11  21-JAN-91 1411    ALL RUN NO   24-JAN-91(A)
DUNS    DMS      10  21-JAN-91  818    ALL RUN NO   24-JAN-91(A)
DUQUE   DMS      15  18-JAN-91 1106    ALL RUN NO   24-JAN-91(A)
DULINK  DMS       4  18-JAN-91 1055    ALL RUN NO   19-JAN-91(A)
GNS     DMS     149  17-JAN-91  937    ALL RD  NO   18-JAN-91(A)
DUKS    DMS       8  17-AUG-68  916    ALL RUN NO   24-JAN-91(A)

-r 1022
1/24/91
TYMSHARE System 1022A (114B)


                         INPUT QUEUE FOR DELUTI (NTRACK)
                         ===============================

* o duque
* f all
231 RECS FOUND.
* inf str
ATTRIBUTE NODE_NUMBER ABBREV NODE INTEGER KEYED COL 1 5
ATTRIBUTE NEIGHBOR ABBREV NEIGH INTEGER KEYED COL 7 11
ATTRIBUTE KERNAL_NUMBER ABBREV KERNL INTEGER KEYED COL 13 17
ATTRIBUTE COMMAND_TO_SOURCE ABBREV COMND TEXT KEYED COL 19 23
ATTRIBUTE DATE_LAST_COLLECTED ABBREV CDATE INTEGER KEYED COL 25 30
ATTRIBUTE TIME_LAST_COLLECTED ABBREV CTIME INTEGER KEYED COL 32 35
ATTRIBUTE MINIMUM_TIME ABBREV MTIME INTEGER COL 37 39
ATTRIBUTE DATE_END_COLLECTING ABBREV SDATE INTEGER KEYED COL 41 46
ATTRIBUTE XRETRY ABBREV RTRY INTEGER KEYED COL 48 50
ATTRIBUTE COMMENT ABBREV CMNT TEXT COL 52 71
* q

EXIT

-r 1022
1/24/91
TYMSHARE System 1022A (114B)

                XRAY'S NS DATA CAPTURED (Refer to XRAY manual)
                =======================


* o duns
* f all
14 RECS FOUND.
* inf str
ATTRIBUTE NODE INTEGER KEYED COL 1 5
ATTRIBUTE CDATE INTEGER KEYED COL 6 11
ATTRIBUTE CTIME INTEGER KEYED COL 12 15
ATTRIBUTE EXCT INTEGER COL 16 19
ATTRIBUTE EXLW INTEGER COL 20 23
ATTRIBUTE EXHW INTEGER COL 24 27
ATTRIBUTE MPRT INTEGER COL 28 31
ATTRIBUTE MPAS INTEGER COL 32 35
ATTRIBUTE LINKCPSO ABBREV LCO INTEGER COL 36 43
ATTRIBUTE LINKCPSI ABBREV LCI INTEGER COL 44 51
ATTRIBUTE LINKHWMO ABBREV LHO INTEGER COL 52 59
ATTRIBUTE LINKHWMI ABBREV LHI INTEGER COL 60 67
ATTRIBUTE ASYNCCPSO ABBREV ACO INTEGER COL 68 75
ATTRIBUTE ASYNCCPSI ABBREV ACI INTEGER COL 76 83
ATTRIBUTE ASYNCHWMO ABBREV AHO INTEGER COL 84 91
ATTRIBUTE ASYNCHWMI ABBREV AHI INTEGER COL 92 99
ATTRIBUTE CODEDELAY ABBREV CD INTEGER COL 100 103
ATTRIBUTE HWDELAY ABBREV HWD INTEGER COL 104 107
ATTRIBUTE TOTALDELAY ABBREV TD INTEGER COL 108 111
ATTRIBUTE ASYNCPERCENT ABBREV AP INTEGER COL 112 113
ATTRIBUTE ASYNCMAX ABBREV AM INTEGER COL 114 117
ATTRIBUTE AVERAGEASYNC ABBREV AA INTEGER COL 118 121
ATTRIBUTE MAXASYNC ABBREV MA INTEGER COL 122 125
ATTRIBUTE WRAPASYNC ABBREV WA INTEGER COL 126 129
* q

EXIT

-r 1022
1/24/91
TYMSHARE System 1022A (114B)


                XRAY'S KS COMMAND DATA CAPTURED (Refer to XRAY manual)
                ===============================


* o duks
* f all
14 RECS FOUND.
* inf str
ATTRIBUTE NTRACKDATE ABBREV DAT INTEGER KEYED COL 1 6
ATTRIBUTE TIME INTEGER KEYED COL 7 10
ATTRIBUTE NOD1 INTEGER KEYED COL 11 15
ATTRIBUTE NOD2 INTEGER KEYED COL 16 20
ATTRIBUTE PHYSICALCPSIN ABBREV PCPSI INTEGER COL 21 25
ATTRIBUTE PHYSICALCPSHWMIN ABBREV PHWIN INTEGER COL 26 30
ATTRIBUTE PHYSICALCPSOUT ABBREV PCPSO INTEGER COL 31 35
ATTRIBUTE PHYSICALCPSHWMOUT ABBREV PHWOU INTEGER COL 36 40
ATTRIBUTE BWUTILIZATIONIN ABBREV UTLZI INTEGER COL 41 42
ATTRIBUTE BWUTILIZATIONOUT ABBREV UTLZO INTEGER COL 43 44
ATTRIBUTE TOTALDELAY ABBREV DLTOT INTEGER COL 45 48
ATTRIBUTE OVERLOADCOUNT ABBREV OVLDC INTEGER COL 49 52
ATTRIBUTE SATURATEDCOUNT ABBREV SATRC INTEGER COL 53 56
* q

EXIT

-r 1022
1/24/91
TYMSHARE System 1022A (114B)


                  ROUND TRIP DELAY DATA CAPTURED (Uses XRAY and TMCS)
                  ==============================



* o dlay
* f all
113 RECS FOUND.
* inf str
ATTRIBUTE NODE INTEGER KEYED COL 1 5
ATTRIBUTE HOST INTEGER KEYED COL 6 10
ATTRIBUTE VERS INTEGER COL 11 15
ATTRIBUTE CDATE INTEGER KEYED COL 16 21
ATTRIBUTE PORT INTEGER COL 22 24
ATTRIBUTE DELAY INTEGER KEYED COL 25 29
ATTRIBUTE HOPS INTEGER KEYED COL 30 31
ATTRIBUTE N1 INTEGER COL 32 36
ATTRIBUTE N2 INTEGER COL 37 41
ATTRIBUTE N3 INTEGER COL 42 46
ATTRIBUTE N4 INTEGER COL 47 51
ATTRIBUTE N5 INTEGER COL 52 56
ATTRIBUTE N6 INTEGER COL 57 61
ATTRIBUTE N7 INTEGER COL 62 66
ATTRIBUTE N8 INTEGER COL 67 71
ATTRIBUTE N9 INTEGER COL 72 76
ATTRIBUTE N10 INTEGER COL 77 81
ATTRIBUTE N11 INTEGER COL 82 86
ATTRIBUTE N12 INTEGER COL 87 91
ATTRIBUTE N13 INTEGER COL 92 96
ATTRIBUTE N14 INTEGER COL 97 101
ATTRIBUTE N15 INTEGER COL 102 106
* q

EXIT

   