

              DOWNSTREAM LOADING GENERAL INFORMATION
                       (CES:33)DSLGEN.DOC

     THIS DOCUMENT IS INTENDED TO DISCRIBE THE MORE GENERAL PROCEDURES
     USED TO PLAN THE DEPLOYMNENT AND USE OF NETWORK DOWNSTREAM LOADING.

     THE FOLLOWING ESSENTIAL REQUIREMENTS MUST BE MET IN ORDER TO
     EFFECTIVELY INSTALL DOWNSTREAM LOADING.

     1)  DOWNSTREAM LOADING IS A SPECIAL COMMUNICATION BETWEEN TWO
     NETWORK MACHINES.  THERE MUST BE ONE MACHINE LOADED WITH A VERSION
     OF CODE THAT IS ABLE TO TRANSMIT THE DOWNSTREAM LOADING DATA.

     2)  ASSUME THAT MACHINE A IN FIGURE 1 IS LOADED WITH VERSION 512
     CODE. IF YOU ARE GOING TO LOAD MACHINE B BY DOWNSTREAM LOADING, THE
     LINE CONNECTED TO B FROM A MUST BE LINE 0,1,2,3,4,5,6, OR 7. THAT
     IS, DOWNSTREAM LOADING MAY ONLY BE RECEIVED ON LINES 0-7.  IT MAY BE
     TRANSMITTED ON ANY LINE, BUT THE BOOTSTRAP AND LOADER CAN ONLY
     RECEIVE ON LINES 0-7.

            AAAAA        BBBBB
           A     A      B     B
     -----A   A   A----B   B   B
           A     A      B     B
            AAAAA        BBBBB

           FIGURE 1

     3)  THE NEW VERSION OF CODE TO BE LOADED MUST HAVE BEEN DESIGNED TO
     BE LOADED SYNCHRONOUSLY. THE VERSION OF CODE MUST BE 512 OR GREATER
     FOR REMOTES, 41300 OR GREATER FOR BASES, 116XXX OR GREATER FOR
     ASYNC TYMCOMS AND VERSION 21 OR GREATER FOR BYSYNC TYMCOMS.

     4)  THE SYNCHRONOUS BOOT MUST HAVE BEEN LOADED IN THE MACHINE TO BE
     LOADED.


     INITIAL INSTALLATION
     ------- ------------

     WITH THE FIRST INSTALLATIONS OF DOWNSTREAM LOADING THERE ARE SOME
     SPECIAL OCCURANCES AND UTILITIES PROVIDED.  THE FIRST MACHINE TO BE
     LOADED CANNOT BE LOADED BY THE NETWORK TECHNIQUE.  IT MUST BE
     LOADED BY CONVENTIONAL TECHNIQUES.  FOR PRACTICAL REASONS, THIS MAY
     BE DONE IN SEVERAL PLACES RATHER THAN STARTING WITH ONE MACHINE AND
     PROPAGATING THE ENTIRE NET.  THE FOLLOWING ARE SOME RECOMENDATIONS
     AND REQUIRED PROCEDURES FOR HANDLING THIS SITUATION.

     1)  SELECT A PAIR OF MACHINES PREFERABLY LOCATED AT THE SAME SITE.
     EACH MACHINE SHOULD MEET ALL CRITERIA FOR LOADING EACH OTHER AND
     EACH SHOULD IDEALLY HAVE A LARGE NUMBER OF OTHER NETWORK LINES SO
     THAT THEY CAN BOTH LOAD A NUMBER OF OTHER MACHINES.  THIS ALSO
     ALLOWS THEM TO LOAD EACH OTHER.


     2)  LOAD THE DOWNLINE LOADING CODE IN ONE MACHINE VIA CASSETTE.
     THEN LOAD THE SYNCHRONOUS BOOT INTO THE SECOND MACHINE AND LOAD IT
     THROUGH THE FIRST MACHINE.

     3)  NOW LOAD THE SYNCHRONOUS BOOT INTO THE FIRST MACHINE AND RELOAD
     IT FROM THE SECOND MACHINE.

     THE PROCEDURES FOR LOADING THE BOOTSTRAP AND SETTING IT UP FOR THE
     CORRECT LINE IS DISCRIBED IN ANOTHER DOCUMENT AVAILABLE ON SYSTEM
     33 AS (CES)DSLPRO.DOC  OR  NETLOD.DOC .

     MACHINES THAT ALREADY HAVE A NEIGHBOR ON AN APPROPRIATE LINE WITH
     DOWNSTREAM LOADING CODE, MAY BE LOADED THROUGH THE NET FROM THAT
     NEIGHBOR.  IT WILL STILL BE NECESSARY FOR SOMEONE TO BE ON SITE TO
     LOAD THE SYNCHRONOUS BOOTSTRAP.


     ***************** SOME WARNINGS *** SOME WARNINGS ***************

     IN PLANNING CONFIGURATIONS THERE ARE SOME THINGS TO CAREFULLY
     AVOID.  MOST ARE OBVIOUS, SOME MAY NOT BE.

     1)  BE CERTAIN THAT THE BOOTSTRAP IS SET TO RECEIVE ON THE CORRECT
     LINE.  THE "DLOAD COMMAND WILL SET THE LINE YOU SELECT, HOWEVER,
     MANUAL EXECUTION OF THE BOOT REQUIRES MANUAL CHECKING AND MODIFING
     OF THE BOOT. (REFER TO (CES:33)NETLOD.DOC FOR INSTRUCTIONS).

     2)  WHEN ISSUING A "DLOAD" COMMAND BE CERTAIN THAT THE NEIGHBOR YOU
     INTEND TO LOAD FROM IS ABLE TO (IE HAS THE RIGHT CODE) AND THAT YOU
     WILL BE ABLE TO BUILD A CIRCUIT TO THAT NEIGHBOR.  FOR EXAMPLE IN
     FIGURE 2 SUPPOSE THAT FOR SOME REASON THE LINE BETWEEN A AND B IS
     OUT.  A AND C ARE STILL IN THE NET.  IF YOU WISH TO LOAD C DO NOT
     PLAN TO DO IT FROM A BECAUSE WHEN C IS EXECUTING ITS BOOTSTRAP A
     WILL NOT BE IN THE NET.  IN THIS EXAMPLE YOU COULD LOAD THROUGH B
     IF THE LINE IS IN THE RIGHT PLACE ON C.

            AAAAAA         BBBBBB
           A      A       B      B
          A   A    A-----B   B    B---------
           A      A       B      B
            AAAAAA         BBBBBB
               I              I
               I   CCCCCC     I
               I  C      C    I
               I-C    C   C---I
                  C      C
                   CCCCCC

              FIGURE 2

     3)  BEWARE OF TRYING TO LOAD THROUGH A NOISY LINE.  THE DATA IS
     CHECKSUMMED AND RETRANSMITTED BUT IF YOU ARE UNABLE TO GET THE
     LOADER ACROSS YOU ARE OUT OF LUCK.  THE NDL WILL CONTINUE TO

     TRY TO SUCCESSFULLY GET THE LOADER TO THE TARGET MACHINE.
     ONCE THAT IS COMPLETED, THE NDL WILL TRY CONTINUOUSLY, NO 
     MATTER HOW MANY ACKS OR RECORDS MAY BE OUTSTANDING.
     ALWAYS BE SURE TO SELECT THE CLEANEST LINE POSSIBLE.  THIS IS NOT
     ALWAYS A HARD WIRED LINE. ALSO 25 OR 30 ERRORS IS NOT MANY ON A
     MODERATE TO HEAVILY LOADED LINE BUT ON A LINE WITH NO TRAFFIC, THAT
     MANY ERRORS IS A NOISY LINE.  IT IS ADVISED THAT YOU CHECK A
     NETWORK LOGGER FOR LINE ERRORS BEFORE COMMITTING A NODE TO A
     DOWNSTREAM LOAD.

     4)  WHEN DOING RECONFIGURATIONS DO NOT ALLOW MACHINES TO COME UP IN
     A FASHION THAT COULD RESULT IN TEMPORARY CONFIGURATION ERRORS.  THE
     RESULT IS A MACHINE THAT YOU MAY NOT BE ABLE TO GET INTO THE NET.
     THE DOWNSTREAM LOAD CODE DOES NOT CARE WHO THE NEIGHBOR IS ON THE
     OTHER END OF THE LINE NOR HOW MANY GROUPS THERE IS SUPPOSED TO BE
     ON THAT LINE. AN EXAMPLE USING FIGURE 1 AGAIN.  SUPPOSE THAT YOU
     WISH TO CHANGE THE NUMBER OF GROUPS ON THE LINE BETWEEN A AND B.
     IF YOU ARE NOT THINKING TO WELL, YOU MIGHT SEND A TO ITS BOOTSTRAP,
     RELOAD IT AND THEN TRY TO SEND B TO ITS BOOTSTRAP. ASSUMING THAT B
     HAS ONLY ONE LINE UP AT THE TIME AND THAT IS THE LINE TO A, YOU HAVE
     LOST CONTROL OVER B SINCE IT CANNOT COME BACK INTO THE NET. THE
     SAFEST THING TO DO IN GENERAL IS TO CAREFULLY PLAN AN ORDER OF
     LOADING THAT WILL NOT RESULT IN ERRORS.  THEN CAREFULLY SEND ALL
     THE MACHINES THAT NEED TO BE LOADED TO THEIR BOOTSTRAPS.  THEN
     FOLLOW THE RELOAD PATTERN PLANNED OUT.  IN GENERAL AVOID RELOADING
     LARGE PORTIONS OF THE NET IN ONE SESSION. FAMILIARITY CAN CAUSE
     CARELESSNESS.

     5)  MAKE CERTAIN THAT THE CODE YOU LOAD AGRESS WITH THE
     CONFIGURATION THAT THE CODE WILL FIND WHEN IT COMES UP.  IF LINES
     HAVE BEEN PATCHED AND MOVED THE MAP MAY NOT REFLECT THE CHANGE AND
     THE CODE MIGHT NOT EITHER.  SUPPOSE A MACHINE WITH TWO LINES HAS
     FOR SOME REASON HAD THOSE LINES SWAPPED AND THE CODE PATCHED TO
     WORK.  IF NEW CODE IS REMOTELY LOADED THAT DOES NOT REFLECT THE
     CHANGE, THAT MACHINE WILL LOAD BUT NO REPORT OF THAT FACT WILL
     APPEAR SINCE THE MACHINE CANNOT ENTER THE NET.  THE NEIGHBORS MAY
     REPORT A RESET OUT CONDITION.  THE ONLY WAY OUT IS TO HAVE THE
     MACHINE MANUALLY BRANCHED TO THE BOOT AND CODE CORRECTLY ASSEMBLED.
     THIS ASSUMES THAT SOMEONE IS ABLE TO FIGURE OUT WHAT HAPPENED.  TO
     DETERMINE THIS ONLY FROM THE EVIDENCE AT NETWORK CONTROL MAY BE
     VERY DIFFICULT. NOTE SUGGESTIONS 7 AND 8 BELOW.

     6)  ALWAYS PLAN AHEAD AND REVIEW EVEN SIMPLE OPERATIONS COMPLETELY
     BEFOR EXECUTING.

     7)  BEFORE SENDING ANY MACHINE TO ITS BOOTSTRAP, GET A HARDCOPY
     PICTURE OF THAT PART OF THE NET THAT IS AFFECTED.  THIS WILL BE
     VERY USEFUL IF SOMETHING GOES WRONG LATER.

     8)  REVIEW THE "TYM" FILES AGAINST THE PICTURE OF THE NET OBTAINED
     IN "7" ABOVE.  MAKE CERTAIN THAT GROUPS AND LINES WILL MATCH
     CORRECTLY WHEN THE MACHINES ARE LOADED.  EXAMINE CAREFULLY THE

     AREAS WHERE CHANGES ARE TO BE MADE. BE CERTAIN THAT NO TEMPORARY
     CONFIGURATION ERROR WILL OCCUR DURING THE UPGRADE.  IF FOR SOME
     REASON THIS IS UNAVOIDABLE, MAKE CERTAIN THAT THERE WILL ALWAYS BE
     AT LEAST ONE LINE THAT THE MACHINE CAN BE BROUGHT INTO THE NET.
     THIS CASE SHOULD NEVER BE ALLOWED TO HAPPEN.

     9)  WHEN USING THE "DLOAD" COMMAND, DO IT ON A HARD COPY TERMINAL
     SO THAT YOU CAN RETRACE YOUR STEPS WHEN NECESSARY.

     10)  WHEN SENDING ONE MACHINE TO ITS BOOT, WAIT FOR THE LINE OUT
     REPORTS TO ARRIVE ON THE CONSOLIDATOR LOG BEFORE DOING ANOTHER ONE.
     THE BOOTSTRAP MAY NOT CHECKSUM RESULTING IN THE MACHINE REJECTING
     THE "DLOAD" COMMAND.  IF ANOTHER MACHINE GOES DOWN IN THE UPSTREAM
     PATH OF THE FIRST MACHINE THE REJECTION MESSAGE MAY NOT REACH YOU.

     11)  KEEP A LOG OF WHAT YOU DO.  IF SOMETHING GOES WRONG THIS WILL
     BE OF GREAT VALUE.

     COPIES OF THIS DOCUMENT MAY BE OBTAINED FROM (CES:33)DSLGEN.DOC .
    