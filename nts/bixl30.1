date
APR 28, 1987    16:57
-type bixl30
all
Error: Unrecognized entry.
Choices are: again, delete, forward, help, leave, original, quit, reply, 
read/action:
Error: Ambiguous entry.
Choices are: again, delete, forward, help, leave, original, quit, reply, 
read/action:leave
Mail:read
No more unread messages in this topic
Hit <RETURN> for next active conf/topic.
Read:
Checking for conference activity.
Joining conference 'moderators', topic 'comm.problems'. 113 new message(s).
Read:
==========================
moderators/comm.problems #1675, from rcook, 202 chars, Fri Apr 17 03:39:56 1987
This is a comment to message 1647.
There is/are comment(s) on this message.
--------------------------
        Sorry, you lose. It happened so far into the session that the
log-on sequence had scrolled out of my buffer.
        Is there any point in reporting stuff like this if we don't capture
that information?
--RC
Read:all
==========================
moderators/comm.problems #1676, from miker, 460 chars, Fri Apr 17 09:26:59 1987
This is a comment to message 1650.
--------------------------
We are aware that something is happening....We are working with TYMNET
to resolve....Next time you get the message, please count the number
of users...We may be maxing the ports....Once upon a time, this
message meant that all the ports were busy...We had the message
changed to say all ports busy....When the new horsepower came in,
this message returned....NO, it is not another TYMNET screwup...The
software options are the same....More when we find out!.


==========================
moderators/comm.problems #1677, from billyg, 280 chars, Fri Apr 17 10:02:24 1987
This is a comment to message 1672.
--------------------------
One of the I/O cards on the Arete' seems to have gone to sleep sometime
yesterday (geez, I take one day off and everything goes into the dumper!).
We've rebooted this AM with new hardware and communication problems seem to
have been resolved (sigh of relief ... crossed fingers).

==========================
moderators/comm.problems #1678, from dstock, 456 chars, Fri Apr 17 10:10:09 1987
This is a comment to message 1675.
There is/are comment(s) on this message.
--------------------------
> The log-on sequence had scrolled out of my buffer.

I use an old-fashioned tool called a "pen" to prevent this problem.  I write
down the link information as soon as it is printed.  Using a clever data
compression algoritm (a check mark for the usual TYMNET node), this can
usually be done with just six characters.  Besides, this gives me something to
do while the artsy "BIX" in asterisks is printing on my screen ... <-v^>

BIXilated as usual,
-- dan

==========================
moderators/comm.problems #1679, from ronlepine, 215 chars, Fri Apr 17 10:40:13 1
987
This is a comment to message 1678.
There are additional comments to message 1678.
--------------------------
I use a time honored method.  I let the computer write it to a file.  Do you
want to know the node, port, and time for my logins for the last 6 weeks.
I think that is about how long its been since I cleaned it out.

==========================
moderators/comm.problems #1680, from jdow, 362 chars, Fri Apr 17 22:36:23 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Jerry's right! (Not that I doubted all that much.)

Burbank node is atrocious compared to the node I usually use. Am on at Equicon
right now. I get dropped characters and trash characters. Either the bell system
in this area is trashed or the tymnet node. As this works long distance I
suspect someone needs to ride hard on the local phone company.
<@_@>

==========================
moderators/comm.problems #1681, from rcook, 44 chars, Sat Apr 18 02:06:29 1987
This is a comment to message 1678.
--------------------------
        Nice move if you think of it in time.
--RC

==========================
moderators/comm.problems #1682, from dmick, 222 chars, Sat Apr 18 03:01:51 1987
There is/are comment(s) on this message.
--------------------------
TITLE: In music/suggestions..
Did a comment, hit "a", nothing.  Tried ^Q, <CR>..nada.  Eventually got a
'please log in:' prompt from Tymnet.  No idea why I was dropped.  I'll have to
go check to see if my message made it.

==========================
moderators/comm.problems #1683, from dmick, 181 chars, Sat Apr 18 03:02:56 1987
This is a comment to message 1682.
--------------------------
Yup, the message made it.  I wasn't paused long enough for BIX to have logged
me off without seeing it, and I kept the same incarnation of comm pkg and 
Tymnet node.  Your guess...

==========================
moderators/comm.problems #1684, from waynerash, 1012 chars, Sat Apr 18 13:43:03 
1987
This is a comment to message 1655.
--------------------------
I'm convinced that it realy means that the Tymnet service crew forgot to
turn it on, or that they're out to lunch or something.  I have absolutely
no confidence in their ability to give accurate or useful information.
I'm convinced that they simply generate random error messages when they're
too busy to be bothered.

I should add that the experience with Tymnet on BIX has had one positive
aspect.  My company has chosen the packet service for communications with
its offices worldwide, as well as for communications with other remote
sites.  The constant demonstration of ineptitude, incompetence, technical
inability, and lack of even the slightest concern for service demonstrated
on BIX was a major factor in choosing another service.  I should add that
the abysimal level of service has been documented to the point that it will
play a prominent role in recommendations to our clients.  This is information
that we need, since we can't expect rational people to believe that Tymnet
is this bad otherwise.

==========================
moderators/comm.problems #1685, from comeau, 64 chars, Sun Apr 19 09:19:08 1987
--------------------------
TITLE: SLOW AND BURSTY
BIX is pretty slow and bursty right now.

==========================
moderators/comm.problems #1686, from greenber, 88 chars, Sun Apr 19 16:34:04 198
7
--------------------------
TITLE: Burtsy, Bouncy, Worse than before on
4515-0000.  I didn't catch the port number.

==========================
moderators/comm.problems #1687, from jerryp, 535 chars, Sun Apr 19 21:46:44 1987
This is a comment to message 1657.
There is/are comment(s) on this message.
--------------------------
Clearly I have intentionally wasted a lot of my time on this, and
the solution is obvious.
Thank    you for pointing out that all the problems are in my head.
I thought I was having real difficulties.

I was first told that you can't upload with XX unless you use half
dplex.     You now tell me full.  I was told the Sherman Oaks
number 789-9002 was particularly noisy so I stopped it and started
using the Burbank one.

  Clearly the remedy is for me to see a shrink since presumably I
am not having the trouble I think I am having.

==========================
moderators/comm.problems #1688, from greenber, 224 chars, Sun Apr 19 23:00:31 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: More problems.  Makes no difference what port, or what node.
4515 is the primary number.  Very bursty and as long as *ten* seconds
before I am seeing the characters I am currently typing.  This sucks,
boys and girls!

==========================
moderators/comm.problems #1689, from jerryp, 960 chars, Sun Apr 19 23:20:09 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Well I tried it

the result with these settings was inability to get even ONE block
in ; there were 25 consecutive errors.

                  ZDDDDD   CROSSTALK - XVI Status Screen  DDDDD?      On line

 NAme   fred                                     LOaded   C:VN.XTK
 NUmber 7899002                                  CApture  Off

ZDDDDDDDD Communications parameters DDDDDDDD?   ZDDDDDD Filter settings DDDDDDD?
 SPeed 1200   PArity None   DUplex  Full         DEbug    Off   LFauto   Off
 DAta  8      STop   1      EMulate None         TAbex    Off   BLankex  Off
 POrt  2                    MOde    Call         INfilter On    OUtfiltr On

ZDDDDDDDDDDDDDD Key settings DDDDDDDDDDDDDDD?   ZDDDD SEnd control settings DDD?
 ATten  7800                COmmand ETX (^C)     CWait    None
 SWitch Home                BReak   End          LWait    None

ZDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD?

what do I do NOW?

==========================
moderators/comm.problems #1690, from jerryp, 225 chars, Sun Apr 19 23:22:58 1987
There is/are comment(s) on this message.
--------------------------
TITLE: direct line to bix
617 number demands password when you try to login as bixtest
will try to upload as bix
withfull duplex
still trying to get the column ungarbled to New Hampshire.
I am sure this is a wonderful system

==========================
moderators/comm.problems #1691, from jerryp, 250 chars, Sun Apr 19 23:35:28 1987
There is/are comment(s) on this message.
--------------------------
TITLE: 617 bix
the 617 line using (^rBIX
full duplex
worked fine, only 2 errors in 6400 words (about 36 K file).

the 7899002 tymenet number did not work.
This is on the 617 direct; it seems clean and lively.
I'm sure all my problems are in my head.

==========================
moderators/comm.problems #1692, from pwasson, 575 chars, Mon Apr 20 01:22:12 198
7
This is a comment to message 1689.
There is/are comment(s) on this message.
There are additional comments to message 1689.
--------------------------
Jerry,  this is what I use with Mirror. Hope it helps!

ZDDDDDDDD Communications parameters DDDDDDDD?   ZDDDDDD Filter settings DDDDDDD?
 SPeed  1200  PArity Even   DUplex  Full         DEbug    Off   LFauto   Off
 DAta  7      STop   1      EMulate None         TAbex    Off   BLankex  Off
 POrt  2                    MOde    Call         INfilter On    OUtfiltr On

ZDDDDDDDDDDDDDD Key settings DDDDDDDDDDDDDDD?   ZDDDD SEnd control settings DDD?
 ATten  Esc                 COmmand ETX (^C)     CWait    None
 SWitch Home                BReak   End          LWait    None

==========================
moderators/comm.problems #1693, from cwills, 421 chars, Mon Apr 20 06:12:37 1987
This is a comment to message 1690.
There is/are comment(s) on this message.
There are additional comments to message 1690.
--------------------------
Jerry,
  You might want to try the bixup program found in the listings / telecom
section.  I think it works around some of the problems.  I have tried both
procomm and qmodem (both good PD comm packages BTW) to upload to BIX and had
poor success with both.  Both start running bad packets right from the start.
Bixup seems a little more tolerant though.

Good luck.

Cheyenne Wills

P.S. Did you try carrier piegon?
CCW.

==========================
moderators/comm.problems #1694, from dbetz, 286 chars, Mon Apr 20 08:11:15 1987
This is a comment to message 1687.
There is/are comment(s) on this message.
There are additional comments to message 1687.
--------------------------
You need to use half duplex if you are using 'bix' or 'byteneti'.  You
*can* use half duplex with 'bixtest', but it isn't necessary.  The 'bixtest'
code turns off echo before starting a protocol (like xmodem) transfer.  Using
half duplex with 'bixtest' won't hurt though.
   David Betz

==========================
moderators/comm.problems #1695, from dbetz, 234 chars, Mon Apr 20 08:13:43 1987
This is a comment to message 1689.
There is/are comment(s) on this message.
There are additional comments to message 1689.
--------------------------
Were you using 'bixtest' or just 'bix'?  When your program was sending a
block, could you tell if TYMNET was echoing it back (you should be able
to determine this by looking at the RD light on your modem while a block
is being sent)?

==========================
moderators/comm.problems #1696, from dbetz, 40 chars, Mon Apr 20 08:14:27 1987
This is a comment to message 1690.
There is/are comment(s) on this message.
--------------------------
The 'bixtest' login is only for TYMNET.

==========================
moderators/comm.problems #1697, from comeau, 94 chars, Mon Apr 20 09:15:06 1987
--------------------------
TITLE: Slow
Bix is still slow since yesterday.  Is this only a NYC problem?
Node is 4515-040.

==========================
moderators/comm.problems #1698, from billn, 204 chars, Mon Apr 20 10:24:39 1987
--------------------------
TITLE: Screaming UUUUUUUU
At 7:54 PDT on node 3604-000 I was dropped off after the screaming Us
hit.  I had been on line for approx 1.5 hrs and was commenting to a
message in utilities/programmers.
BillN

==========================
moderators/comm.problems #1699, from ronlepine, 565 chars, Mon Apr 20 11:45:37 1
987
This is a comment to message 1687.
There is/are comment(s) on this message.
There are additional comments to message 1687.
--------------------------
Jerry, The only way to upload XX with Crosstalk is using bixtest.  Once in
bixtest it makes no difference if you are using half or full duplex.  I do 
know if you want the other things bixtest does such as no echo of password 
to your screen you should use half duplex.  I almost always use 8-n-1-1200
and have no problems with Crosstalk XVI 3.61 transfers.  We do not 
believe you are having no problems.  If you aren't and are crying so 
loud, and long you would have a problem.  There is something wrong with
your path/setup that IS apprently hard to duplicate.

==========================
moderators/comm.problems #1700, from ronlepine, 68 chars, Mon Apr 20 11:48:35 19
87
This is a comment to message 1691.
There is/are comment(s) on this message.
--------------------------
The direct line does work fine with any com package that I know of.

==========================
moderators/comm.problems #1701, from ronlepine, 280 chars, Mon Apr 20 11:51:56 1
987
This is a comment to message 1694.
There are additional comments to message 1694.
--------------------------
Crosstalk which is what jerry is using will not upload when logged on through
either bix or byteneti in full or half duplex.  And some programs can upload
with that path either full or half duplex.  

Using half duplex will help many comm programs and therefore is the safer bet.

==========================
moderators/comm.problems #1702, from ronlepine, 76 chars, Mon Apr 20 11:53:01 19
87
This is a comment to message 1695.
There are additional comments to message 1695.
--------------------------
The symptoms he described were that of using bix or byteneti.  Not bixtest.

==========================
moderators/comm.problems #1703, from lockwood, 24 chars, Mon Apr 20 12:56:09 198
7
This is a comment to message 1680.
There is/are comment(s) on this message.
--------------------------
That's 846-9235, right?

==========================
moderators/comm.problems #1704, from lockwood, 447 chars, Mon Apr 20 13:13:37 19
87
This is a comment to message 1687.
--------------------------
Not at all. You have had continuing problems. Many weeks ago Sherman Oaks
was troubling you. 
  You have had continuing problems with Crosstalk. I explained every 
angle of it. Thus, if you have further troubles, you will know that Crosstalk
works with BIXtest if it is set as I described.
  I don't think that you mentioned that you were calling through
Burbank in message 1649. I thought you were still using Sherman Oaks.
Clearly I was wrong. 

==========================
moderators/comm.problems #1705, from jerryp, 181 chars, Mon Apr 20 13:43:47 1987
This is a comment to message 1693.
--------------------------
I'm thinking of pigeons, or even snails...
thanks for the help.  I suspect I'm changing to hyperaccess when I 
et up the new COmpuAdd with Cheetah 386; maybe that will work better.

==========================
moderators/comm.problems #1706, from jerryp, 64 chars, Mon Apr 20 13:44:16 1987
This is a comment to message 1694.
There is/are comment(s) on this message.
--------------------------
last time I tried to log on to bixtest it asked for a password.

==========================
moderators/comm.problems #1707, from jerryp, 177 chars, Mon Apr 20 13:45:18 1987
This is a comment to message 1695.
There is/are comment(s) on this message.
--------------------------
alas IO h
Alas I have an internal modem, no blinking lights; probably should.
Does anyone have a notion of how you connect a 9-pin serial port to
a 25-pin external modem? Sigh.

==========================
moderators/comm.problems #1708, from jerryp, 112 chars, Mon Apr 20 13:46:01 1987
This is a comment to message 1696.
--------------------------
thanks.  I hadn't realized that.
I believe the column got through fine under "bix" in the 617
number this time.

==========================
moderators/comm.problems #1709, from jerryp, 406 chars, Mon Apr 20 13:48:46 1987
This is a comment to message 1699.
There is/are comment(s) on this message.
--------------------------
I think I have a problem; and I do not much appreciate messages that
say that I don't; when I get the kind of thing tht says "well, I 
tried it, and it worked fine" (and HOW HOW HOW did he manage to
do an upload at FULL if you say it can't be done) then I tend to
react, uh, strongly.
    I think I'll just continue to use 617 for important stuff;
it does sem to work although some nights it's very noisy.

==========================
moderators/comm.problems #1710, from jerryp, 110 chars, Mon Apr 20 13:49:18 1987
This is a comment to message 1700.
--------------------------
works fine direct IF: sometimes you get a very noist line, and redialing several
times doesn't always fix it.

==========================
moderators/comm.problems #1711, from jdow, 259 chars, Mon Apr 20 14:24:39 1987
This is a comment to message 1703.
--------------------------
Right. Was kinda bad for a period of time when I first started using it.
Then it settled  I think it was the specific line out off the hotel
that we got when we dialed out. Phone co maintenance out thataway seems to
be a tad er sloppy or slipshod.
<^_^>

==========================
moderators/comm.problems #1712, from lockwood, 541 chars, Mon Apr 20 14:40:41 19
87
This is a comment to message 1689.
There is/are comment(s) on this message.
--------------------------
Son o' gun. It worked just fine for me. 
  Is your modem cable in good order? Maybe a little stray solder or 
a wiggly pin or two?
  Is your modem set for the Hayes command set rather than its own (if
applicable)? You wouldn't happen to have a PBX at Chaos Manor now, would you?
A PBX is said to give Tymnet fits.
  Is your modem well ventilated? Can you switch to another port on your
computer (i.e., go to Port 1)?
  Do you have any large electrical devices running nearby? 
   Have you thought about bringing your whole setup to Lourdes?

==========================
moderators/comm.problems #1713, from lockwood, 200 chars, Mon Apr 20 14:45:18 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: Burbank
I'm on through Burbank now, and have been for the last 20 minutes or so,.
It seems okay. Let me know if there are any problems. My guess is that
Tymnet found and fixed whatever it was.

==========================
moderators/comm.problems #1714, from lockwood, 98 chars, Mon Apr 20 15:00:45 198
7
This is a comment to message 1707.
There is/are comment(s) on this message.
There are additional comments to message 1707.
--------------------------
You can get a cable that'll do the trick for you. It'll probably run
you a million bucks, though.

==========================
moderators/comm.problems #1715, from lockwood, 164 chars, Mon Apr 20 15:13:40 19
87
This is a comment to message 1709.
There is/are comment(s) on this message.
--------------------------
I see no need to respond to this beyond saying that I never said that 
you did not have any problems. I merely told you that it worked
for me twice and here's how.

==========================
moderators/comm.problems #1716, from lockwood, 135 chars, Mon Apr 20 15:15:55 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: NYC
I'm on through NYC right. It was a little jerky at first, but it seems
to be cruising right now. 
   Any further problems? 

==========================
moderators/comm.problems #1717, from jdow, 1080 chars, Mon Apr 20 15:25:56 1987
This is a comment to message 1715.
There is/are comment(s) on this message.
There are additional comments to message 1715.
--------------------------
I'm getting a little tired of everyone getting so upset here. Let's do some
simple minded fault isolation here.

Jerry obviously has problems with bix/tymnet. He apparently does not have the
problem when calling CIS or other services. If the fault free service is
also through tymnet then something about the tymnet to bix linkage does not
like his nodes as it equally obviously works just fine for others. Tony,
however, reports that Burbank and Sherman Oaks work just fine for him
long distance.

Since Jerry seems to have clean lines to other services or calling Lexington
direct we can surmise that the lines from his home to the local exchange
are fine. Since tymnet seems to be OK long distance we can also surmise the
line from tymnet's exchange to its machinery is equally in good order. That
leaves the trunk lines between Jerry's exchange and tymnet's.

Now - what can be done about THAT interface? Carping HERE isn't going to 
change any *#@(&^* thing. Let's direct bitching to people who might be able to
actually DO something, the phone company or the PUC. OK?
<#_#>

==========================
moderators/comm.problems #1718, from dbetz, 291 chars, Mon Apr 20 15:44:43 1987
This is a comment to message 1706.
--------------------------
Please try 'bixtest' again.  If it continues to prompt you for a password,
let me know and I'll try to track down what is wrong.  Also, 'bixtest' is
what you type at the TYMNET login prompt.  It won't work from the unix
login prompt (and will end up asking for a password as you described).

==========================
moderators/comm.problems #1719, from jerryp, 467 chars, Mon Apr 20 16:10:22 1987
This is a comment to message 1712.
There are additional comments to message 1712.
--------------------------
Internal modem; no cable
Line is direct; there is a TIE phone system, but this line is a direct
line that is upstream of where the phones connect to the TIE system

Modem is internal, ventilated as well as anything else in the Z-248

No large electrical devices other than 20 computers

Lourdes is one option; new modem is another; but I had the same 
problems with the modem built in to the Z-181, which is what I 
finally used to send at least one iteration with.


==========================
moderators/comm.problems #1720, from jerryp, 216 chars, Mon Apr 20 16:11:26 1987
This is a comment to message 1713.
--------------------------
I certainly have not had noise since I logged on a few minutes ago;
first time in a long time I haven't.  Of course I'm using 
Sherman Oaks/Van nuys rather than Burbank...
  Could it be that they've fixed something?

==========================
moderators/comm.problems #1721, from jerryp, 61 chars, Mon Apr 20 16:12:13 1987
This is a comment to message 1715.
There is/are comment(s) on this message.
--------------------------
my apologies, but it did seem --
skip it.  thanks for advice

==========================
moderators/comm.problems #1722, from comeau, 164 chars, Mon Apr 20 16:31:15 1987
This is a comment to message 1716.
There is/are comment(s) on this message.
--------------------------
It's alot less jerky, but I'm getting line noise like crazy.
Same thing this morning along with the burstiness.
How's you line(s) Ross?  I'm on 4515-072 right now.

==========================
moderators/comm.problems #1723, from waynerash, 417 chars, Mon Apr 20 16:34:15 1
987
This is a comment to message 1707.
There is/are comment(s) on this message.
There are additional comments to message 1707.
--------------------------
You can get modem cables now that work with the 9-pin AT serial ports.
I think they're about 20 bucks at Heathkit, 30 at Computerland.
They also make an adapter cable that's about a foot long and is
available from some computer suppliers.  I have a couple of each,
and I seem to recall that I got one of the cables at Heathkit.
You have to ask for a modem cable for the Z-248, or sometimes the
help is a little slow.

==========================
moderators/comm.problems #1724, from greenber, 94 chars, Mon Apr 20 17:25:33 198
7
This is a comment to message 1722.
--------------------------
com
Right *now* the lines seem less jerky than before.  Still a bit of
hem and haw though....

==========================
moderators/comm.problems #1725, from mlavelle, 77 chars, Mon Apr 20 19:07:25 198
7
This is a comment to message 1714.
There is/are comment(s) on this message.
--------------------------
aw, c'mon - your average semi-honest dealer wouldn't charge more than $50...

==========================
moderators/comm.problems #1726, from dmick, 136 chars, Mon Apr 20 21:46:50 1987
This is a comment to message 1707.
There is/are comment(s) on this message.
There are additional comments to message 1707.
--------------------------
I've got a cable to do just that.  Would you like the pin-to-pin description?
BIXmail me the gender of your modem connector and I will.

==========================
moderators/comm.problems #1727, from dmick, 206 chars, Mon Apr 20 21:49:23 1987
This is a comment to message 1723.
--------------------------
The one we made works like a champ on the 248 with our Signalman modem or
7475A plotter.  It's easy to make if you've ever soldered on DB connectors
before (there's a little flair with tinning, etc there.)

==========================
moderators/comm.problems #1728, from lnoland, 721 chars, Tue Apr 21 00:02:00 198
7
This is a comment to message 1717.
There is/are comment(s) on this message.
--------------------------
Maybe the phone company has deliberately avoided performing needed maintenance
on the trunk group which services the Tymnet node in that area.  Not pointing
any fingers but then again there is such a thing as competition in the phone
industry these days and the local operating companies have been attempting
to get permission to expand their services, or so I understand.

Of course, even were this true (and it probably isn't), Tymnet should be
monitoring the level of service they are getting in their area (particularly
after all the trouble reports Jerry has made) and they should take it on
themselves to confront the phone company regarding any problems.

     Just a bit of paranoia to ponder.

     - Les Noland

==========================
moderators/comm.problems #1729, from jerryp, 155 chars, Tue Apr 21 03:29:19 1987
This is a comment to message 1726.
--------------------------
thanks but I guess I'll go buy one at Radio Shack or wherever.
I could use an adapter too.
INMAC for that matter ought to have them; I didn' think of them

==========================
moderators/comm.problems #1730, from comeau, 148 chars, Tue Apr 21 09:07:22 1987
There is/are comment(s) on this message.
--------------------------
TITLE: NYC
Tony.  I see you logged on right now.  Although tolerable, NY is still bursty.
My current node is 4516-105.  The tel no is 212-943-4700.

==========================
moderators/comm.problems #1731, from dstock, 192 chars, Tue Apr 21 11:07:03 1987
This is a comment to message 1692.
--------------------------
> Mirror status screen, Crosstalk status screen

Um ... aren't these screens that were posted here copyrighted?  Should
1689 and 1692 therefore be yanked?  See law/texts #26 to #28 ...
-- dan

==========================
moderators/comm.problems #1732, from lockwood, 1236 chars, Tue Apr 21 12:17:35 1
987
This is a comment to message 1712.
There is/are comment(s) on this message.
--------------------------
During the wee hours this morning, I was thinking about your problems here,
Jerry. Then I remembered a guy that couldn't donwload anything with the
same version of Procomm that I use. We had gone over every single setting.
I (and George) had downloaded over his Tymnet node, and he swore that there
was nothing around to disrupt things.
  Luckily, I found that we had the same modem as he was using (I should
have mentioned that he had an IBM PC like mine). I fiddled with
the modem and got it to work.
   I don't have access to your type of modem, but you may want to try
this: Set Crosstalk for Half-duplex, 8 bits, 1 stop, no parity. At the
Tymnet Please Login prompt, enter bixtest and a Control-H. This forces
Tymnet into half-duplex. (Crosstalk's half-duplex setting lets you
see what you are doing after you enter the Control-H.)
  Upload to BIX using Crosstalk's XX command and BIX's X protocol.
  This just worked over the Burbank number on a 1393-block file. I did,
however, have 14 errors, 9 of which happened at one spot.
   The more I think about it, the less I trust your modem. I'm certain
that Crosstalk, bixtest, and both Tymnet nodes are working.
  I wish that I could figure it out. Maybe this will do it. I dunno...

==========================
moderators/comm.problems #1733, from lockwood, 127 chars, Tue Apr 21 12:24:35 19
87
This is a comment to message 1732.
There are additional comments to message 1732.
--------------------------
In light of a previous message (I forget the number; about similiar
problems with the Z-181), this probably won't work either.

==========================
moderators/comm.problems #1734, from lockwood, 150 chars, Tue Apr 21 12:26:47 19
87
This is a comment to message 1730.
There is/are comment(s) on this message.
--------------------------
I'm not sure if that's Tymnet or BIX. We just came back up. I got the node,
port numbers. I'll try it again. I'll also try to figure out what's what.

==========================
moderators/comm.problems #1735, from lockwood, 112 chars, Tue Apr 21 12:34:12 19
87
This is a comment to message 1721.
--------------------------
Naw, don't apologize. My skin is no thicker than yours. Forget it.
i just want to figure this danged thing out.

==========================
moderators/comm.problems #1736, from comeau, 145 chars, Tue Apr 21 12:53:46 1987
This is a comment to message 1734.
--------------------------
Thanks.

BTW, it's still the same.   The burstness is just on the verge of being
tolerable most of the time.  But with the dang noise, it's not.

==========================
moderators/comm.problems #1737, from jerryp, 514 chars, Tue Apr 21 13:33:13 1987
This is a comment to message 1732.
--------------------------
this modem will be history next week, as soon as I test the newest one, so
that problem will be solved; but since oneof my "one error per block"
uploads was done with the z-181 and its internal modem, both of which
and the phone line all worked fine with mci mail-- I dunno.  I do have
some reason to believe this modem is going.

When I get a nine-pin cable I'll try the external modem with blinking
lights and see if I can get a positive diagnosis.

Meanwhile it does seem that 617 works; and I can afford that.

==========================
moderators/comm.problems #1738, from jerryp, 428 chars, Tue Apr 21 13:35:31 1987
--------------------------
TITLE: direct vs tymenet
direct is definitely faster; and by a LOT.  Not only not bursty, but
just faster in general; I can read messages about as fast as they
print through tymenet but direct 1200 gets ahead of me.
  I'd guess -- and it's pure guess, although I could do some tests --
that the effective rate througyh tymenet when it is working right is 
no greater than 1000 as opposed to real 1200 when 617 is working right.

==========================
moderators/comm.problems #1739, from jerryp, 238 chars, Tue Apr 21 13:36:37 1987
--------------------------
TITLE: Incidentally:
since my hideous experience last week, the line noise has been MUCH LESS, almost
none at all.  I ought to try uploading...
  Could it be that someone got the message and tuned things?
Whatever it is, it sure is nice.

==========================
moderators/comm.problems #1740, from ronlepine, 496 chars, Tue Apr 21 18:01:44 1
987
This is a comment to message 1707.
--------------------------
Jerry, You can get simulated lights with Crosstalks debug.  The command is
"DE RS" and look at the right side of the status line.  You have simulated
2,3,4,5,6,7(a do nothing for ref),8,20 lines. On my color screen
the contol chars that get sent out and echoed are in reverse video red and
green when a normal char is sent out.  All other lines show as reverse 
green (on my screen) and show a "-" if inactive or the line number if active.
Docs for the command are on page 4 of the 3.6 addendum.

==========================
moderators/comm.problems #1741, from skluger, 227 chars, Tue Apr 21 20:17:57 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: noise
Lots^ of noise, dropped ^characte^rs.  ets worse 7P^en I type@^fast, n%:er
drops receiving, only my typing O^ets garbl3d.  I'll try to enter node/port
i6fo withok^t n_^ise...
                TYMNQT 0552-003 BIX 26, fulX^ duplex

==========================
moderators/comm.problems #1742, from skluger, 79 chars, Tue Apr 21 20:20:16 1987
--------------------------
TITLE: other port

On through 3410-011, same BIX port, seems to be noise free.

==========================
moderators/comm.problems #1743, from waynerash, 35 chars, Tue Apr 21 20:31:54 19
87
This is a comment to message 1728.
There is/are comment(s) on this message.
There are additional comments to message 1728.
--------------------------
Tymnet?  Monitor?  You're kidding.

==========================
moderators/comm.problems #1744, from lnoland, 143 chars, Wed Apr 22 01:16:00 198
7
This is a comment to message 1743.
--------------------------
Hmm... I was a bit ambiguous there.  When I said "should", I meant it in
the sense of "ought" as opposed to "probably are".

     - Les Noland

==========================
moderators/comm.problems #1745, from lockwood, 26 chars, Wed Apr 22 08:14:43 198
7
This is a comment to message 1741.
--------------------------
good grief! I'm on to it.

==========================
moderators/comm.problems #1746, from lockwood, 108 chars, Wed Apr 22 11:34:44 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: 
I have been in contact with Tymnet about Burbank and NYC. They have opened
trouble tickets on them.

==========================
moderators/comm.problems #1747, from lockwood, 482 chars, Wed Apr 22 11:38:16 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: Help a fellow American
Tymnet appears to be eliminating the node numbers except for internal use.
I presume that the numbers will still appear after you enter your terminal
identifier. The node numbers are not, however, listed in the database
available on Tymnet.
  Thus, when you report trouble with a node and port number, please provide
me with the telephone number as well. There was one node reported this 
morning that I could not locate on my node list.^[
  Thank you.

==========================
moderators/comm.problems #1748, from jerryp, 91 chars, Wed Apr 22 14:13:20 1987
This is a comment to message 1746.
--------------------------
something happened.  All is 
all is MUCH better in the last week or so.
thanks, whoever...

==========================
moderators/comm.problems #1749, from lockwood, 254 chars, Wed Apr 22 14:27:21 19
87
--------------------------
TITLE: Burbank
Tymnet is going to reload the software in its Burbank node tonight. They
believe that there is software trouble there. 
  This is a warning. Just in case any of you have a bad night on there.
  They haven't found anything in NYC just yet.

==========================
moderators/comm.problems #1750, from miker, 66 chars, Wed Apr 22 14:33:28 1987
This is a comment to message 1688.
--------------------------
Delayed echo is a node problem...TYMNET and HOTLINE take Note!!!.

==========================
moderators/comm.problems #1751, from skluger, 159 chars, Wed Apr 22 14:36:22 198
7
This is a comment to message 1747.
There is/are comment(s) on this message.
--------------------------
Interesting.  I always wondered why their customer service never asked for node
numbers but assumed they think people are stupid and don't know such things...

==========================
moderators/comm.problems #1752, from skluger, 104 chars, Wed Apr 22 14:46:02 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: TYMNET node just died
805-529-0890 just died 5 minutes ago, no answer.   818-789-9002 is working

==========================
moderators/comm.problems #1753, from lockwood, 209 chars, Wed Apr 22 14:52:35 19
87
This is a comment to message 1751.
There is/are comment(s) on this message.
--------------------------
I cannot say that for certain, but it sure seems that way. Most people
do not pay attention to the node nubers, so I bet the Tymnet customer
service folks just stopped asking (unless they are new to the job).

==========================
moderators/comm.problems #1754, from miker, 601 chars, Wed Apr 22 15:06:55 1987
There is/are comment(s) on this message.
--------------------------
TITLE: This topic
This topic was originally set up to solict trouble reports from
moderators on communications facilites...TYMNET is looking over 
this topic to see how they are doing....While many of these messages
are valid discussions of communications related issues, they are
not directly facilities related...We have communications engineers
reviewing all the messages....Can we set up another topic to
discuss sortware related issues??? I would like to
have this topic for short and sweet trouble reports....If there
are further discussions required, could we set up another topic
for them????

==========================
moderators/comm.problems #1755, from lockwood, 119 chars, Wed Apr 22 15:09:38 19
87
This is a comment to message 1752.
There is/are comment(s) on this message.
--------------------------
Contacted Tymnet.  Network field engineers are on their way to see
what happened. They'll call me when they know more.

==========================
moderators/comm.problems #1756, from miker, 338 chars, Wed Apr 22 15:11:10 1987
This is a comment to message 1725.
There is/are comment(s) on this message.
--------------------------
If Jerry or any moderator feels that they need some new cables
to cure a problem, I will provide them for FREE!. Just send me
BIXMAIL and tell me what you need and how to pin them....Gender etc..
Lets not argue cables....Overnite service of course!.
We support the moderators....
BTW..If you want colored cables, there will be a charge..

==========================
moderators/comm.problems #1757, from miker, 267 chars, Wed Apr 22 15:13:48 1987
This is a comment to message 1728.
--------------------------
THE local phone cmpanies are putting in INTRA-LATA packet networks,
TYMNET is not used for INTRA-LATA networking..TYMNET is working
out gateways with these companies.....TYMNET.....What arrangements
have been set up, and how do we get the information to our users???

==========================
moderators/comm.problems #1758, from miker, 223 chars, Wed Apr 22 15:23:38 1987
This is a comment to message 1753.
There are additional comments to message 1753.
--------------------------
I wouldn't make any assumptions about why they are not asking for
node numbers......I think that TYMNET customer support will read this
mesage, and check out their staff...The number is essential for
problems tracking....!

==========================
moderators/comm.problems #1759, from lockwood, 259 chars, Wed Apr 22 15:40:18 19
87
This is a comment to message 1753.
There is/are comment(s) on this message.
--------------------------
Permit me to correct myself. The node numbers are still available if you
get a directory of all access numbers by state. There is no longer a list
sorted by node number.
  I generally give the node number when I report the problem. I do not
wait to be asked.

==========================
moderators/comm.problems #ge 1753.
Thockwood, 62 chars, Wed Apr 22 15:41:58 198
7
This is a comment to message 1755.
There are additional comments to message 1755.
--------------------------
That line should be back up now. Just got a call from Tymnet.

==========================
moderators/comm.problems #1761, from skluger, 18 chars, Wed Apr 22 15:47:40 1987
This is a comment to message 1755.
--------------------------
It's alive again.

==========================
moderators/comm.problems #1762, from jerryp, 153 chars, Wed Apr 22 15:56:08 1987
This is a comment to message 1756.
There is/are comment(s) on this message.
--------------------------
I could sure use a cable that woudl connect a Hayes compatible
external modem with an AT DB-9.
But I expect Computerland down the street can sell me one

==========================
moderators/comm.problems #1763, from barryn, 185 chars, Wed Apr 22 17:28:03 1987
There is/are comment(s) on this message.
--------------------------
TITLE: I just got one of these:

-2357-003-
please log in: bix

host shut NODE #7701
please log in: bix

P  5
LDS   LEXINGTON DATA SERVICES IS ON-LINE


(this with 24 users logged on.)

==========================
moderators/comm.problems #1764, from rcook, 166 chars, Wed Apr 22 21:47:02 1987
This is a comment to message 1754.
There is/are comment(s) on this message.
--------------------------
        The problem is, Mike, us peons can't always distinguish between
a software problem and a Tymnet problem. All we know is the furshlunger
thing don't work right.
--RC

==========================
moderators/comm.problems #1765, from dweb, 414 chars, Wed Apr 22 22:17:00 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Herky Jerky
Am on via the Princeton NJ Tymnet node tonight and BIX seems to be back
to the stop and go performance that caused so many complaints a couple of
weeks ago.  Is anybody else seeing it.  It's not obnoxious, but still
frustrating to have things scroll out then suddenly stop in mid-word,
hang for 2-3 seconds and then start again.  Sometimes its in headers and
other times in mid-text of message.

==========================
moderators/comm.problems #1766, from greenber, 53 chars, Wed Apr 22 22:19:05 198
7
This is a comment to message 1765.
There is/are comment(s) on this message.
--------------------------
It's NJ.  It makes everything a little slower... :-)

==========================
moderators/comm.problems #1767, from condorwizard, 238 chars, Thu Apr 23 02:07:0
1 1987
This is a comment to message 1766.
--------------------------
        >Herky Jerky
Its been like that in California since about 5 this afternoon, out time.  I had
to quit then and now that i'm back on a midnight, it isn't much better.  At
least the packets seem to be bigger than they were a few weeks ago.

==========================
moderators/comm.problems #1768, from a.lane, 98 chars, Thu Apr 23 07:27:13 1987
There is/are comment(s) on this message.
--------------------------
TITLE: I keep getting host shut node #7701, and would like to know...
is this legit?
   Cheers...

==========================
moderators/comm.problems #1769, from billyg, 117 chars, Thu Apr 23 07:49:09 1987
This is a comment to message 1768.
--------------------------
Hmmm, I just dialed in and got Node 7701 P1.  There are currently 12 BIXen on
7701.  I'll keep an eye on it, though.

==========================
moderators/comm.problems #1770, from lockwood, 60 chars, Thu Apr 23 08:42:07 198
7
This is a comment to message 1763.
--------------------------
It seems okay now (7701) is us. We're keeping an eye on it.

==========================
moderators/comm.problems #1771, from comeau, 82 chars, Thu Apr 23 09:26:02 1987
--------------------------
TITLE: NYC
Got little line noise yesterday.

Getting no line noise or bursts now.

==========================
moderators/comm.problems #1772, from miker, 107 chars, Thu Apr 23 11:51:53 1987
This is a comment to message 1759.
There is/are comment(s) on this message.
--------------------------
I have a PARADOX database containing all the node numbers...It is
not up to date, but I can get you one...

==========================
moderators/comm.problems #1773, from miker, 87 chars, Thu Apr 23 11:52:52 1987
This is a comment to message 1762.
--------------------------
I am sure they can...I will not bend your arm to take my cable!
Nor tickle you ribs...

==========================
moderators/comm.problems #1774, from miker, 324 chars, Thu Apr 23 11:55:10 1987
This is a comment to message 1764.
--------------------------
Granted....I think many discusssions should start here....When they
get to a point of being software or machine specific related, and not
requiring immediate action by communications facilities folk, they
discussion should more off. The less extra we give the technicans to
read, the more often they can check the topic....

==========================
moderators/comm.problems #1775, from comeau, 80 chars, Thu Apr 23 13:31:28 1987
There is/are comment(s) on this message.
--------------------------
TITLE: NoisY City
I'm getting excessive line noise on 4515-114 . 212-943-4700.


==========================
moderators/comm.problems #1776, from lnoland, 132 chars, Fri Apr 24 00:04:26 198
7
--------------------------
TITLE: Screaming UUU's

Dumped me about 5 or 10 minutes ago.  Node 6775-010, Port 5,
Tymnet Phone # (312)844-1800.

   - Les Noland

==========================
moderators/comm.problems #1777, from pls, 68 chars, Fri Apr 24 01:23:09 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Tymenet and MNP??
Does anyone know if Tymenet supports MNP??

==========================
moderators/comm.problems #1778, from billn, 237 chars, Fri Apr 24 08:31:05 1987
This is a comment to message 1777.
There are additional comments to message 1777.
--------------------------
Tymnet supports X.PC, not MNP which is a modem makers protocol.  They
are not exactly comparable as X.PC handles up to 15 concurrent streams
where MNP is a single stream (to my knowledge) checking protocol handled
by modems alone.
BillN

==========================
moderators/comm.problems #1779, from lockwood, 224 chars, Fri Apr 24 08:32:18 19
87
This is a comment to message 1772.
--------------------------
Yeah, if you could Mike. My problem is that every so often folks give me
the node and port number but not the phone number. I then refer to the
list of nodes I have and discover that it's not there. 
  Thanks for the offer.

==========================
moderators/comm.problems #1780, from lockwood, 167 chars, Fri Apr 24 08:38:30 19
87
This is a comment to message 1775.
There is/are comment(s) on this message.
--------------------------
Tymnet replaced a couple of modems there after your last report. I advised
them that -114 was also reported noisy. They will look into it and replace it
if necessary.

==========================
moderators/comm.problems #1781, from comeau, 13 chars, Fri Apr 24 08:40:19 1987
This is a comment to message 1780.
--------------------------
Thanks Tony!

==========================
moderators/comm.problems #1782, from miker, 12 chars, Fri Apr 24 08:51:45 1987
This is a comment to message 1777.
--------------------------
Yes...No...

==========================
moderators/comm.problems #1783, from billn, 766 chars, Fri Apr 24 10:00:53 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Something Nice
In contrast to earlier epochs, the current responsiveness of Tymnet is
refreshing to say the least.  Too bad it took 18 months to get their
attention.  Another item of note:  Downloads I've done since the 'great
reconfiguration' have averaged 5 to 10 cps faster under Xmodem.  Delays
are now infrequent and most waits are at topic and conference boundaries,
and when doing an 'original' back reference.

As good as the situation is today, it'll be a long time before I forget
how much grief their incompetence caused BIX and the users.  One good
month does not make up for 18 bad ones.  I appreciate the improvement
but but frankly, I wouldn't have given them 18 months to shape up.
Hopefully we've seen the last of that set of problems.
BillN

==========================
moderators/comm.problems #1784, from jimomura, 10 chars, Fri Apr 24 10:02:18 198
7
This is a comment to message 1783.
There are additional comments to message 1783.
--------------------------
(Agreed.)

==========================
moderators/comm.problems #1785, from lockwood, 300 chars, Fri Apr 24 10:08:59 19
87
This is a comment to message 1783.
There is/are comment(s) on this message.
--------------------------
I'll have to take a large bite of the incompetence crow. Many of the
problems were due to my inability to understand exactly what was
going wrong and exactly what could (and could not) be done about it. 
  Further, I prefer to consider the past the BIX Stone Cops with
myself playing a leading role.

==========================
moderators/comm.problems #1786, from billn, 573 chars, Fri Apr 24 10:37:30 1987
This is a comment to message 1785.
--------------------------
Somehow I don't see Tony in a leading role in the 'Tymnet Keystone
Cops' routine that we endured for so long.  There was an almost total
lack of customer support during that period.  I don't see the requirement
that the customer must employ an X.25 expert to effectively hook up
to a 'service'.  Service is the key word here and Tymnet's ranged from
nonexistent up to terrible.

The fault lies not with BIX, nor BIX staff, but the operators of the
'service'.  Suggest strongly they view the Tom Peters video "The 
Forgotten Customer" from "A Passion for Excellence".
BillN

==========================
moderators/comm.problems #1787, from gbond, 361 chars, Fri Apr 24 13:46:02 1987
--------------------------
From: eva@BYTECOSY
Date: Fri, 24 Apr 87 13:27:07 EST
To: gbond@BYTECOSY
Message-Id: <memo.48753@BYTECOSY>
Subject: knocked off

George,
   I was just knocked off Bix while I was in the editor.  I called
617 861-9767 to get on.  Happened at 2:22 PM on Friday.  Don't know if
you're interested in hearing about such things.  Just ignore it if you are
not.
---Eva

Joining next active topic.
Joining conference 'moderators', topic 'on.call'. 2 new message(s).
This topic is READ ONLY
Read:all
==========================
moderators/on.call #4, from gbond, 242 chars, Fri Apr 24 09:38:41 1987
--------------------------
TITLE: Weekend beginning 4/24/87
I'm on duty this weekend, but will be around only Friday and Sunday.
Tony has agreed to fill in on Saturday.

My phones are 603-924-6022 (home) and 603-924-7323 (weekend office).
Tony's is 603-525-4056 (home)

==========================
moderators/on.call #5, from gbond, 177 chars, Fri Apr 24 13:44:08 1987
--------------------------
TITLE: Tonight
Our regular customer service person got sick, so I will be covering the 800 line
s
tonight. If you need to get me from 8 p.m. to 11 p.m., use 800-227-BYTE.
George

Joining next active topic.
Joining conference 'System.News', topic 'general'. 9 new message(s).
This topic is READ ONLY
Read:all
==========================
System.News/general #232, from gbond, 178 chars, Fri Apr 17 13:37:56 1987
--------------------------
TITLE: Text of the Crosstalk vs Mirror court ruling
Full text of the court ruling in the Crosstalk vs Mirror clone case
can be found in the law conference, texts #26, 27 and 28.

==========================
System.News/general #234, from sysmgr, 268 chars, Tue Apr 21 12:54:06 1987
--------------------------
Create printed-circuit board layouts on your Macintosh. See
microbytes.sw, apple2_mac, number 329.

Designed as an aid to the handicapped, the Home Automation Link can
control your home using your computer and voice commands. See 
microbytes.hw, add-ins, message 309.

==========================
System.News/general #235, from sysmgr, 256 chars, Tue Apr 21 12:54:47 1987
--------------------------
TITLE: Welcome Cheetah International
 
BIX is pleased to welcome Cheetah International, makers of a
variety of add-in boards for the IBM PC and other computers, to
the vendor.support group.
 
To enroll in this conference, type "join cheetah."
 
Welcome!
 

==========================
System.News/general #236, from sysmgr, 282 chars, Wed Apr 22 08:21:18 1987
--------------------------
Radius' 68020 upgrade for the Macintosh Plus and 512 Enhanced is easy
to install and has a few unique features. See microbytes.hw, add-ins,
message number 310.

Ever had the urge to fiddle directly with MS-DOS/PC-DOS files? If so,
see microbytes.sw, ibm_msdos, message number 1177.

==========================
System.News/general #237, from sysmgr, 197 chars, Wed Apr 22 09:23:48 1987
--------------------------
TITLE: Welcome Komputerwerk
BIX is pleased to welcome Komputerwerk Inc to our vendor.support group.

Komputerwerk produces the Finally! line of software products.

Type join komputerwerk

Welcome!

==========================
System.News/general #238, from sysmgr, 289 chars, Thu Apr 23 11:15:52 1987
--------------------------
Instinct, a drawing program that runs in the Microsoft Windows
environment, is highlighted in microbytes.sw, ibm_msdos, number 1185.

Analytical chemists can keep their pH straight with a new add-on
electrode system for PCs and compatibles. See microbytes.hw,
add-ins, message number 312.

==========================
System.News/general #239, from sysmgr, 402 chars, Fri Apr 24 10:17:07 1987
--------------------------
A speed-up card for the Commodore 64 has been announced by
Swisscomp Inc. See microbytes.hw, add-ins, message #313.
 
Public-domain software for the Commodore 64/128, Apple II, IBM PC,
Amiga, and Atari is available from Schneider Software. Read what's
available for your computer in microbytes.sw, other.sw, message 129;
Apple2_mac, number 339; ibm_msdos, message 1201; or atari.st_amiga,
message 102.

==========================
System.News/general #240, from sysmgr, 194 chars, Fri Apr 24 11:23:14 1987
--------------------------
TITLE: Welcome Vermont Creative Software
The newest member of the BIX Vendor.Support Group is Vermont Creative
Software, maker of Windows for C and Windows for Data.

Join vcs.windows

Welcome!

Joining next active topic.
Joining conference 'packet.nets', topic 'telenet'. 1 new message(s).
Read:all
==========================
packet.nets/telenet #43, from dgoldstein, 623 chars, Sun Apr 19 09:26:31 1987
This is a comment to message 42.
--------------------------
As far as I know, Telenet actually shipped most of Uninet's computing hardware e
ast when they swallowed them up.  Since DTE addresses are partially based on
area code, the address must change when the equipment moves.  If the hardware 
is still located in Kansas City than the address might be the same.

To accomodate old Uninet customers, Telenet will mimic old uninet access if 
you hit RETURN (period) RETURN when you first connect.  I'm not sure how far
this mimicry goes, though.

Telenet should be able to give you all the information you need, its just
difficult sometimes to find an intelligent person to talk to.

Joining next active topic.
Joining conference 'packet.nets', topic 'e_mail'. 1 new message(s).
Read:
==========================
packet.nets/e_mail #94, from dgoldstein, 198 chars, Sun Apr 19 09:28:55 1987
This is a comment to message 93.
--------------------------
Could you post the procedure for sending to Arpanet via Dialcom?  I used to
use this link a while ago, but quickly forgot and lost the address when I
no longer had a need.  Now I do again.  Thanks.
No more unread messages in this topic
Hit <RETURN> for next active conf/topic.
Read:
Joining next active topic.
Joining conference 'telecomm.pgms', topic 'general'. 27 new message(s).
Read:all
==========================
telecomm.pgms/general #229, from dmick, 258 chars, Fri Apr 17 06:34:25 1987
This is a comment to message 219.
There is/are comment(s) on this message.
There are additional comments to message 219.
--------------------------
I've had great luck with my USR Courier 2400 internal, from California Digital,
at $189 (!)  Nothing I've seen even comes close, and the latest PC rates their
external pretty high (though expensive).  I love it.
Dunno about on an AT clone, though, for sure.

==========================
telecomm.pgms/general #230, from greenber, 229 chars, Fri Apr 17 10:32:13 1987
This is a comment to message 229.
There is/are comment(s) on this message.
--------------------------
Dan, I have two USR2400's on loan, and I love 'em.  But the concept of
getting all that for only $189 (especially when I paid over $800 for my
1200 back in 1974!!) is astounding.

What is the telco number for California Digital?

==========================
telecomm.pgms/general #231, from dmick, 490 chars, Sat Apr 18 04:32:36 1987
This is a comment to message 230.
There is/are comment(s) on this message.
--------------------------
Isn't it though?  This one seems really nice, and looks exactly like the 
picture of the Transend modem in the latest PC Mag.  (They tested the USR
Courier 2400e, not the internal...the Transend internal, which they said
was made by USR, got better marks than the 2400e.)  Anyhow:  Their number is
in the back of every PC for the last two months.  Let's see...
Well, okay, not *every* one.  <sigh>  
Order no:  800 421 5041
Support no: 213 217 0500
I recommend them, and the modem, highly.

==========================
telecomm.pgms/general #232, from greenber, 13 chars, Sat Apr 18 09:31:21 1987
This is a comment to message 231.
--------------------------
Thanks, Dan!

==========================
telecomm.pgms/general #233, from jpye, 371 chars, Sat Apr 18 14:54:18 1987
This is a comment to message 219.
There is/are comment(s) on this message.
There are additional comments to message 219.
--------------------------
Thanks for all the feedback folks!  It sounds like there are several
good choices in my range.  What the heck has been happening lately
with 2400 baud modems?  The prices have not so much been sliding
as stepping down.  Has someone introduced a new, drastically cheaper
way of making them?  They used to run $600+, now models are available
for less than a third of that.

==========================
telecomm.pgms/general #234, from dmick, 39 chars, Sun Apr 19 03:51:59 1987
This is a comment to message 233.
There is/are comment(s) on this message.
--------------------------
Mass-production'll do it every time...

==========================
telecomm.pgms/general #235, from petewhite, 400 chars, Sun Apr 19 13:43:38 1987
This is a comment to message 223.
--------------------------
Exactly why, when someone comes into the store looking for a modem, I ask if
it's "business or pleasure".  And be wary of the "Amazing Things" modem also,
it's the LE in a pretty package.  They DO work, but are not recommended for
guaranteed communications (not when you can watch them drift with a good
`scope).  I still say that Hayes, Courier and Novation are tops, and not 
always in that order.

==========================
telecomm.pgms/general #236, from petewhite, 472 chars, Sun Apr 19 13:47:57 1987
This is a comment to message 234.
There is/are comment(s) on this message.
--------------------------
So will low sales numbers <grin>.  People are finding out that 2400 doesn't
always work well, and it'll be a few years before ALL the lines are clear
enough for high speed communications.  Having several modems to switch
between is an experience, makes one's mind more clear on exactly what is
causing problems.  I mean, when I make the same call on three different
2400 baud modems and have a problem with all three - well, I have to take
a shot that it isn't the modem.

==========================
telecomm.pgms/general #237, from greenber, 93 chars, Sun Apr 19 16:46:31 1987
This is a comment to message 236.
There is/are comment(s) on this message.
There are additional comments to message 236.
--------------------------
Er..Peter?   Did you check to make sure the phone wire was plugged in?

<Only kiddin'......>

==========================
telecomm.pgms/general #238, from petewhite, 30 chars, Mon Apr 20 23:04:06 1987
This is a comment to message 237.
--------------------------
`Phone wire?  Shhheeeeeeesee!

==========================
telecomm.pgms/general #239, from zohar, 500 chars, Tue Apr 21 01:48:00 1987
This is a comment to message 219.
There is/are comment(s) on this message.
--------------------------
I have had endless problems with the cheap modems - compatibility problems
inconsistent connections etc (I have tried some 12 different models as part
of my customer support work)
I suugest paying out a few bucks more and getting something reliable that works
at rates upto 2400 bps and has error correcting protocols such as MNP and ARQ
available, even though I beleive that Microcom have now put MNP in the public
domain and have a programme that does a software emulation of MNP.

Have fun!
Zohar

==========================
telecomm.pgms/general #240, from dmick, 433 chars, Tue Apr 21 02:39:41 1987
This is a comment to message 236.
There is/are comment(s) on this message.
--------------------------
For the record:  I've had just as good performance with 2400 as with 1200,
for long error-free transfers on a sometimes-noisy-with-1200 board (Friel's
QMODEM board).
2400 is *really* pushing the channel, though, so if you've got a slightly
flaky phone line, Pete, it'll really show up in spades for 2400.

The recent PC Mag said 1200-baud performance from a 2400-baud modem is usually
stellar, too...ckts have to be better, I guess.

==========================
telecomm.pgms/general #241, from petewhite, 217 chars, Tue Apr 21 18:32:11 1987
This is a comment to message 239.
--------------------------
Careful with MNP, until more people catch on.  It can drive you up a wall on
noisey lines, I'd rather be disconnected <grin>.  And thanks for the comments,
you can be sure they will be repeated <as in over and over>.

==========================
telecomm.pgms/general #242, from petewhite, 234 chars, Tue Apr 21 18:34:26 1987
This is a comment to message 240.
--------------------------
Of couse they do.  I get spoiled by hard wire 19,200 transmissions, hardly
ever get a noisey line.  And modems make a carload of difference.  There's
really only two kingds, right good and right cheap.  Have yet to find a true
match.

==========================
telecomm.pgms/general #243, from jfleming, 288 chars, Tue Apr 21 21:27:50 1987
--------------------------
TITLE: MNP ERROR CORRECTION SOFTWARE
     I just uploade MNPC101.ARC, which purports to be public domain source 
for implementing the MNP error correction protocol in software.  If it passes
muster, look for it in IBM.ARC.
                                                             jrf

==========================
telecomm.pgms/general #244, from jfleming, 643 chars, Wed Apr 22 19:30:27 1987
There is/are comment(s) on this message.
--------------------------
TITLE:      BTW, last night was the first time I tried to upload since 
switching to local echo and enabling flow control.  Couldn't get even 
one block through with BIXUP.  Switched back to "full duplex" and no 
flow control, worked fine.  A pox on local echo.
     Now, if only I could figure out how to upload with YMODEM.  I've 
decided Procomm 2.42 just won't talk to BIX, and Datastorm hasn't been 
answering their mail (they had a power supply fail, replaced it, then 
discovered that the message index file had been trashed.  Tonight they 
aren't even answering their phone.)
                                                       jrf

==========================
telecomm.pgms/general #245, from barryn, 183 chars, Wed Apr 22 20:34:23 1987
This is a comment to message 244.
There are additional comments to message 244.
--------------------------
   >a pox on local echo....

Agreed.  I like to see what the other computer (BIX, in this case) is
receiving; with local echo, all I see is what my computer *thinks* it's
sending....

==========================
telecomm.pgms/general #246, from dmick, 244 chars, Thu Apr 23 00:26:32 1987
This is a comment to message 244.
There is/are comment(s) on this message.
--------------------------
>a pox on local echo...
Must have been a freak bad line. Honest, local echo is *much* more reliable]
in every way.  No way can it cause *more* problems.
Qmodem works YMODEM.  PibTerm with the mod I posted here or with Barry's mod
works YMODEM.

==========================
telecomm.pgms/general #247, from barryn, 62 chars, Thu Apr 23 07:55:53 1987
This is a comment to message 246.
There is/are comment(s) on this message.
There are additional comments to message 246.
--------------------------
  
    >local echo is *much* more reliable[

I rest my case.


==========================
telecomm.pgms/general #248, from dmick, 760 chars, Thu Apr 23 10:18:50 1987
This is a comment to message 247.
There is/are comment(s) on this message.
--------------------------
That was me...my return key sits very close to the ']' key (not '[') and
I hit it all the time when going quickly for Return.  I knew it was sent,
and it wasn't noise.  I get very little noise, from what I've seen...of course,
I don't reread my messages a whole lot, but I've only once (in all my time on
BIX) had a report of a garbled message, and it was garble on the receive end..
showed up fine for me.  The fact that I *never* get retransmits on blocks,
up or download, leads me to trust local echo implicitly.  Also, don't forget,
by using remote echo, you've got characters going both ways on the line all
the time, which uses twice the bandwidth and actually increases the chance
of noise...

Your case has just been tossed back at you, Barry!  <grin>

==========================
telecomm.pgms/general #249, from barryn, 38 chars, Thu Apr 23 10:24:42 1987
This is a comment to message 248.
--------------------------
<grin back!>  Objection sustained....

==========================
telecomm.pgms/general #250, from jfleming, 742 chars, Thu Apr 23 19:03:01 1987
This is a comment to message 246.
There is/are comment(s) on this message.
--------------------------
>freak bad line
     Well, the upload problems came after ASCII downloading 62K of 
messages without a hiccup.  The line quality would have had to change 
radically.  BIXUP just kept bouncing the cursor back and forth between 
"Blocks sent: 1" and "Window: 1 closed".  I tried several times with no 
difference (but didn't hang up and recall).
     I believe you that several programs can upload, but I like Procomm 
soooo much . . . . 
     Anyway, I'm hoping that some combination of BIX improvements and 
Procomm 2.5 will do the trick.  (No, I don't know when 2.5 is coming 
out).  I've been bugging Datastorm about the upload problem, and I hope 
they are paying some attention.
                                                       jrf

==========================
telecomm.pgms/general #251, from dmick, 699 chars, Thu Apr 23 21:15:56 1987
This is a comment to message 250.
There is/are comment(s) on this message.
--------------------------
Strange, very strange indeed.  Line quality can change like that, though.
Generally not on local calls, but maybe Tymnet got a little flaky.  Who
knows. 
Golly, sometimes I *wish* I had problems, just so I could play with 
solutions...it just keeps bloody *working* for me.
BTW:  Be careful about protocols.  Absolute non-working like that can happen
if you've got a non-adaptive comm program and specify CRC when you meant

Checksum, or YMODEM when you meant X, or some such.  It's an utterly
stupid and ridiculously easy mistake to make.  (BIX's YC is generally the
one you want for Ymodem...1024-byte blocks with checksum are really uncommon.)

Bix should be changing for the better any day now.

==========================
telecomm.pgms/general #252, from pls, 1757 chars, Fri Apr 24 01:26:16 1987
There is/are comment(s) on this message.
--------------------------
TITLE: say
Problems with PROCOMM
I've just spent a very frustrating few days fighting with PROCOMM version
2.4.2. I want to pass on my experiences and ask for some advice.
 
I am trying to use the program to do file transfer IBM PC to PC. First
problem is that Procomm doesn't consistently offer warnings before
overwriting existing files. For instance, YMODEM download offers a warning,
but ASCII doesn't. It's hopeless to try to explain this to the average
operator.
 
Secondly, and more important, it doesn't work in my environment. For some
reason, the phone lines between these two points are very noisy. I've been
having problems with Procomm just stopping in the middle of a file
transfer, with no error at the sending end except 'transfer aborted'. This
happens with XMODEM, YMODEM, and telelink. Today, I went over to the
receiving end and watched from there. The receiving end was aborting the
transfer with the error "bad block number". It seems that if you get a line
hit on the block number at the start of the block, that Procomm will just
terminate the transfer rather than treat it as an error and resend the
block. This make the transfer protocols useless unless you can depend on a
very clean line.
 
So, I'm looking for something to replace procomm. The primary consideration
is a robust file transfer protocol that recovers well over very lousy
lines. If that protocol allowed the sender to specify a list of files to be
transferred and didn't require operator intervention on the receiving side.
It must support ASCII capture and be usable by an only slightly
knowledgable user. Any recommendations??
 
As usual, this is not a review of anything. Your mileage may very from this
experience.
 
    Paul
    moderator tax.talk conference

==========================
telecomm.pgms/general #253, from dmick, 355 chars, Fri Apr 24 12:09:41 1987
This is a comment to message 252.
--------------------------
Pibterm says it supports Telink and Ymodem Batch modes, and if the protocol
isn't robust enough, since the source code is available, if you have Turbo
Pascal, it's pretty easy to modify it to make it robust enough.  (I can help
if you wish..I've been ripping PibTerm apart for a while now.)
We don't have very noisy lines, and they're hard to simulate...

==========================
telecomm.pgms/general #254, from jfleming, 313 chars, Fri Apr 24 19:09:13 1987
This is a comment to message 251.
There is/are comment(s) on this message.
--------------------------
     Protocol wouldn't have been a problem, BIXUP is designed so you 
just push the button and it goes (right, Barry?).
     It wasn't, however, a local call (Acton MA to Framingham); it's 
short enough that it may have been microwaved but not satellited.
                                                     jrf

==========================
telecomm.pgms/general #255, from dmick, 278 chars, Fri Apr 24 19:18:38 1987
This is a comment to message 254.
--------------------------
Well, you still have to set the BIX protocol to whatever BIXUP is gonna send,
I think.  Not sure...it's been too long since I looked at BIXUP, but I don't
think Barry put in the "x/xc" stuff.  I'll have to try BIXUP, now.  I can't
believe you had problems with that especially.

Joining next active topic.
Joining conference 'telecomm.pgms', topic 'problems'. 10 new message(s).
Read:all
==========================
telecomm.pgms/problems #88, from dmick, 358 chars, Fri Apr 17 06:38:28 1987
This is a comment to message 87.
There is/are comment(s) on this message.
--------------------------
No, they're not standard at all.  Depends on the hardware and software.
Most comm pkgs expect to have an interrupt for serial comm, and there are 
only two allocated for the PClone family.  The software can perhaps determine
which port of several on one interrupt has initiated the interrupt, and "share"
a vector that way, but it's not standardized at all.

==========================
telecomm.pgms/problems #89, from greenber, 323 chars, Fri Apr 17 10:34:10 1987
This is a comment to message 88.
--------------------------
Instead of getting a comm board, you might want to try the old
standard approach:  an AB switch.  If you want to impress your friends,
and you have some extra money, try out a ~smart" AB switch such as the 
CrossPoint or the Logical Connection.

Of course, if you need COM1-COMn all at once, please disregard this message!

==========================
telecomm.pgms/problems #90, from dave36, 313 chars, Fri Apr 17 22:01:03 1987
There is/are comment(s) on this message.
--------------------------
TITLE: HELP!  Procomm 2.4.2 BIX Compuserve
I am trying to use Procomm with an AST Premium/286, ZOOM 2400 XL modem, and
BIX and Compuserve.  Procomm working great with the SOURCE.  Garbage with
Compuserve.  Like 300 baud on BIX.  set 1200-7-E-1 for BIX. 1200-8-N-1 for
Compuserve.  Anyone able to help?
Thanks. 8(

==========================
telecomm.pgms/problems #91, from barryn, 55 chars, Fri Apr 17 22:53:20 1987
This is a comment to message 90.
There are additional comments to message 90.
--------------------------
Try using 1200-7-E-1 for CIS, too.  That's what I use.

==========================
telecomm.pgms/problems #92, from mhaas, 43 chars, Sat Apr 18 14:14:47 1987
This is a comment to message 90.
--------------------------
I use 1200 S71 for BIX with Procomm 2.4.2.

==========================
telecomm.pgms/problems #93, from petewhite, 82 chars, Sun Apr 19 13:49:05 1987
This is a comment to message 86.
--------------------------
Wish that was the ONLY problem I had with LanLink!  But can't help with
that one.

==========================
telecomm.pgms/problems #94, from jfleming, 506 chars, Sun Apr 19 21:03:30 1987
There is/are comment(s) on this message.
--------------------------
TITLE: OMNI-TEL, LEADING EDGE, AMAZING THINGS MODEMS
     Got my friend with the Leading Edge modem (who hasn't been able to 
contact me at 1200 baud) to try the trick of 4-5 commas after the phone 
number.  Seems that the modem tries to adapt to line quality/carrier 
frequency before the carrier starts coming in; the commas force it to 
wait.
    At any rate, it worked fine.  Heartily recommended to all with one 
of the above modems.
                                                               jrf

==========================
telecomm.pgms/problems #95, from petewhite, 213 chars, Mon Apr 20 23:06:24 1987
This is a comment to message 94.
There is/are comment(s) on this message.
--------------------------
What kind of a modem are you using?  I have several users with the 1200 and/or
2400 LE/Amazing Things modems and haven't seen that particular problem.  I'm
testing with a Hayes 2400 and a Courier 2400 at present.

==========================
telecomm.pgms/problems #96, from dmick, 436 chars, Tue Apr 21 02:41:49 1987
This is a comment to message 95.
There is/are comment(s) on this message.
--------------------------
See the recent PC Mag report on modems, Pete...there's a little sidebar about
the problem.  The modem tries to adjust to carrier as soon as the answerer
goes off-hook, before the carrier starts.  If it takes the carrier long 
enough to start, the adaption circuitry gets locked on to a bad setting.
This may be the root of some of the problems you and your customers have
had with 2400...the adaptive EQ is critical for that data rate.

==========================
telecomm.pgms/problems #97, from petewhite, 305 chars, Tue Apr 21 18:37:56 1987
This is a comment to message 96.
--------------------------
Makes sense, and if you've never sat and listened to a modem on a BBS you
should try it.  I've sat here and said "You're not going to answer THAT are 
you?"  And it did!  Sounded like a buzz saw in heat!  The Hayes doesn't like
anything not close to the money, the Courier and Novation are more tolerent.

Joining next active topic.
Joining conference 'telecomm.tech', topic 'other'. 3 new message(s).
Read:all
==========================
telecomm.tech/other #202, from heller, 862 chars, Thu Apr 23 05:23:25 1987
--------------------------
TITLE: Alternitives to the local telephone company?
I live in the small town of Wendell, Mass. which is located in the western-most
end of area code 617.  The local phone phone company is New England Telephone
and the local exchange (office code 544) is an old copper-and-iron type system
(electro-mechanical).  I have no choice of long-distance service - AT&T, since
the local exchange does not yet have "equal access" yet (NET is draging its
feet).  The local exchange really belongs in a musium (sp?).  My question is:
Are there any cost effective alternitives to the local telephone company.? I
am about to give on on NET - for the past two weeks the phone lines have be
bad (on and off), and I have had to postpone calling BIX, CompuServe, and 
various BBS's, due to unacceptable line noise.  I would like to find some sort
of alternitive.
                        Robert Heller

==========================
telecomm.tech/other #203, from smotz, 2039 chars, Thu Apr 23 14:34:30 1987
There is/are comment(s) on this message.
--------------------------
TITLE: In search of REALLY INT-driven Async Interface
I am working on a n ambitious project which allows remote control of one
PC by another by means of fully slaving the one's CRT and keyboard to the
master Since the connection is to be 300 Baud, I have to do everything 
in my powr to make the sucker waste as little time as possible. There is
much timin, data compression and optimization built in already, but one
thing tht would put the icing on the cake would be if, unlike every
(?) other async driver/interface on the market, the one I use were INT-
driven on the ransmit side as well as the receive. Certainly it is a 
boon not o lose characters if the other guy (computer) is shooting his
mouth ff while one is busy storing or diddling with the user or garbage
collecting or whtever. But given the fact that the 8250 can be fully
interrupt contolled, I find it a waste to poll for the Txmitter Holding
Reg Empt condition, when instead the chip could kick off a routine to
fetch the nxt transmit character from a queue instead. Essentially, I
want my proram to be able to send a generous handful of characters at
a time and the go off to do something else while the driver sees to it
that they get elivered. Of course I would be willing to wait for the
queue t get emptied, should I be trying to shovel bytes down its throat
faster thanthey are being sent out by the hardware. But a transmit queue
of a hundred bytes or so would do my program a world of good.
Ihave seen a program that did this before, but I can't remember where.
Can anyone hel?
This ay be asking for a lot, but if you post helpful text here or in
a sibling topic could you please info me by MAIL as well? I am relatively
new and cumsy on this system, and may end up missing your reply otherwise.

Lastly, this project is taking up far more of my time and energy than anyone
could afford to pay me for, I am finishing it up for a flat rate because I
promised todo so. If anyone has a use or a market for what I am doing,
pleas let me know!

Thax lotz, the SMOTZ

==========================
telecomm.tech/other #204, from barryn, 88 chars, Thu Apr 23 17:36:34 1987
This is a comment to message 203.
--------------------------
Take a look at Telecomm.Tech/Example.Code message 143.  Is that what
you're in need of?

Joining next active topic.
Joining conference 'telecomm.tech', topic 'squeezing'. 68 new message(s).
Read:all
==========================
telecomm.tech/squeezing #55, from barryn, 250 chars, Thu Nov 28 10:53:17 1985
--------------------------
TITLE: Datran Symbolic Tokenizer (file compressor)

   I'd be very interested to know how many people have used the Datran
Modem Accelerator Card to compress/de-compress files for
telecommunications purposes.  Do you like it?  Is it in regular use?


==========================
telecomm.tech/squeezing #56, from btonkin, 682 chars, Sat Apr 26 18:07:29 1986
There is/are comment(s) on this message.
--------------------------
TITLE: Squeezing program
I posted the code to a program that gets about 30-35% squeezing on a typical
BIX text file in the BASIC/crosscode conf/topic.  It runs in BASIC at a
reasonable speed, and shouldn't require major changes to make it work in
most other languages.  Decompression is extremely rapid, even in interpreted
BASIC.  The technique I used can be extended to use two-byte compressions
for words in a dictionary.  I also have a 33,000+ word dictionary.  If
anyone is interested, I could put together a program that would compress
text in much the same way I gather Datran is doing it.  If not interested,
then maybe the compression program in the basic conf will serve?

==========================
telecomm.tech/squeezing #57, from moshier, 238 chars, Sat Apr 26 23:52:51 1986
This is a comment to message 56.
There is/are comment(s) on this message.
--------------------------
    With straight Huffman coding of 8-bit characters, I get
36% compression on 247,808 characters of BIX text.  It would
seem that a code for word-length messages ought to do much
better.  How well does your large dictionary scheme work?

==========================
telecomm.tech/squeezing #58, from btonkin, 922 chars, Sun Apr 27 17:38:10 1986
This is a comment to message 57.
There is/are comment(s) on this message.
--------------------------
I haven't written it, since I'm not sure there would be a market.  However,
let's suppose the average word is 5 characters followed by a space.  If so,
and if each such word is compressed to two bytes, then compression should
be on the order of 66%; if phrases were included in the dictionary, the
effective "word length" would be increased markedly and compression should
be far greater than that.  I guess that compression should be something
like 70 - 80%, and maybe more.

Given that I have the dictionary already, that the dictionary's words can
be easily numbered and indexed, that I have programs to do spell-checking
and the like (and produce a corrected output file), writing a program to
produce the compressed text output file should be pretty easy - not more
than several man-days, I'd think.  But is there a market for such a product?
Would *you* buy it?  Know of anyone who definitely would?  I wonder . . .

==========================
telecomm.tech/squeezing #59, from barryn, 745 chars, Sun Apr 27 17:46:31 1986
This is a comment to message 58.
There is/are comment(s) on this message.
--------------------------

Apparently you've already got the 33,000+ word dictionary, right?
So the work would consist of writing the Compressor and the
De-Compressor programs.  Can you incorporate the dictionary into
your software product without legal hassles?  If you wrote it in
compiled BASIC, Bruce, and put it on the Shareware market, you
might be able to make a dent in the market that the distributors
of the ARC program now have.  ARC is kind of slow (I think), and
a dictionary-based squeeze program should be able to work faster
and produce smaller files than ARC does (see my review of the
Datran Modem Accelerator coming up in the June BYTE.) (plug)

ARC *does* compress non-text files, though.  What could be done
with those in a dictionary-based system?


==========================
telecomm.tech/squeezing #60, from jimkeo, 1695 chars, Sun Apr 27 18:11:53 1986
This is a comment to message 59.
There is/are comment(s) on this message.
There are additional comments to message 59.
--------------------------
>Text compression (and data too?)
   I've done some proprietary stuff for clients that involved a dictionary
that was built on-the-fly for each file being transmitted. The only entries
in the dictionary were those items that repeated often enough to warrant
inclusion. This involved 2 passes thru the file before sending but just one
for decompression.
   I also determined the subset of byte values that appeared in the file.
For most text files, about 80-85 diffent bytes were found out of the
possible 256. Assuming 85 values, I could now send out bunches of large
numbers that were base 85. Log2 of 85 is about 6.4 and so I could approach
packing 8 bits (a byte) into 6+ bits for about a standard 20% reduction.
Throw in one more value as a rep value and I'd get the following:
  1. 15-25% reduction via base NN reduction.
  2. 0-15% reduction via reduction od repeating chars (4 or more) to just 3.
  3. 0-15% reduction due to dictionary compression of the most beneficial
     (often repeated words).
Bruce, when you posted the basic code for your compression, I downloaded it
and asked it to compress itself. Even though the source contained the
dictionary of phrases and diphtongs, the final result was about 15%. Prolly
due to the obvious fact that the table was geared to text (and lowercase)
and not to BASIC source code. I ran a quick & dirty version of mine (just
base & rep reduction, no on-the-fly table) and got 25% reduction. I even
get a fair 18% reduction on some .com & .exe files I compressed.
   I like the idea of a dictionary but think a way for the user to either
customize the dictionary to his usage or to have one built on the fly
might be a useful approach.   - Jim

==========================
telecomm.tech/squeezing #61, from btonkin, 1001 chars, Sun Apr 27 23:18:10 1986
This is a comment to message 59.
--------------------------
I typed all the words in myself; most of the dictionary came from reading
words in my various articles and manuals (which had been checked with several
other spelling checkers by people who bought them); many of the words were
also generated by programs that took all existing words and tried to create
new words by adding suffixes and prefixes to them.  Each of those were
manually checked by me before adding them.  I think that should qualify as
my "own" work.  As far as shareware, though: I put a shareware sort program
out about three years ago and asked for a $5 contribution.  To date, I've
gotten one (1) $5 payment.  I know about 5,000 copies are in use.  Shareware
doesn't excite me very much any more.  But I would sell it cheaply; maybe
somewhere between $30 and $50 a copy.

As far as non-text files, about all you could do is run-length encoding or
the usual Hamming codes; SQ does a fair job with the latter and could be a
back-end to the former.  At least, that's how it seems to me.

==========================
telecomm.tech/squeezing #62, from btonkin, 1656 chars, Sun Apr 27 23:29:43 1986
This is a comment to message 60.
--------------------------
The compressor won't compress itself well because, as you noted, it's geared
towards the average text stuff, not programs.  If you build a dictionary on
the fly, then you must send the dictionary each time you send the compressed
result. Further, you must make two passes through the text: one to build the
dictionary, and the other to encode the file.

Actually, it all depends on how long the average message will be.  The average
BIX message is pretty short, so encoding my way should be better.  If you're
sending a couple of megabytes, yours should be more efficient.  Somewhere in
between, our paths will cross; maybe at something like 100K worth of data,
depending on how big a dictionary you're talking about.

As far as a customized dictionary, that's a good idea.  In fact, it's very
nice for encoding data, too; not all that fancy, but good enough to stop
at least the casual reader.  And, if a complete 33,000 word dictionary were
used for all transmissions, then the *only* way to break the code would be
to have the exact same dictionary.  After all, customized dictionaries
needn't have the words in a predictable order!  And, with such a dictionary,
you should be able to express literally anything you want.

Neat, huh?  Better and more approachable than the trap-door algorithms,
IMHO.  What do you think?

BTW, I ran the compression programs against about 250K of miscellaneous
BIX stuff and got compressions of between 29.6 and 37.8% depending on the
material; not too bad, considering the programs weren't particulary fixed
up for the BIX stuff.  Probably I could get them up another couple of
percent with a little more optimization.

==========================
telecomm.tech/squeezing #63, from nichts, 402 chars, Fri Jun 27 13:46:27 1986
There is/are comment(s) on this message.
--------------------------
TITLE: The easiest!
  Well assuming that your using 8 bits when calling a system the 8'th bit isn't 
used, so why not used it as a flag?

   If the flag is on then the next character will be a space. example:

      ASCII   "a"    65
If the next character is a space then it will read:

        ASCII  "a"    65 + 128  SPACE

This will improve greatly on the speed and it's real easy to encode.

NICHTS

==========================
telecomm.tech/squeezing #64, from barryn, 419 chars, Fri Jun 27 14:11:01 1986
This is a comment to message 63.
There is/are comment(s) on this message.
--------------------------
Are there any systems that use this special meaning for the 8th bit
now?  I'd be interested to hear about them.
 
And of course the 8th bit flag idea would have to be disregarded
during XMODEM uploads/downloads.
 
Let's see...the savings would average one byte per word (a trailing
space for each)...and with a word averaging 5 or 6 bytes, you'd get
1-for-5 compression, or about 20%.  Does my estimate sound correct?


==========================
telecomm.tech/squeezing #65, from btonkin, 617 chars, Fri Jun 27 21:15:59 1986
This is a comment to message 64.
There is/are comment(s) on this message.
--------------------------
5 bytes plus space encoded to 5 is 16.7% compression; 6 plus space to 6 is
14.3% compression.  Maybe 15% would be a better estimate.  The problem is
that the approach would use essentially all the 128 high-bit characters and
couldn't be extended for further compression very easily; however, the
characters from 128 to 159 could be used for common words and dipthongs,
and for compressing multiple spaces.  With that added on, you might be
able to do quite a bit better than 15%.  Maybe as much as 25-30%, and
with only 32 codes to expand (plus the usual meaningful high-bit stuff).
Should be fast and fairly simple.

==========================
telecomm.tech/squeezing #66, from nichts, 318 chars, Fri Jun 27 22:04:06 1986
This is a comment to message 65.
There are additional comments to message 65.
--------------------------
  Well, this is a IDEA, and i've a program already working with system, it's a t
erminal that when you press a space it encodes it with the prior code and then t
he other terminal decodes it!!!!

      But just figure if you use this method to encode and use as well the oders
 and you'll get on a fast lane !!!!

NICHTS

==========================
telecomm.tech/squeezing #67, from cheath, 142 chars, Sat Jun 28 00:32:36 1986
This is a comment to message 65.
--------------------------
There a lots of easy ways of compressing text and other stuff.  The
problem is finding a way that other people with computers are using,
too.

==========================
telecomm.tech/squeezing #68, from barryn, 684 chars, Mon Aug 25 23:52:30 1986
--------------------------
TITLE: a practical application for squeezing

As everyone has probably noticed, a number of conferences have had
their early messages dropped from the BIX message base.  This
happened a couple of weeks ago, and was done in order to regain
disk space over the near term.

Before it happens again, I'd like your suggestions on the best
method of squeezing the BIX message base files so that disk space
can be conserved.  You've seen the kind of textual appearance
that BIX messages have; what's the best (and simplest) way to
compress the messages (ignoring the header information and just
treating the text portion)?

Suggestions will be passed along to the BIX administrative staff.


Joining next active topic.
Joining conference 'telecomm.tech', topic 'example.code'. 100 new message(s).
Read:all
==========================
telecomm.tech/example.code #48, from rlatham, 62 chars, Fri Aug  1 14:48:13 1986
This is a comment to message 16.
--------------------------
On the subject of long explanations, not just yes, hell yes !

==========================
telecomm.tech/example.code #49, from barryn, 347 chars, Fri Aug  1 14:54:44 1986
This is a comment to message 47.
There is/are comment(s) on this message.
--------------------------
No, in fact it's a good approach.  The only drawback is that it'll
take more effort to interface the code with DOS, to make it a true
device driver, than it would to make it a set of functions in a 
C library.  On the plus side, the result will be readily usable
from a variety of languages.

Do you have some familiarity with 80x8x assembler?  


==========================
telecomm.tech/example.code #50, from rlatham, 328 chars, Fri Aug  1 15:00:42 198
6
This is a comment to message 49.
There is/are comment(s) on this message.
--------------------------
 80x8x assembler experience. N}ione till last night at about 11:30.
I,m a 680x0 er by experience. On UNIX and a couple of propriertry OSes.
About difficulty level, if this stuff was easy we wouldn't get paid as much.
Don't mind giving it away (once I get it running) but I,m using MSC .
Do we have a royalty problem here ?
   rdl

==========================
telecomm.tech/example.code #51, from barryn, 248 chars, Fri Aug  1 15:08:10 1986
This is a comment to message 50.
There is/are comment(s) on this message.
--------------------------
There's no royalty problem if you publish your own source code.  
Microsoft can't control that!
 
If you run into any assembler or IBM PC architecture problems
that I can help with, feel free to post questions here.  That's
what this topic is for.

==========================
telecomm.tech/example.code #52, from rlatham, 694 chars, Fri Aug  1 15:34:26 198
6
This is a comment to message 51.
There is/are comment(s) on this message.
--------------------------
Good point about source code. Problem for  folks without MSC, *unless*
I provide a library to replace the goodies (i.e. int86 int86x ) I'm
going to use so I dont have to write so much assembler. Well, back to the
salt mines for me. The machine Im building up now is a vending machine. It has
a three axis robot i'm controlling, plus printer , and two serial inputs(now).
Trade show is in Las Vegas in about two weeks, so I'd better get busy. 
40 column characters aren't big enough, so I'm writing my own graphics
services library for CRT output. Much of this is alraedy written and
tested though.
I'll be offline for awhile. (Phone system at office is not very tolerent of
 modems ).
     rdl

==========================
telecomm.tech/example.code #53, from barryn, 300 chars, Fri Aug  1 19:11:59 1986
This is a comment to message 52.
There is/are comment(s) on this message.
--------------------------
That should be no problem.  Most (if not all?) C compilers for the
IBM PC provide similar services to int86 and int86x.  I know Lattice
does, for one (it's the compiler I use).
 
A vending machine robot for a trade show, you say?  What sort of CPU
chip does it use?
 
In fact---what does it "vend?"


==========================
telecomm.tech/example.code #54, from rlatham, 488 chars, Fri Aug  1 20:20:39 198
6
This is a comment to message 53.
--------------------------
 It rents and sells video cassettes. We have a XT clone in it
You use either your MasterCard, Visa or club card for charges. 
Each cassette has a unique barcode attached (firmly, I might add ).
Also have a modem to call about card statuses (i.e. stolen, over limit ).
With the mag stripe reader that makes 3 RS232 devices. A 9 inch VDT, 40 col
printer, various and assorted optical and electro mechanical sensors.
All in all loads of fun. Oh yeah, a 16 key pad out front I ^get to  scan.

==========================
telecomm.tech/example.code #55, from edwolf, 471 chars, Sun Aug  3 22:13:12 1986
This is a comment to message 46.
There is/are comment(s) on this message.
--------------------------
Well, after (I must admit I thought it would be easier) much
work, I finished a complete conversion of your Pascal code
into Lattice C and some assembler.  I started thinking 
about this project in an attempt to create bix.com in C,
but after finally finishing the comm stuff I got sidetracked.
If there is really demand for it, I would be happy to 
submit the Lattice C comm version. Is anyone interested in
porting the rest of bix.com into C? Oops.. wrong conference.


==========================
telecomm.tech/example.code #56, from barryn, 132 chars, Sun Aug  3 22:45:58 1986
This is a comment to message 55.
There is/are comment(s) on this message.
--------------------------
    > porting the rest of bix.com into C....

Sure, Ed---it'd be great if you could post your code.  How much
more is there to do?


==========================
telecomm.tech/example.code #57, from edwolf, 861 chars, Wed Aug  6 19:56:28 1986
This is a comment to message 56.
There is/are comment(s) on this message.
--------------------------
As I said, after the comm stuff was working I looked back and thought
to myself, MY GOD all this work for about 5 pages of code, and there
is another 50 to go! Or something to that effect.  Actually, the comm
stuff was probably abnormally hard, as it was systems level.  Anyway, 
I'll clean up what I've done and make a promise to have it on BIX
by Monday, along with a little driver program people can use to 
actually log onto systems.
 
  I admire the work you've done, and think that a C port would open
the floodgates to a super bix communications package.  Perhaps
you could clarify the legal (and moral/ethical) implications 
of someone like me porting ALL of BIX.com to C, as far as 
compensation is concerned.  This "shareware" concept is a good one,
I think, but it does open up complications as far as porting is 
concerned, I think you would agree.

==========================
telecomm.tech/example.code #58, from barryn, 144 chars, Wed Aug  6 20:22:10 1986
This is a comment to message 57.
--------------------------
    >does open up complications...

Nothing insurmountable.  In fact, I don't think we'll have any
problems at all.  BIX-mail is on its way...


==========================
telecomm.tech/example.code #59, from barryn, 526 chars, Sun Aug 10 14:26:58 1986
--------------------------
TITLE: General comm. routines in "C"
     
Whether or not they become part of a C version of PC/BIX, is anyone
interested in a public domain set of comm. library routines in C 
(like the earlier Pascal versions in this topic)?

I'm thinking in particular of the Lattice compiler, although I
suppose the source code could be modified for other compilers (Comm.
routines, like graphics routines, are usually pretty non-portable).
 
Are there any specific features/functions you would like to see
included in the comm. library?


==========================
telecomm.tech/example.code #60, from edwolf, 420 chars, Thu Aug 14 21:41:25 1986
There is/are comment(s) on this message.
--------------------------
TITLE: C version of comm library
I promised to download my Lattice C version of the comm library this
monday, and .... I'm working on it! Actually, I've decided to "C-ify"
the code (turn upper case to lower case, etc.  so that the code 
conforms to popular C conventions.  Also, I can't (shouldn't) 
transfer dirty code, even if it DOES work.  No more promises, but
I will get the code transferred as soon as possible.


==========================
telecomm.tech/example.code #61, from comeau, 108 chars, Mon Aug 18 14:10:54 1986
This is a comment to message 60.
There are additional comments to message 60.
--------------------------
Ed, I am writing a C verions of pc/bix.  I will be more than glad
to use your version of the comm routines.

==========================
telecomm.tech/example.code #62, from garys, 390 chars, Tue Aug 19 20:11:11 1986
There is/are comment(s) on this message.
--------------------------
TITLE: XMODEM in FORTH
There is an excellent example of XMODEM in FORTH in the latest
issue of 'FORTH DIMENSIONS'. The code is by John James, creater of
Communitree conference systems. Since it is NOT my code 
I suggest contacting John for permission to list it here.
It matters not if you like or even tolerate FORTH. The comparisons
make for interesting and instructive information.
Gary

==========================
telecomm.tech/example.code #63, from barryn, 146 chars, Wed Aug 27 23:17:34 1986
This is a comment to message 62.
--------------------------
Thanks, Gary.   Did you know that the FIFTH language is available
in the listings conference?  There's some discussion on it over in
other.langs.

==========================
telecomm.tech/example.code #64, from nhennenfent, 714 chars, Sat Sep 20 22:19:15
 1986
There is/are comment(s) on this message.
--------------------------
TITLE: communications in forth
I joined this conference because I have justed started a new
project at work. I will be writing some file transfer software
for a notebook size portable. We need to be able to download
programs and data to the machine via modem. I plan to use Forth
just as I do for everything else. I also will be using the CRC
xmodem algorithms as seen in the recent Forth Dimensions. I will
not be able to post the source code as it is proprietary,
however I will be able to share some tips, techniques, and a
few routines. Needless to say this conference has been of great
value as I haven't had much experience in this area. Am looking
forward to it. 
   Best regards,  Nick Hennenfent  Atlanta

==========================
telecomm.tech/example.code #65, from barryn, 470 chars, Sun Sep 21 11:25:58 1986
This is a comment to message 64.
--------------------------
Glad to hear that you found the material helpful, Nick.  If you get
stuck on anything (mysterious bugs are *easy* to create when writing
communications code), leave a note here or in the Tech.Support
conference (a special place for getting help on programming bugs).
We'll be happy to help.   And, of course, feel free to post what you
can in the way of FORTH communications stuff.   

Out of curiosity, can you say why FORTH is the language of choice for
your project?

==========================
telecomm.tech/example.code #66, from barryn, 107 chars, Fri Oct  3 21:18:07 1986
This is a comment to message 60.
--------------------------
Ed has shipped the C code to me (via US Mail)....it is now available
in the long.messages topic.  Enjoy!
 

==========================
telecomm.tech/example.code #67, from terjem, 766 chars, Mon Oct 13 12:52:48 1986
--------------------------
TITLE: XON/XOFF support without disabling int's.
I have written a comm program which I use to access BIX from Norway via X.25.
The async driver is capable of full duplex 9600 on an IBM PC (most of the time)
Here is what i did to be able to send XON and XOFF in the mi^^^^^^^^^^
ddle of a TX int,
when the receive buffer became to full:
My sending buffer has a special room for 1 byte to be sent before all
others, and a BOOLEAN flag to say that it should be sent. This way I could just
put XOFF there, and the TX-int routine would find it the next time, and send it
instead of the first byte in the TX buffer. This avoided the hassle of having
to enter a byte in front of the rest of the buffer, or waiting for the TX to
be available.
                 Terje Mathisen

==========================
telecomm.tech/example.code #68, from cdanderson, 510 chars, Fri Nov 21 22:51:56 
1986
There is/are comment(s) on this message.
--------------------------
TITLE: 19200 Baud
After some searching around in here, based on a pointer in ibm.pc/
hardware re the possibility of setting my serial port to 19200 rather
than being limited to 9600, I confess that I am over my head.  Does
anyone know of a commercially available program which will give me
19600 baud for a normal serial port, so that I can run my HP laser at
19200 (which it has switch settings for, and which Lotus will support)
so that I can also run my word processor at 19200 (not just Lotus)?
   Thanks.

==========================
telecomm.tech/example.code #69, from barryn, 148 chars, Fri Nov 21 23:05:08 1986
This is a comment to message 68.
There are additional comments to message 68.
--------------------------
You're not looking for a way to program it, but a program that sets
the baud rate for subsequent COM port usage?  Sort of a souped-up
MODE command?

==========================
telecomm.tech/example.code #70, from petewhite, 170 chars, Sat Nov 22 00:22:33 1
986
This is a comment to message 68.
There are additional comments to message 68.
--------------------------
I thought PC-Talk was capable of 19200 transfers, we use it at that speed
to transfer files to a typesetter (unless my memory has gone west).  I'll
take a look . . . . 


==========================
telecomm.tech/example.code #71, from geary, 1211 chars, Sat Nov 22 06:36:55 1986
This is a comment to message 68.
There is/are comment(s) on this message.
There are additional comments to message 68.
--------------------------
Here is a little program to set a comm port's baud rate to 19200.
To create the program, clip out the text below between the rows of dashes,
and copy it into a file called 19200.DBG.  Then, enter the command:

C>debug <19200.dbg

This will create a program called 19200.COM.  This program sets the baud
rate only; it does not affect the other communications parameters (parity,
data bits, stop bits.)  So you should first use the MODE command to set the
other parameters.  Then give the command:

C>19200 {port#}

where {port#} is 1, 2, 3, or 4.


So, for example, to set up a serial printer on COM2 that uses 8 bits and no
parity, you might say:

C>mode com2:9600,n,8,1,p
C>mode lpt1:=com2
C>19200 2

File 19200.DBG follows...
-------------------------
a
CLD
MOV    SI,0081
LODSB
CMP    AL,0D
JZ     0140
CMP    AL,31
JB     0104
CMP    AL,34
JA     0104
SUB    AL,31
XOR    AH,AH
MOV    BX,AX
XOR    AX,AX
MOV    ES,AX
MOV    DX,ES:[BX+0400]
TEST   DX,DX
JZ     0140
ADD    DX,03
IN     AL,DX
JMP    012A
MOV    BL,AL
OR     AL,80
OUT    DX,AL
JMP    0131
SUB    DX,03
MOV    AX,0006
OUT    DX,AX
JMP    013A
ADD    DX,03
MOV    AL,BL
OUT    DX,AL
INT    20

n 19200.com
r cx
42
w
q
-------------------------

==========================
telecomm.tech/example.code #72, from geary, 89 chars, Sat Nov 22 06:41:41 1986
This is a comment to message 68.
--------------------------
Also, be sure to configure the HP Laser printer to use hardware handshake,
not XON/XOFF.

==========================
telecomm.tech/example.code #73, from barryn, 16 chars, Sat Nov 22 11:38:02 1986
This is a comment to message 71.
There are additional comments to message 71.
--------------------------
Nice job, Mike.

==========================
telecomm.tech/example.code #74, from cdanderson, 111 chars, Sat Nov 22 17:27:59 
1986
This is a comment to message 71.
There is/are comment(s) on this message.
--------------------------
Thanks very much.  Do I correctly assume that I have to delete the
":[BX+0400]" before I run it through Debug?

==========================
telecomm.tech/example.code #75, from barryn, 130 chars, Sat Nov 22 17:36:45 1986
This is a comment to message 74.
There is/are comment(s) on this message.
--------------------------
No, that's part of the assembler statement.  Leave it exactly as is
and "feed it" to debug.  Your new utility will be the result.

==========================
telecomm.tech/example.code #76, from cdanderson, 110 chars, Sat Nov 22 18:06:08 
1986
This is a comment to message 75.
There is/are comment(s) on this message.
--------------------------
But Debug produces an error message when I do that, with the caret pointing
to the colon mark . . . whats up?

==========================
telecomm.tech/example.code #77, from barryn, 88 chars, Sat Nov 22 18:09:13 1986
This is a comment to message 76.
There is/are comment(s) on this message.
--------------------------
Hang on for two minutes....I'll exit to DOS and see if I can reproduce
the problem.....

==========================
telecomm.tech/example.code #78, from barryn, 524 chars, Sat Nov 22 18:16:09 1986
This is a comment to message 77.
There is/are comment(s) on this message.
--------------------------
Ok, here's the corrected code:
------------ cut here -------------
a
CLD
MOV    SI,0081
LODSB
CMP    AL,0D
JZ     0140
CMP    AL,31
JB     0104
CMP    AL,34
JA     0104
SUB    AL,31
XOR    AH,AH
MOV    BX,AX
XOR    AX,AX
MOV    ES,AX
ES:
MOV    DX,[BX+0400]
TEST   DX,DX
JZ     0140
ADD    DX,03
IN     AL,DX
JMP    012A
MOV    BL,AL
OR     AL,80
OUT    DX,AL
JMP    0131
SUB    DX,03
MOV    AX,0006
OUT    DX,AX
JMP    013A
ADD    DX,03
MOV    AL,BL
OUT    DX,AL
INT    20

n 19200.com
r cx
42
w
q
------ cut here --------

==========================
telecomm.tech/example.code #79, from geary, 387 chars, Sun Nov 23 06:16:30 1986
This is a comment to message 78.
--------------------------
My apologies!  When I started using SymDeb, I kept typing DEBUG by mistake,
and never could get used to the new name, so I finally renamed SYMDEB as
DEBUG, and DEBUG as DEBUGIBM.  So I was running SymDeb, not DEBUG, when I
created that script file, and SymDeb allows some syntax things that DEBUG
doesn't like.  I'll remember to use the standard DEBUG in the future...
<embarassed grin>

==========================
telecomm.tech/example.code #80, from barryn, 678 chars, Thu Dec  4 00:44:09 1986
There is/are comment(s) on this message.
--------------------------
TITLE: IBM PC ROM BIOS Int 14 dis-functions
    
It occurs to me that it is pretty simple to do an Int14 replacement
that *does* handle buffered serial I/O, etc., like the code posted
earlier in this topic.

I'm thinking of a ram-resident program that, when it loads, 
creates a ring buffer (how does 2K sound for size?) and which
implements a char-receive function and a char-send function that
would be invoked with the usual AH=2 and AH=1 conventions.

The present Int14 logic for setting baud rate, etc., would be
left alone, since it already works okay.  It's just the non-buffered
aspect of Int14's receive-char function that needs to be "fixed".

Does this sound useful?

==========================
telecomm.tech/example.code #81, from billn, 119 chars, Thu Dec  4 08:46:50 1986
This is a comment to message 80.
There is/are comment(s) on this message.
There are additional comments to message 80.
--------------------------
It sounds *very* useful.  Is it possible to set different ring buffer
sizes?  How about handling COM1 thru COM4?
BillN

==========================
telecomm.tech/example.code #82, from barryn, 229 chars, Thu Dec  4 12:03:33 1986
This is a comment to message 81.
There are additional comments to message 81.
--------------------------
Anything's possible, since I'll be posting the source code---you'll
be able to make Int14 behave any way you like just by making small
changes to the code.   (I guess this means I'll have to comment the
code a little bit.  (-: )

==========================
telecomm.tech/example.code #83, from greenber, 145 chars, Thu Dec  4 12:03:39 19
86
This is a comment to message 81.
There is/are comment(s) on this message.
--------------------------
There is a nifty PD program called "NEWINT14" which does this for you.
You can download it (without source, alas) from my BBS at (212)-889-6438.

==========================
telecomm.tech/example.code #84, from barryn, 81 chars, Thu Dec  4 12:57:38 1986
This is a comment to message 83.
There is/are comment(s) on this message.
--------------------------
Public Domain, you say?  Would you care to upload it to the listings
conference?

==========================
telecomm.tech/example.code #85, from greenber, 176 chars, Thu Dec  4 15:43:10 19
86
This is a comment to message 84.
There is/are comment(s) on this message.
--------------------------
I'll be uploading it shortly to the IBM.ARC area. Alas, I checked,
no source.  I'll also be uploading something called TSHARE.ARC
which plays with these "new interrupts".
ross

==========================
telecomm.tech/example.code #86, from terjem, 394 chars, Fri Dec  5 02:59:46 1986
This is a comment to message 80.
There is/are comment(s) on this message.
--------------------------
Int 14 BIOS functions:
I think you should take a look at ASYNC.DRV in listings. It contains a device
driver for the AUX device, with 1 important bug. It does not handle multiple
interrupts correctly, i.e. loop on the IIR register after en^^^^^ EOI'ing the
interrupt controller. The rest of it seems very usable for your project.

         Terje Mathisen (from Norway, the land of Santa Claus?)

==========================
telecomm.tech/example.code #87, from barryn, 503 chars, Sun Dec  7 02:01:47 1986
This is a comment to message 86.
--------------------------
I looked at it, Terje, but I found it difficult to understand how
the IOCTL DOS function is used with ASYNC.DRV.  Besides, Interrupt 14
in PC's has been a sick animal for too long now...it's time that
it was cured!

I'll be posting the source code for Int14.Com, a ram-resident program
that replaces the Int14 functions, in a short while.  I've coded the
set-parms, get-character, and send-character logic, and it seems to
work just fine.  I just have to do the get-status routine and I'll
be finished.

==========================
telecomm.tech/example.code #88, from barryn, 589 chars, Sun Dec  7 02:11:04 1986
This is a comment to message 85.
There is/are comment(s) on this message.
--------------------------
    >"no source"

I think that phrase is what got me going on the program, Ross.  Without
source, it's tough to customize a BIOS-function-replacement.  And I
think that programmers need to be able to refer to source code in order
to see how they're interfacing to the BIOS (either the original ROM
or an add-on).

I know you have a communications-related software product (I've been
reading your descriptions of it in the new "sw.author" conference).
I'll look forward to your comments on the INT14 program when I post it!

BTW, "sw.author" is an interesting conference....I recommend it.

==========================
telecomm.tech/example.code #89, from greenber, 652 chars, Sun Dec  7 11:01:48 19
86
This is a comment to message 88.
There is/are comment(s) on this message.
--------------------------
Thanks for the pointer, barry.

The "no source" syndrome is an interesting one in public domain, and
it seemed to surface along with the ShareWare concept.  Basically, it
seems that most shareware authors feel that giving away the source code is
gonna somehow cost them bucks, when the converse is probably true for
utility type of routines:  I'd pay (if required) for your INT14 only
if it came with source.

I look forward to seeing it.  Oh:  make sure you allow for an error
return of some sort if you get a framing error, parity error or overrun
error.  May I suggest setting the garbage character to some user selectable
character? (I use a '~').

==========================
telecomm.tech/example.code #90, from barryn, 548 chars, Sun Dec  7 21:20:08 1986
This is a comment to message 89.
There are additional comments to message 89.
--------------------------
    > error return of some sort....

Uh, I guess I'll pass back the same error indications/status information
that the regular INT14 routine was designed to return.  That okay?
 
I did a little snooping with PCWATCH earlier today...it seems that the
AUX device (supported by a lot of HLL's) uses INT14 either directly
or, through DOS, indirectly.  Perhaps the existence of a working,
interrupt-driven, buffered INT14 BIOS routine will mean that *any*
HLL can be used to write communications programs (without resorting
to inline assembler, etc.).


==========================
telecomm.tech/example.code #91, from barryn, 570 chars, Sun Dec  7 23:28:02 1986
This is a comment to message 89.
There is/are comment(s) on this message.
--------------------------

Ross, it occurs to me that I'm going to have a little trouble
passing back the kind of error-indication you're talking about.
Since the character-receive function is buffered, I might be
receiving/buffering character number 57, say, when your application
is currently picking up character number 41 from the queue.

I want to remain compatible with the ROM BIOS Interrupt 14 logic
(in which AH is used to return the status), but I see a problem here.

As the author of a communications program, how would you like
a buffered Int14 routine to behave in this situation?


==========================
telecomm.tech/example.code #92, from greenber, 778 chars, Sun Dec  7 23:50:10 19
86
This is a comment to message 91.
There is/are comment(s) on this message.
--------------------------
Ah hah!  Hit the same problem I did, eh?  One way you could get errors
to show up properly in your interrupt routine would be to use a special
character as an error character.  This, of course, means that you'll
have to be careful about flagging that one character properly.

My com routines has a little array of offsets into the circular buffer.
When I hit one of those "special" characters (I use a '~'), I look up
the offset in the error table.  If Set, then I return an error status.
If I hit more errors than my table has room for, then I return an
error status for all subsequent occurances of the "special" character.

Checking my code, it looks like I'd have to have about 100 errors within
two seconds at 9600 baud to overflow the table.

Ain't this kinda stuff fun??

==========================
telecomm.tech/example.code #93, from barryn, 662 chars, Mon Dec  8 00:09:29 1986
This is a comment to message 92.
There is/are comment(s) on this message.
There are additional comments to message 92.
--------------------------
Yep, it's fun (otherwise, would I be doing it??).

Your design sounds great to me.  Since I want to remain compatible
(somewhat) with the original intent of the Int14 BIOS logic, I
may have to do something a little different.  I'll have to be
careful about special characters, since I want my routine to work
with XMODEM transfers (which is the same thing you're saying about
flagging that one character properly).  

One of the things I want to do differently from the original INT14
is to return immediately to the application if there's no character
waiting in the queue, along with a special flag in AH (say, "FF"?)
that means "nothing's there!".  Comments?

==========================
telecomm.tech/example.code #94, from greenber, 356 chars, Mon Dec  8 00:14:56 19
86
This is a comment to message 93.
There is/are comment(s) on this message.
--------------------------
BE VERY CAREFUL WITH 0xFF!!!!  Generally speaking, the Async Card will
return a 0xff when it can't figure out what to actually return due
to an error....

When you go to fetch a character, if it turns out to be an "error character",
or one of your special characters on the error list, return an error status.
Then you won't have to worry about XMODEM....

==========================
telecomm.tech/example.code #95, from barryn, 233 chars, Mon Dec  8 00:30:37 1986
This is a comment to message 94.
There is/are comment(s) on this message.
--------------------------
Okeydoke.  By the way, another person and I have both logged onto BIX
this evening using comm. programs that invoked my INT14 BIOS-replacement
code, and it seems to be working ok.  A little touching up/fine tuning
and it'll be done.

==========================
telecomm.tech/example.code #96, from greenber, 416 chars, Mon Dec  8 09:52:19 19
86
This is a comment to message 95.
There is/are comment(s) on this message.
--------------------------
One of the things to watch out for, barry, would be what to do when your
buffer overflows.  Assuming you have a 1K buffer, you might want to consider
throwing in a XOFF generator when you have only about 128 bytes left.
Assuming the other side respects the XOFF, you won't have a problem.

I set a special flag for overrun of the buffer, and return an error
condition and a count of how many characters were lost...

==========================
telecomm.tech/example.code #97, from barryn, 370 chars, Mon Dec  8 19:11:46 1986
This is a comment to message 96.
There is/are comment(s) on this message.
--------------------------

The first user of this code (yes, I already have a customer!  At
these prices, selling is easy) is writing a communications program
that will be talking/listening to an IBM mainframe.  The mainframe
doesn't know an XOFF from its EBCDIC.

Unless someone has a brilliant idea, I'm afraid I'm going to just
let the circular buffer be truly circular when overflows occur.


==========================
telecomm.tech/example.code #98, from greenber, 470 chars, Mon Dec  8 22:34:55 19
86
This is a comment to message 97.
There is/are comment(s) on this message.
--------------------------
Hmmm.  Circular buffers, no overflow or xoff, eh???

Howzabout a new function, wherein you give it the address of
a function that will snarf up all characters into some other buffer
until the circular buffer is empty?

Something like:
if character received and buffer has only 128 bytes in it, then if
eat_all_characters_function_pointer is not null, then far call that
function (with interrupts turned on, and a "non-reentrancy flag" set).

just some more thoughts....

==========================
telecomm.tech/example.code #99, from barryn, 218 chars, Mon Dec  8 22:46:49 1986
This is a comment to message 98.
There are additional comments to message 98.
--------------------------
Hmmm.  Well, since I'll be posting the source code soonly, perhaps
you could add a little of the code you're thinking of and we'll
give it a try?  (The version I post certainly doesn't have to be
the *final* version!)

==========================
telecomm.tech/example.code #100, from barryn, 640 chars, Mon Dec  8 22:52:21 198
6
This is a comment to message 92.
There is/are comment(s) on this message.
--------------------------
    >a little array of offsets...

I inserted error-checking code into the program a few minutes ago, and
the approach I took was to set up a bit-map for the characters in the
array.  If the buffer is 2048 bytes long, then the bit map only has
to be 256 bytes.  When receiving an incoming character, I set a bit
(corresponding to the buffer-position) to either "0" or "1", depending
on the results of looking at the Line Status Register.  Then, later,
when a particular character is retrieved via Int14, I return AH=0Eh
(signalling FramingError, ParityError, *AND* Overrun) to the caller if
the corresponding bit is set.

How's that sound?

==========================
telecomm.tech/example.code #101, from barryn, 881 chars, Tue Dec  9 01:01:55 198
6
--------------------------
TITLE: Well, it's done.

The INT14.ASM program has been posted in "telecomm.tech/
long.messages".  It's about 19K in size.

If you're familiar with the original ROM BIOS Int14 routine,
please note that I took a few liberties with the calling
sequence.  Specifically, receiving a character will not wait
forever for something to come across the line; there's a
special code that is returned in AH to say that no character
is waiting.

Virtually *anyone* can now write a communications program, in
almost any language.  Int14 will handle all the low-level
stuff; all you have to do is set the comm. parms and then
get/receive characters to your heart's content.

As far as testing the thing goes, all I can tell you is that I
have spent a little time with it, and that I'm logged onto BIX
right now with a very simple "C" program that invokes Int14.

Any questions?  Post 'em here.


==========================
telecomm.tech/example.code #102, from barryn, 216 chars, Tue Dec  9 01:04:10 198
6
There is/are comment(s) on this message.
--------------------------
TITLE: (I have a question about Int14....)
        
If you don't have an Assembler with which to process the Int14.ASM
file, let me know and I'll upload the .COM file itself to Listings.

Anyone want me to do this?


==========================
telecomm.tech/example.code #103, from barryn, 1241 chars, Tue Dec  9 01:05:41 19
86
--------------------------
TITLE: Here's the "C" test-driver program:
 (This is the program I'm using right now to access BIX)

#include "stdio.h"
#include "dos.h"
void initport(void);
void sendchar(char);
char recvchar(void);

char    c;
union   REGS  regs;
int     flags;




void    main(argc, argv, envp)
int     argc;
char    *argv[];
char    *envp[];

        {

        initport();

    mloop:
        if (kbhit())
           { 
           c = getch();
           if (c == 27)
               exit(0);
           sendchar(c);
           }

        c = recvchar();
        if (regs.h.ah != 0xFF)
           putch(c);

        goto mloop;
        }


void    initport()

        {
        regs.h.ah = 0;
        regs.h.al = 0x83;     /* 1000 0011 = 1200-N-8-1 */
        regs.x.dx = 0;
        int86(0x14, &regs, &regs);
        }




void    sendchar(c)
char    c;
        {
        regs.h.ah = 1;
        regs.h.al = c;
        regs.x.dx = 0;
        flags = int86(0x14, &regs, &regs);
        }



char    recvchar()
        {
        regs.h.ah = 2;
        regs.x.dx = 0;
        flags = int86(0x14, &regs, &regs);

        if ((regs.h.ah > 0x00) && (regs.h.ah < 0xFF))
           putch('!');
        regs.h.al &= 0x7F;
        return(regs.h.al);
        }




==========================
telecomm.tech/example.code #104, from wheelock, 493 chars, Tue Dec  9 04:16:30 1
986
This is a comment to message 98.
--------------------------
     In the case of the mainframe with which I'm forced to deal, the flow stops
after 25 80-column lines until a special key code is sent, so no more than 2000
characters can arrive before the program using Int14 is *forced* to do some-
thing with the data in the buffer, just to know that it is time to send the
required key code.  In this case, at least, nothing beyond a 2000 character
buffer would be needed.
                                                            /Bruce/  (wheelock)

==========================
telecomm.tech/example.code #105, from greenber, 323 chars, Tue Dec  9 08:30:37 1
986
This is a comment to message 100.
--------------------------
Remember that *reading* the line status register might cause a problem:
if your application performs a *physical* read of the LSR, then
you'll not find an error, since reading the port clears the error.
Your best bet is to probably set up the LSR interrupt, which *should*
beat your application.  No guarentees, of course.

==========================
telecomm.tech/example.code #106, from wthompson, 22 chars, Wed Dec 10 01:19:48 1
986
This is a comment to message 102.
There is/are comment(s) on this message.
--------------------------
yes, please, i think.

==========================
telecomm.tech/example.code #107, from barryn, 497 chars, Wed Dec 10 21:10:15 198
6
This is a comment to message 106.
There is/are comment(s) on this message.
--------------------------
Okay, 'tis easily done.  The file "int14.com" has been uploaded to the
listings conference, and should be available for anyone who wants to
use it by tomorrow evening (12/11/86).

The documentation for the use of the program is contained in the front
of the source code file posted in "telecomm.tech/long.messages".  It's
basically the same as the calling sequence for the original ROM BIOS
Interrupt 14 (contained in the IBM Tech Ref manual), with a few
liberalizations to make it easier to use.

==========================
telecomm.tech/example.code #108, from jhchan, 311 chars, Fri Dec 12 21:59:08 198
6
This is a comment to message 107.
There is/are comment(s) on this message.
--------------------------
barry: the following message appears when MASM 4.0, any idea ??

Microsoft (R) Macro Assembler  Version 4.00
Copyright (C) Microsoft Corp 1981, 1983, 1984, 1985.  All rights reserved.

comm.ASM(1) : error 62 : No or unreachable CS

  48510 Bytes symbol space free

      0 Warning Errors
      1 Severe  Errors

==========================
telecomm.tech/example.code #109, from barryn, 176 chars, Fri Dec 12 22:09:13 198
6
This is a comment to message 108.
There is/are comment(s) on this message.
--------------------------
I don't know; it MASM's just fine for me (and I also use V4.0).  Take
a closer look at your code; I think you may have edited out some of
the essentials prior to the assembly.

==========================
telecomm.tech/example.code #110, from wheelock, 333 chars, Sat Dec 13 04:31:24 1
986
This is a comment to message 109.
--------------------------
     I'd like to add (so I will) that I got a compiler error after capturing
the source code because one single carriage return was lost in the process,
turning two lines into one.  Something to watch for if you don't use XMODEM
to transfer the source.
                                                            /Bruce/  (wheelock)

==========================
telecomm.tech/example.code #111, from wheelock, 564 chars, Sat Dec 13 18:37:39 1
986
There is/are comment(s) on this message.
--------------------------
TITLE: Port status check
     I was given the following code to check the serial port to see if is ready
to be written.  It ought to work but doesn't ever detect the port ready to be
written. Assuming INT14.COM doesn't cause a problem, what might the error be?

     Mov    DX,0        ;Card 0
     Mov    AH,3        ;Get port status
     Int    14          ;Call Aux ROM routine
     And    AX,4000h    ;This bit is the only significant one
     Mov    CL,7        ;Shift Count
     Shr    AH,CL       ;Make the value 0 or 1
     Or     AL,AH
     MOV    Ret,AL

==========================
telecomm.tech/example.code #112, from nfrabotta, 163 chars, Sat Dec 13 19:18:36 
1986
This is a comment to message 111.
There is/are comment(s) on this message.
There are additional comments to message 111.
--------------------------
> Port status check
     It looks like you might want to shift AH right only 6 bits to get
a value of 0 or 1.  The bit you want is falling off the end.
                                        Nick.

==========================
telecomm.tech/example.code #113, from wheelock, 112 chars, Sat Dec 13 20:09:20 1
986
This is a comment to message 112.
--------------------------
     I shall try that.  Thanks.
                                                            /Bruce/  (wheelock)

==========================
telecomm.tech/example.code #114, from barryn, 1572 chars, Sat Dec 13 20:40:24 19
86
This is a comment to message 111.
There is/are comment(s) on this message.
--------------------------
Well, first of all, the Int14 does its own checking to see when it can
place a character on the line....it waits for bit 5 (the "Transmitter
Holding Register Empty bit) of the Line Status Register to become True
before it sends the character (AH = 1).  There's no need for the
application to check that bit before invoking the AH = 1 function.

The AH = 3 Get_Status function is more oriented towards checking to
see if Clear-to-Send is still True (bit 4, counting 76543210 on the
bits in AL) or, especially, if the Carrier-Detect line is still True
(bit 7 of AL, again counting 76543210).  You might want to check these
signals periodically during the course of a communications session.

Since the Int14 logic is controlling the use of the Transmitter Holding
Register, and since it operates somewhat asynchronously with the 
application, checking bit 5 of AH at almost any time during the
running of the application can give different results each time.

Finally, by doing an "And AX, 4000h", followed by the shift-bits-7-
place, the bit that is actually being returned to the application is
the "Transmitter Shift Register Empty" signal, which is bit 6 of
the Line Status.  You probably don't need to know if the TSRE is
empty or not in your application.  

Assuming you want to know if the line is "quiet" at any particular
time, do this:

        Mov  DX, 0
        Mov  AH, 3
        Int  14h
        And  AH, 21h   ; test Data Ready, and Transmitter Holding
        Mov  Return, AH   ; Register Empty (bits 5 and 0)

where I guess "Return" is a special address somewhere in a high-level-
language.


==========================
telecomm.tech/example.code #115, from barryn, 320 chars, Sat Dec 13 20:47:14 198
6
This is a comment to message 114.
--------------------------
One more thing---if the line is indeed quiet, that fragment of code
will return the number 20h (32 decimal) in the "Return" variable.
A value of 20h means that the Receive-Data bit is False (no incoming
character is waiting) and the Transmitter-Holding-Register-Empty bit
is True (the last character sent is long gone).

==========================
telecomm.tech/example.code #116, from barryn, 1007 chars, Fri Jan  2 00:51:52 19
87
There is/are comment(s) on this message.
--------------------------
TITLE: Enhancements to 'Int14.Com'
    
I have a couple of enhancements in mind for the Int14 replacement....
one is a mechanism to prevent the program from being loaded a second
time when it's already active (with perhaps a "de-install" capability),
the other is the definition of a new AH=4 function for toggling 
XOff/XOn flow-control.  In other words, doing an Int14 with AH=4
and AL=0 would turn *off* ^S/^Q handling (the 'off' state would be
the default) and invoking it with AH=4 and AL=1 would turn *on* ^S/^Q
processing, in which case a 'buffer-nearly-full' condition would
cause Int14 to tell the other computer to pause its transmissions
until such time as the buffer became at least partially empty (Int14
would then tell the other guy to resume transmissions).

Hmmm.  I just thought of another enhancement: Int14 with AH=5 could
flush the buffer (a 'purge-buffer' operation).

What do you think?  Should I add these to the program?

(Thanks go to Bruce Wheelock for suggesting item 1, above.)

==========================
telecomm.tech/example.code #117, from greenber, 93 chars, Fri Jan  2 00:54:13 19
87
This is a comment to message 116.
There is/are comment(s) on this message.
There are additional comments to message 116.
--------------------------
I think the XON/XOFF idea is *very* good (especially when using MODE
and a serial printer)!


==========================
telecomm.tech/example.code #118, from wheelock, 326 chars, Fri Jan  2 02:36:27 1
987
This is a comment to message 116.
--------------------------
     Yes (obviously) on no multiple installations, and a yes vote on de-install
as well.  I also agree that XON/XOFF would be great as an option.  As for the
buffer clear--implementing it would drop several lines of code from one of my
packages.
                                                            /Bruce/  (wheelock)

==========================
telecomm.tech/example.code #119, from billn, 141 chars, Fri Jan  2 09:51:26 1987
This is a comment to message 117.
There is/are comment(s) on this message.
--------------------------
I'll second the suggestions in 116 and add one:  How about a capability
to check if buffer is near full?  Say less than 10% remaining.
BillN

==========================
telecomm.tech/example.code #120, from barryn, 146 chars, Fri Jan  2 13:29:06 198
7
This is a comment to message 119.
There is/are comment(s) on this message.
--------------------------
Can you give me some more information on that?  How would you use it
from within your application, especially in relation to the XOff/XOn
toggle?

==========================
telecomm.tech/example.code #121, from billn, 238 chars, Fri Jan  2 13:36:58 1987
This is a comment to message 120.
There is/are comment(s) on this message.
--------------------------
  >how would you use it...
In a high speed multiport application, it would be helpful to know
which input is nearest to full and process that first so as to maximize
thruput.  I want to adjust my processing to keep the data moving.
BillN

==========================
telecomm.tech/example.code #122, from barryn, 145 chars, Fri Jan  2 13:43:16 198
7
This is a comment to message 121.
There is/are comment(s) on this message.
--------------------------
Would it be adequate, then, if there were an Int14 function call that
simply returned the number of 'received-but-not-yet-processed'
characters?

==========================
telecomm.tech/example.code #123, from billn, 303 chars, Fri Jan  2 13:53:21 1987
This is a comment to message 122.
--------------------------
That would be better |I suspect.  This responds to the problem where 
the average flow rate can be handled but peaks cause flow control
restraint because the program is not 'smart' enough to respond to
flow peaks.  Your suggestion would allow me to deal with the 'busiest'
channel first.  Thanks.
BillN

==========================
telecomm.tech/example.code #124, from barryn, 466 chars, Sat Jan 10 12:04:04 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: Votes, please.
  
I can change INT14 so that the AH=2 Receive-a-Char function works just
like the original BIOS routine....that is, it will wait a good amount of
time for an incoming character.  I can establish a separate (new) AH=X
function for the "Return-a-Null-If-No-Char-is-Waiting" logic that returns
immediately.

Who wants me to make INT14 AH=2 work the same way as the original BIOS
and make the "liberalized" char-receive a separate function call?


==========================
telecomm.tech/example.code #125, from wheelock, 306 chars, Sat Jan 10 12:13:28 1
987
This is a comment to message 124.
There is/are comment(s) on this message.
--------------------------
     Although I will have to go back and modify my code if you do it, making
AH=2 work as in BIOS seems consistant with not inflicting changes on software
not written to work with you.  What value do you plan to use for AH=X?
                                                            /Bruce/  (wheelock)

==========================
telecomm.tech/example.code #126, from barryn, 291 chars, Sat Jan 10 12:17:32 198
7
This is a comment to message 125.
There is/are comment(s) on this message.
--------------------------
I guess I'd insert the "return-a-null-if-no-char-is-pending" as AH=4,
and just bump up the others (XOFF/XON toggle, etc).

A few moments ago I finished testing the code to de-install INT14, and
to detect that it's already loaded.  A little more code for the new
functions and it'll be done.

==========================
telecomm.tech/example.code #127, from billn, 242 chars, Sat Jan 10 17:15:42 1987
This is a comment to message 126.
There is/are comment(s) on this message.
--------------------------
Keep with the existing standard where you can, leave a few slots for
new functions in the next OS release and add your functions at the
high end, say 10 hex above current function codes.  This will maximize
compatibility and longevity.
BillN

==========================
telecomm.tech/example.code #128, from barryn, 366 chars, Sat Jan 10 18:17:04 198
7
--------------------------
TITLE: Okay, it's done.  Who wants to help test it?
    
I've finished coding the enhancements to the INT14 program.  I've
got some more testing to do and I thought someone else might like
to help with that.  BIX-mail me if you're interested.

Also, for your information, the pre-amble documentation for the
new version is contained in the 'long.messages' topic.  


==========================
telecomm.tech/example.code #129, from barryn, 215 chars, Sat Jan 10 20:20:09 198
7
This is a comment to message 127.
--------------------------
   >leave a few slots for the next OS....

Hmmm.  The ROM BIOS Int 14 routine has been dysfunctional for so long,
and to such a degree, that I didn't think a machine might come out with
one that had any usefulness.

==========================
telecomm.tech/example.code #130, from barryn, 1260 chars, Sun Jan 11 01:04:38 19
87
--------------------------
TITLE: A simple "C" program that uses INT14
Just to show you how easy it is to invoke the INT14 functions from
a higher-level language, here's a small "C" program that acts as a
"glass teletype" communications terminal:

#include "stdio.h"
#include "dos.h"

void initport(void);
void sendchar(char);
char recvchar(void);

char    c;
union   REGS  regs;
int     flags;




void    main(argc, argv, envp)
int     argc;
char    *argv[];
char    *envp[];

        {

        initport();

    mloop:
        if (kbhit())
           {
           c = getch();
           if (c == 27)
               exit(0);
           sendchar(c);
           }

        c = recvchar();
        if (regs.h.ah != 0x80)
           putch(c);

        goto mloop;
        }




void    initport()

        {
        regs.h.ah = 0;
        regs.h.al = 0x9A;    /* 100 11 0 10 = 1200-E-7-1 */
        regs.x.dx = 0;
        int86(0x14, &regs, &regs);
        }





void    sendchar(c)
char    c;
        {
        regs.h.ah = 1;
        regs.h.al = c;
        regs.x.dx = 0;
        flags = int86(0x14, &regs, &regs);
        }



char    recvchar()
        {
        regs.h.ah = 2;
        regs.x.dx = 0;
        flags = int86(0x14, &regs, &regs);
        return(regs.h.al);
        }




==========================
telecomm.tech/example.code #131, from barryn, 1005 chars, Sun Jan 11 22:58:51 19
87
--------------------------
TITLE: Using the INT14 program for profit and for non-profit

I didn't realize that the INT14 BIOS-replacement code would get
as much attention as it has!  I've gotten a ton of mail from
people interested in using it for various projects.

Most of the questions about the program have to do with licensing
rights.  So let me spell out how the code may be used (or not
used, as the case may be):

   Non-commercial, personal use
   ----------------------------

         Use of the INT14 program to support the development of
         non-commercial communications programs is hereby
         allowed, with no payment to the author (me) required.
         "Non-commercial" in this context means Public Domain,
         Shareware, or purely for personal use.


   Commercial use
   --------------

         If you have a communications-related program that
         uses the INT14 BIOS-Replacement program, BIX-mail
         me (barryn) so that I can find out what it is and
         we can talk about it.


==========================
telecomm.tech/example.code #132, from hans, 553 chars, Fri Jan 30 11:27:58 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Line Noise
When working with a communications program, is there anything that can be
done about line noise?  I have been trying to piece together a baby
comm program, but there are occasions when the static on the line is
unbearable (e.g. my screen will occasionally show lots of {}{, but it's not
a baud rate problem).  Is this something I have to live with, or should I
try to modify the code so that if a non-standard (expected?) character is
received, I should ignore it?

This stuff is really interesting, bu also very frustrating at times.

==========================
telecomm.tech/example.code #133, from wheelock, 424 chars, Fri Jan 30 14:11:24 1
987
This is a comment to message 132.
There is/are comment(s) on this message.
--------------------------
     You could do that, of course, and it would be a useful tool in certain
cases.  However, it ought to be something that could be turned on or off 
easily, since it would interfere with unusual incoming legitimate data, with
graphics, and with file transfers.  Put in a toggle for it and leave the 
decision to use it in the hands of the user.
                                                           /Bruce/ (wheelock)

==========================
telecomm.tech/example.code #134, from hans, 320 chars, Fri Jan 30 17:13:00 1987
This is a comment to message 133.
There is/are comment(s) on this message.
There are additional comments to message 133.
--------------------------
Well, a toggle would be nice, but I'm worried about the other end of the
call.  If I get a character printed on my screen (due to line noise), won't
the remote system get it also?  For instance, if I call BIX and am experiencing
line noise, if my program does not accept the 'garbage' character won't bix
still have it?

==========================
telecomm.tech/example.code #135, from barryn, 676 chars, Fri Jan 30 17:24:09 198
7
This is a comment to message 134.
There is/are comment(s) on this message.
--------------------------
Depends on where the line noise originates from.  If it's generated on
your incoming path from the other computer, you'll see it but the other
machine won't know about it.  If it's generated as part of the outbound
stream *from* you, then you won't know it's there but the other machine
will get the garble.  Then, if the other machine is doing the echo, it'll
send you back the garble for you to examine.  If the other machine is
not echoing your transmission stream, an error will have occurred but
you won't know about it (unless of course an error-checking protocol
like XMODEM is in effect, or unless the other machine is parsing and editing
your stuff---like BIX does).

==========================
telecomm.tech/example.code #136, from timsmith, 793 chars, Fri Jan 30 21:25:18 1
987
This is a comment to message 135.
There is/are comment(s) on this message.
--------------------------
Your comment on line noise brings up a question -- one very pertinent for
me since I have just moved from an area serviced by Pac Bell where I saw
not a bit of it in over a year to a GTE area where...well, it's bad. It
all seems to be outgoing noise, so I assume it gets generated somewhere
between my modem and the local TYMNET or CompuServe modem (it gets echoed
back from there, I think). Question -- can my modem be having anything to do
with it? Or is it all in the local switching network? (I am not (obviously)
very expert in telecom matters.) Could a slightly out-of-spec modem
be a "generator" of line noise, which might get suppressed in a good local
switching system, but revealed in a marginal one? Would it do me any good
to buy a better modem, or would that be a waste of money?

==========================
telecomm.tech/example.code #137, from geary, 182 chars, Fri Jan 30 22:48:32 1987
This is a comment to message 136.
There is/are comment(s) on this message.
--------------------------
Yes, different modems definitely have better or worse performance in noise
rejection, sensitivity, etc.  Some of the folks here can probably recommend
brands that have better specs.

==========================
telecomm.tech/example.code #138, from barryn, 148 chars, Fri Jan 30 22:57:06 198
7
This is a comment to message 137.
--------------------------
Was it the December BYTE?  Or January?  I recall an informal, unofficial
review of about 20 modems.....anyone recall the article?  Its conclusions?

==========================
telecomm.tech/example.code #139, from greenber, 276 chars, Sat Jan 31 11:10:24 1
987
This is a comment to message 133.
--------------------------
One of my comm programs has the option of not printing any of the
following characters:  non-ascii characters, '}i', '{i', and a few other
characters.   Makes the connection a lot cleaner.  But I *never* use it.
I'd much rather see the line noise.

}i}}i(&)^S^*(&}i       :-)

==========================
telecomm.tech/example.code #140, from mhyman, 152 chars, Sat Jan 31 15:13:27 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: modem performance
See the current (Jan) Data Communications -- They have a nice
article on modems and modem performance for the 1200 and 2400-s.

==========================
telecomm.tech/example.code #141, from barryn, 604 chars, Sat Jan 31 20:29:47 198
7
This is a comment to message 140.
--------------------------
You know, while we're talking about line noise, it also occurs to me
to mention that sometimes the UART (or equivalent) chip and circuitry
can be the cause of a lot of garbage if it's not working perfectly.

Try an experiment sometime: after logging off from some system (BIX?),
power off the modem and leave the communications program in "terminal
mode" for a half hour or an hour (no keyboard or other activity).
After the time has passed, take a look at the screen.  Is it exactly
as you left it, or have stray characters appeared?  If so, and since
the modem was powered off, where'd they come from?

==========================
telecomm.tech/example.code #142, from barryn, 461 chars, Wed Feb 11 22:59:58 198
7
--------------------------
TITLE: INT14 V2.0
       
Version 2.0 of the INT14 BIOS-replacement program is now available
as message #6 in the 'long.messages' topic.  It's about 32K.

The corresponding .COM file will be available in the 'ibm' area of
listings within a day or so, and will be named INT14.COM.  The earlier
version will be replaced by V2.0 in listings.  Look for a 2/10/87
date stamp in the header of the V2.0 .COM file to make sure you get
the new version, not the old one.

==========================
telecomm.tech/example.code #143, from laurent, 2705 chars, Tue Mar 24 23:24:23 1
987
There is/are comment(s) on this message.
--------------------------
TITLE: Smarter status for INT14
TITLE: Smarter Status for INT14.
 
Thank you Barry for sharing the souce code for your INT14 replacement.
I was looking for method of providing a type ahead buffer while using a
serial port as the console (CTTY COM1/2).  I had tried setting up ASYNC.DRV
to do the job, but seemed to have timing conflicts between Input and Output,
plus the added restriction of it being an installable device.  Your INT14
looked promising, but as is only works as an input or output device to DOS.
In adding a smarter status routine so it can work as the console.  DOS loops
checking status for either a character received or sent before doing the
actual read or write.  Hence in the real-time environment of type-ahead
buffers, it is not sufficient to check the UART at the time status is
requested, but rather a smarter routine must be used.  In the Status update
which I have included here, we must generate the status byte with a
combination of checking the buffer/error reporting and as is done with
receiving characters and the UART output bits.  If of course the buffer is
empty then the staight UART read will apply.  I also needed a CTS hardwired
handshake for my particular setup.  Thank you again : Lawrence Houston.
 
GetStatus:
        Call    SetPort
 
        Mov     AX, Head1 [SI]  ; if SI=2, then uses Head2
        Cmp     AX, Tail1 [SI]
        JE      GSEmpty         ; buffer is empty, just read LSR
 
        Push    DI
        Push    SI
 
        Mov     DI, Tail1 [SI]         ; DI is now Tail1 or Tail2
        Mov     BX, BP          ; address of Errors1 or Errors2
        Mov     AX, DI          ; calculate bit position for Tail
        Mov     CX, 8
        CWD
        IDIV    CX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DI = error_bit (0..7)
        Mov     CL, BitPos [DI]
 
        Test    Byte Ptr [BX] [SI], CL
        JNZ     StatusIsBad
 
        Mov     AH, 01h         ; 01 means that a character is avialable
        Jmp     StatusIsGood
 
StatusIsBad:
        Mov     AH, 0Eh         ; 0E means that an error occurred
 
StatusIsGood:
        Pop     SI              ; retrieve Com1/Com2 index
        Pop     DI
 
        Mov     DX, DI          ; also read LSR
        Add     DX, LSR
        In      AL, DX
        And     AL, 60h         ; isolate the transmitter bits
        Or      AH, AL          ; include with result
 
        Jmp     GSExit
 
GSEmpty:
        Mov     DX, DI          ; just read LSR
        Add     DX, LSR
        In      AL, DX
        Mov     AH, AL
 
GSExit:
        Mov     DX, DI
        Add     DX, MSR
        In      AL, DX
        Jmp     I14_Exit
 

==========================
telecomm.tech/example.code #144, from barryn, 148 chars, Sat Mar 28 22:45:53 198
7
This is a comment to message 143.
--------------------------
Nice job, Larry.  What kind of application are you doing that you
needed the smarter buffering capability?  A replacement for the
DOS CTTY command?

==========================
telecomm.tech/example.code #145, from barryn, 240 chars, Sun Mar 29 22:50:30 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: INT14 vs. Turbo Pascal
    
  I've got a request to see what the Turbo Pascal code would look like
for an interface to INT14 (using INTR($14, regs), etc.).

  Anyone have a fragment of code already written that you'd like to
share?


==========================
telecomm.tech/example.code #146, from ron.t, 619 chars, Sun Apr  5 16:57:34 1987
This is a comment to message 145.
There is/are comment(s) on this message.
--------------------------
  { Turbo PASCAL code to issue INT 14  } 
      procedure BIOS_RS232_Init(ComPort, ComParm : Integer); 
         { Issue Interrupt $14 to initialize the UART } 
         { See the IBM PC Technical Reference Manual for the format of ComParm }
 
         var 
           Regs : record 
                    ax, bx, cx, dx, bp, si, di, ds, es, flag : Integer 
                  end; 
         begin 
           with Regs do 
             begin 
               ax := ComParm and $00FF;  { AH=0; AL=ComParm } 
               dx := ComPort; 
               Intr($14, Regs) 
             end 
         end; { BIOS_RS232_Init } 

==========================
telecomm.tech/example.code #147, from barryn, 38 chars, Sun Apr  5 19:31:11 1987
This is a comment to message 146.
--------------------------
Thanks, Ron.  Nice coding style, too.

Joining next active topic.
Joining conference 'telecomm.tech', topic 'zmodem'. 6 new message(s).
Read:all
Error: Unrecognized entry.
Choices are: all, backward, comment, copy, date, download, first, forward, 
header, help, last, original, quit, reference, resign, say, search, skip, to, 
upload, withdraw, 
Read:all
==========================
telecomm.tech/zmodem #1, from billn, 2198 chars, Tue May 20 22:54:48 1986
There is/are comment(s) on this message.
--------------------------
TITLE: Zmodem Overview
                       ZMODEM Introduction and Overview



        Introduction

             ZMODEM  is  an  extension of the XMODEM  protocol  to  solve 
        certain  performance  problems experienced by personal  computers 
        using packet networks as well as direct connect.   ZMODEM (ZM) is 
        not  intended  to replace more sophisticated  protocols  such  as 
        Kermit,  X.PC  and  the  like but as a  supplement  until  better 
        protocols become widely available and supported.

             Thus the objectives of ZM are:   Better performance,  better 
        error   recovery,   relative   simplicity  and  relativly   quick 
        implementation.   To  this end,  I am designing a  simple  robust 
        command  set  to extend the current XMODEM  capabilities  without 
        replacing any of the XMODEM commands.   ZM can detect and operate 
        with a standard XMODEM at the other end with no additional effort 
        or knowledge on the part of the operator.

             In  order  to speed the spread of ZM use,  I  am  making  ZM 
        available for use at no charge provided that the following things 
        are done:

             1.   The  copyright  and  origin  statement is  kept 
                  unchanged with the documentation and code.
             2.   The origin of ZMODEM is acknowledged in any public use.
             3.   Implementations do not add or change the command set.

             Suggestions  and  problems  should be sent to  the  protocol 
        originators.  Revisions will be posted with version numbers and a 
        revision  history to keep all users in a compatible  mode.   Full 
        success  of  ZM  depends on  cooperation  to  avoid  incompatible 
        variants.


        ZM Capabilities

             Fully implemented ZM will be able to transfer multiple files 
        in each direction at the same time as fast as the network is able 
        to handle.   In addition,  an auxiliary channel can interleave in 
        the  main  transfer  stream to  allow  bidirectional  interactive 
        traffic to happen at the same time with minimal degredation.



==========================
telecomm.tech/zmodem #2, from wgivens, 181 chars, Sat May 24 01:12:05 1986
This is a comment to message 1.
--------------------------
I would love to try this comm program; where is it available?
I looked in listings/telecom.all 5/22/86, and it wasn't there.
Please let me know when/where/how/who/what/.....  wayne

==========================
telecomm.tech/zmodem #3, from caroleb, 1658 chars, Wed Apr  8 20:43:22 1987
--------------------------
TITLE: Two way interleaving and X.PC
I like the idea of a protocol optimized for packet networks - but windowed
xmodem WXMODEM from PLINK IBM library already does that. (Just wish BIX would
implement it - the turbo Pascal source code is public domain).
Even better is the simultaneous uploading and downloading which can double
the effective bandwidth and allowing interleaved browsing and chatting
would be very nice while waiting for the files to be done. Trouble is, its
more like a complete communications program at each end than a file transfer
program you could tack on to others isn't it?
Suggestion: Tymnet has published 3 disks of public domain C source code for
their X.PC protocol which allows 15 simultaneous channels - adequate for 
simultaneous uploading/downloading/interaction/filespecifying. Its certainly
worth the $30 media and handling charge just to see the way they do it. You
could either use the code when developing your own (its 100% public domain),
or simpler yet - just implement as an extension to existing comms software
so you run 3 versions of the comms program under a DESQVIEW type setup
(or better, produce a multiple window one like microsoft access). The main
thing left is to provide X.PC comms drivers for the other end, then the
user just logs in 3 times on 3 channels for uploading, downloading and
interaction. Only "protocol" required is one that sends the file name,
dates and length before the byte stream for the file.
Several BBS systems are now appearing under Xenix and a simple way to do it
for all would be a Xenix X.PC TTY driver. Is there one already - if not,
you've got the C source code so write one!

==========================
telecomm.tech/zmodem #4, from ecbrown, 541 chars, Tue Apr 14 20:26:22 1987
There is/are comment(s) on this message.
--------------------------
TITLE: Zmodem for IBM PC-DOS
Is there source code for Zmodem running on an IBM PC with MS-DOS?  I'm 
writing a PD terminal emulator and I could use the source code to implement
Xmodem, Xmodem-CRC, Ymodem, Ymodem Batch, and Zmodem, all of which appear
to be in the Unix Zmodem.  Unfortunately, Unix Zmodem is pretty indecipherable,
and I would like to get something that exists as a bunch of function calls
that require a set of communication primitives to operate.
 
Does anybody know where I can find this?
 
Thanks in advance,
Eric Brown.

==========================
telecomm.tech/zmodem #5, from barryn, 87 chars, Tue Apr 14 21:33:09 1987
This is a comment to message 4.
There is/are comment(s) on this message.
--------------------------
Have you seen the version of ZMODEM in the 'telecom' area of the 
Listings conference?

==========================
telecomm.tech/zmodem #6, from ecbrown, 207 chars, Sun Apr 19 15:29:54 1987
This is a comment to message 5.
--------------------------
Yes; it's for Un*x, and I need one for MS-DOS, in source.  I'm having
a devil of a time finding one.
 
By the way, if anyone knows where I can get the source code to SuperKermit,
I would be very interested.

Joining next active topic.
Joining conference 'telecomm.tech', topic 'long.messages'. 8 new message(s).
Read:all
==========================
telecomm.tech/long.messages #1, from barryn, 284 chars, Fri Oct  3 21:08:10 1986
--------------------------
TITLE: This topic is for messages over 2 screenfuls or so.  If you
add a message to this topic, please post a note in telecomm.tech/other
mentioning the subject of the message.  This allows people to 
selectively download stuff from long.messages and thus conserve
their BIX-dollars.

==========================
telecomm.tech/long.messages #2, from barryn, 20158 chars, Fri Oct  3 21:22:44 19
86
--------------------------
TITLE: Comm. code in C (from Ed Wolf)
Here is LCS.BAT :

(LC3 is the subdirectory on the c: disk containing the 3.0 lattice C compiler)

lc -ms -ccdmsuw -d -v -ic:\lc3\ -n %1 %2 %3 %4 %5 %6 %7 %8 %9

Here is LINKCOMM.BAT :
link c:\lc3\s\c+%1+main+setds+lattice+intservc,%1,%1/m /l,c:\lc3\s\lcm+c:\lc3\s\
lc

Here is BIXINIT.H
#include "DOS.H"
#define TRUE            1
#define FALSE           0
#define RECVBUFSIZE     8192
#define MAXGAP          512
#define MAXGAPWAIT      128
#define DEFAULTBAUD     1200
#define XOFF            0x19   /* control S */
#define XON             0x17   /* control Q */

#define CNTLA           0x01
#define CNTLB           0x02
#define CNTLC           0x03
#define CNTLD           0x04
#define CNTLE           0x05
#define CNTLF           0x06
#define CNTLG           0x07
#define CNTLH           0x08
#define CNTLI           0x09
#define CNTLJ           0x0A
#define CNTLK           0x0B
#define CNTLL           0x0C
#define CNTLM           0x0D
#define CNTLN           0x0E
#define CNTLO           0x0F
#define CNTLP           0x10
#define CNTLQ           0x11
#define CNTLR           0x12
#define CNTLS           0x13
#define CNTLT           0x14
#define CNTLU           0x15
#define CNTLV           0x16
#define CNTLW           0x17
#define CNTLX           0x18
#define CNTLY           0x19
#define CNTLZ           0x1A
#define ESC             0x1B
#define FS              0x1C
#define GS              0x1D
#define RS              0x1E
#define US              0x1F

/*--------------------------------------------------------------*/

int currcharsub;
int asyncsub ;          /* : Integer;    NOTE: these will change by them-
                             selves in the background */

char recvbuffer[RECVBUFSIZE + 1];
                        /*also self-changing*/
int THR;
int IER;
int LCR;
int MCR;
int LSR;
int MSR;
int IIR;

char IV;

int IMR;

int ENABLE_OUT2;
int ENABLE_INT;
int ENABLE_IRQ4;
int DISABLE_OUT2;
int DISABLE_INT;
int DISABLE_IRQ4;
int SET_BAUD;
int SET_PARMS;

char msgwaiting;
char sendwaittime;

int speed;
char commbusy;
char txregbusy;
char overrunerror;
char abyte;

int a,b ;
int buflen;
int gap;

char currchar;
char timedout;
char echoflag;
char doingxmodem;

Here is BIXDEFS.H
#define TRUE            1
#define FALSE           0

#define XOFF            0x19   /* control S */
#define XON             0x17   /* control Q */

#define CNTLA           0x01
#define CNTLB           0x02
#define CNTLC           0x03
#define CNTLD           0x04
#define CNTLE           0x05
#define CNTLF           0x06
#define CNTLG           0x07
#define CNTLH           0x08
#define CNTLI           0x09
#define CNTLJ           0x0A
#define CNTLK           0x0B
#define CNTLL           0x0C
#define CNTLM           0x0D
#define CNTLN           0x0E
#define CNTLO           0x0F
#define CNTLP           0x10
#define CNTLQ           0x11
#define CNTLR           0x12
#define CNTLS           0x13
#define CNTLT           0x14
#define CNTLU           0x15
#define CNTLV           0x16
#define CNTLW           0x17
#define CNTLX           0x18
#define CNTLY           0x19
#define CNTLZ           0x1A
#define ESC             0x1B
#define FS              0x1C
#define GS              0x1D
#define RS              0x1E
#define US              0x1F

Here is SETDS.ASM
        TITLE   SAVE AND SET DS 
        NAME         SETDS
        INCLUDE C:\LC3\S\DOS.MAC

        PSEG
     PUBLIC  SAVEDS, SETDS, ENABLE, DISABLE
;
ENABLE  PROC    NEAR 
        STI 
        RET
ENABLE  ENDP
;
DISABLE PROC    NEAR 
        CLI
        RET
DISABLE ENDP
;
SETDS   PROC    NEAR 
        MOV     AX, CS:DSHOLD
        PUSH    AX
        POP     DS
        RET
;
DSHOLD  DW      0
SETDS   ENDP
;
SAVEDS  PROC    NEAR 
        MOV     AX, DS
        MOV     CS:DSHOLD, AX
        RET
SAVEDS  ENDP
;
        ENDPS
        
        END

Here is INTSERVC.ASM

        TITLE   Interrupt server 
        NAME            intservc
        INCLUDE C:\LC3\S\DOS.MAC

        DSEG
        EXTRN EXSTRUCT:BYTE
        ENDDS   

XSTRUCT STRUC 
ISRSTK  DW ?
FILLER          DW ?
SSPTR           DW ?
SPPTR   DW ?
XSTRUCT         ENDS            


        PSEG
;**
; name          intservc 
;               
; synopsis      intservc()
; 
;       Call ISR after setting DS with the SETDS routine
;       
;
;**
        EXTRN   ISR:NEAR,SETDS:NEAR
        PUBLIC  INTSERVC 
INTSERVC        PROC    NEAR 
                        PUSH    AX
                        PUSH    BX
                        PUSH    CX
                        PUSH    DX
                        PUSH    DI
                        PUSH    SI
                        PUSH    ES
                        PUSH    DS
                        PUSH    BP
                        CALL    SETDS                   ; set ds via setds routi
ne
;                                                      now that ds is set, we ca
n access 
;                                                         exstruct variables cor
rectly
                        MOV             EXSTRUCT.SSPTR,SS       ; store ss ptr
                        MOV             EXSTRUCT.SPPTR,SP       ; store sp ptr
                        MOV     AX,DS                           ; Lattice C expe
cts SS, ES, and DS
;                                                                       to be th
e same in the small model
                        MOV             SS,AX                   ;
                        MOV             ES,AX                   ;
                        MOV             AX,EXSTRUCT.ISRSTK      ; sp is at ISRST
K, so the interrupt 
;                                                         routine essentially ha
s its own stack
;                                                         ss is the same so that
 the C library
;                                                         can function correctly
;                                                         ISRSTK is set in initi
nt() in lattice.c
                        MOV             SP,AX                   ;
                        MOV             BP,SP                   ; C routines onl
y save BP
                        CALL    ISR                     ; call C ISR routine
                        MOV             SP,BP                   ; standard thing
 to do now
POSTDOIT:               MOV             AL,20H                  ; load 0x20 
                        OUT             20H,AL              ; send EOI to EOI po
rt 0x20
                        MOV             SS,EXSTRUCT.SSPTR       ; restore ss ptr
                        MOV             SP,EXSTRUCT.SPPTR   ; restore sp ptr
                        POP             BP
                        POP             DS
                        POP             ES
                        POP             SI
                        POP             DI
                        POP             DX
                        POP             CX
                        POP             BX
                        POP             AX
                        IRET                                            ; all do
ne
INTSERVC        ENDP
        ENDPS

        END

Here is BIXCOMM.C

/* TITLE: BIXCOMM.C                                              */
/*                                                               */
/*   original PASCAL program:                                    */
/*   Program and all supporting materials Copyrighted            */
/*   (c) 1985 Barry R. Nance                                     */
/*            17 Pease Street                                    */
/*            Wilbraham, Massachusetts 01095                     */
/*            (413) 596-4031                                     */
/*            bixname barryn                                     */
/*   C-translation Edward Wolfgram 7/11/86                       */
/*            bixname edwolf                                     */

#include "BIXINIT.H"

struct twochar
        {
        char lo;
        char hi;
        } ;
union intsplit
        {
        int anint;
        struct twochar byte;
        } ;

char lo(num)
int num;
        {
        union intsplit temp;

        temp.anint = num;
        return (temp.byte.lo);
        }

char hi(num)
int num;
        {
        union intsplit temp;

        temp.anint = num;
        return (temp.byte.hi);
        }

int sendchar(c)
char c;
        {
        disable();
        while (txregbusy == TRUE)
                {
                enable();
                disable();
                }
        if ((inportb(LSR) & 0x20) != 0x20)
                printf("oh my god...\n");
        outportb(THR, c);
        txregbusy = TRUE;
        enable();
        }

int sendstring(s)
char *s;
        {
        int i;

        for (i = 0;  i < strlen(s);  i++)
                sendchar(s[i]);
        }

int sendline(s)
char *s;
        {
        sendstring(s);
        delay(3000);
        sendchar(CNTLS);        /* send CR */
        }

int backuptocr(n)
int n;
        {
        int i, j;

        i = currcharsub;
        j = 0;

        while ((i > 0) && (j < n))
                {
                i--;
                if (recvbuffer[i] == CNTLM)
                        j++;
                }
        ;
        currcharsub = i;
        }

int receivechar(howlong, nextchar, toolong)
int howlong;
char *nextchar;
char *toolong;
        {
        int millisecond;
        int keypressed = 0;
        int timelimit = 0;

        *toolong = TRUE;
        *nextchar = 0x0;
        millisecond = 0;
        timelimit = howlong;

        while ((currcharsub == asyncsub) && (timelimit > 0))
                {
                if (keypressed)
                        break;
                delay(1);
                millisecond = (millisecond++) % 1000;
                if (millisecond == 0)
                        (timelimit)--;
                }
        if (currcharsub != asyncsub)
                {

                *nextchar = recvbuffer[currcharsub];
                currcharsub++;
                *toolong = FALSE;

                if (currcharsub > RECVBUFSIZE)
                        currcharsub = 1;

                if (currcharsub == asyncsub)
                        msgwaiting = FALSE;

                if (commbusy)
                        {
                        if (currcharsub <= asyncsub)
                                gap = asyncsub - currcharsub;
                        else 
                                gap = (buflen - currcharsub) + asyncsub;
                        if (gap < MAXGAPWAIT)
                                {
                                while ((inportb(LSR) && 0x20) != 0x20)
                                        ;
                                outportb(THR, XON);
                                commbusy = FALSE;
                                txregbusy = TRUE;
                                }

                        }
                }
        }

int purgebuffer()
        {
        char timeout;
        char ch;

        do      {
                receivechar(1, &ch, &timeout);
                }
        while (timeout == FALSE);
        }

int setcom1()
        {
        THR = 0x3F8;
        IER = 0x3F9;
        LCR = 0x3FB;
        MCR = 0x3FC;
        LSR = 0x3FD;
        MSR = 0x3FE;
        IIR = 0x3FA;
        IV = 0xC;
        IMR = 0x21;

        ENABLE_OUT2 = 0x8;
        ENABLE_INT = 0x7;
        ENABLE_IRQ4 = 0xEF;
        DISABLE_OUT2 = 0x0;
        DISABLE_INT = 0x0;
        DISABLE_IRQ4 = 0x10;
        SET_BAUD = 0x80;
        SET_PARMS = 0x7F;
        }

int setcom2()
        {

        THR = 0x2F8;
        IER = 0x2F9;
        LCR = 0x2FB;
        MCR = 0x2FC;
        LSR = 0x2FD;
        MSR = 0x2FE;
        IIR = 0x2FA;
        IV = 0xB;
        IMR = 0x21;

        ENABLE_OUT2 = 0x8;
        ENABLE_INT = 0x3;
        ENABLE_IRQ4 = 0xF7;
        DISABLE_OUT2 = 0x0;
        DISABLE_INT = 0x0;
        DISABLE_IRQ4 = 0x8;
        SET_BAUD = 0x80;
        SET_PARMS = 0x7F;
        }

int updateuart(databits, parity, stopbits)
int databits;
char parity;
int stopbits;
        {
        char tbyte, newparm, oldlcr;

        tbyte = inportb(THR);
        tbyte = inportb(LSR);   /* { read ports to clear error conditions } */

        newparm = databits - 0x5;

        if (stopbits == 2)
                newparm = newparm + 0x4;

        if (parity == 'E')
                newparm = newparm + 0x18;

        if (parity == 'O')
                newparm = newparm + 0x8;

        oldlcr = inportb(LCR);

        outportb(LCR, oldlcr & SET_PARMS);
        outportb(LCR, newparm);
        }

int carrier()
        {
        inportb(MSR);
        delay(400);
        return ((inportb(MSR) >> 7) == 1);
        }

int datasetready()
        {
        delay(500);
        return ((inportb(MSR) & 0x20) == 0x20);
        }

int newbaud(rate)
int rate;
        {
        char oldlcr;
        extern int speed;

        if (rate <= 9600)
                {
                speed = rate;
                rate = ((double) 115200.0) / ((double) rate);
                oldlcr = inportb(LCR);
                outportb(LCR, oldlcr | SET_BAUD);
                outportb(THR, lo(rate));
                outportb(IER, hi(rate));

                outportb(LCR, oldlcr & SET_PARMS);
                }
        }

int delay(n)
int n;
        {
        int i;
        while (n-- > 0)
                for (i = 0;  i < 10;  i++)
                        ;
        }                                       /* Delay */

void isr()
        {
        /*  actual background routine:  */

        abyte = ((inportb(IIR) >> 1) & 0x3);
        if (abyte == 0)
                inportb(MSR);   /* clear interrupt */
        if (abyte == 3)
                {                               /*framing/parity/overrun error*/
                abyte = inportb(LSR);   /* clear error condition */
                overrunerror = TRUE;    /* tell program of error */
                }
        else 
                if (abyte == 1)
                        {                       /* THR is empty; so indicate */
                        txregbusy = FALSE;
                        inportb(IIR);   /* clear interrupt */
                        }
                else 
                        if (abyte == 2)
                                {               /* there's a char to receive */
                                recvbuffer[asyncsub] = inportb(THR);
                                msgwaiting = TRUE;

                                asyncsub++;

                                if (asyncsub > buflen)
                                        asyncsub = 1;

                                if ((commbusy == FALSE) && (doingxmodem == FALSE
))
                                        {
                                        if (currcharsub <= asyncsub)
                                                gap = asyncsub - currcharsub;
                                        else 
                                                gap = (buflen - currcharsub) + a
syncsub;
                                        if (gap >= MAXGAP)
                                                {
                                                while ((inportb(LSR) & 0x20) != 
0x20)
                                                        ;
                                                outportb(THR, XOFF);
                                                commbusy = TRUE;
                                                txregbusy = TRUE;
                                                }
                                        }
                                }               /* end abyte == 2 */

        /* EOI command 8259A into EOI port} */
        outportb((unsigned) 0x20, 0x20);
        }

int setrtsdtr(state)
char state;

#define  RAISERTSDTR  0x03 
#define  DROPRTSDTR   0x00 
#define  BIT3TRUE     0x08       /* { on to allow interrupts } */

        {
        if (state)
                {
                outportb(MCR, RAISERTSDTR + BIT3TRUE);
                commbusy = FALSE;
                }
        else {
                outportb(MCR, DROPRTSDTR + BIT3TRUE);
                commbusy = TRUE;
                }
        }

int initcom(speed)
int speed;                              /* {either 300 or 1200} */
        {
        int actr, bctr;

        disable();
        if ((speed != 300) && (speed != 1200))
                speed = DEFAULTBAUD;
        setcom1();
        currcharsub = 1;
        asyncsub = 1;
        echoflag = FALSE;
        doingxmodem = FALSE;
        overrunerror = FALSE;
        msgwaiting = FALSE;
        sendwaittime = 0;

        updateuart(7, 'E', 1);
        newbaud(speed);

        buflen = RECVBUFSIZE;
        initint();                      /* setup isr interrupt handler */

        outportb(IER, ENABLE_INT);      /* {interrupt enable} */

        txregbusy = FALSE;

        /* reset the modem */
        outportb(MCR, 0x4);     /* OUT1 of MCR is 1 for at least 50 ms */
        for (actr = 0;  actr < 1000;  actr++)
                for (bctr = 0;  bctr < 10;  bctr++)
                        ;
        outportb(MCR, 0x1);

        setrtsdtr(TRUE);        /* {raises RTS, DTR, & } */
                          /* {enables OUT2 for interrupts} */
        a = inportb(IMR);
        outportb(IMR, a & ENABLE_IRQ4);
        enable();
        }

int removeport()
        {
        char a;


        setrtsdtr(FALSE);
        purgebuffer();

        a = inportb(IMR);
        outportb(IMR, a | DISABLE_IRQ4);

        outportb(IER, DISABLE_INT);

        outportb(MCR, DISABLE_OUT2);

        /* give back the serial port interrupt to DOS */
        delint();
        }

Here is LATTICE.C

#include "dos.h"

#define NULL    0

extern void intservc(),setds(),saveds() ;

extern char IV ;

void outportb(port,val)
unsigned int port ;
char val ;
{ outp(port,val); }

char inportb(port) 
int port ;
{ return((char)inp(port)); }


struct xstruct {
        int isrstk ;
        char filler[48] ;
        } exstruct ;

union REGS inregs ;
union REGS outregs ;
struct SREGS segregs ;

int vect_offsave,vect_segsave ;

initint()
{
char *p ;

setmem(&segregs,0x00,sizeof(segregs)) ;

inregs.h.al = IV ; /* find vector address for comm port */
inregs.h.ah = 0x35 ; /* interrupt number for get vector service */
segread(&segregs) ;
intdos(&inregs,&outregs) ;
vect_segsave = 0xf000 ;         /* because I know */
vect_offsave = outregs.x.bx ;

setmem(&inregs,0x00,sizeof(inregs)) ;
setmem(&outregs,0x00,sizeof(outregs)) ;

saveds() ; /* save ds in the body of saveds */
p = getmem(256) ; /* get some memory for the isr stack */
if(p==NULL) {
    printf("memory allocation error... exiting \n") ;
    exit(-1) ;
    }
exstruct.isrstk = (int)p+255 ; /* the sp pointer of isr will be set to the */
                               /* top of this getmained area        */ 
inregs.h.al = IV ;
inregs.h.ah = 0x25 ;
segregs.ds  = segregs.cs ;
inregs.x.dx = (unsigned int)intservc ;

disable() ;
intdosx(&inregs,&outregs,&segregs) ;
enable() ;
}

void delint()
{
setmem(&inregs,0x00,sizeof(inregs)) ;
setmem(&outregs,0x00,sizeof(outregs)) ;

/* ok, restore the original comm vector */
inregs.h.al = IV ;
inregs.h.ah = 0x25 ;
segregs.ds  = vect_segsave ;
inregs.x.dx = vect_offsave ;
disable() ;
intdosx(&inregs,&outregs,&segregs) ;
enable() ;
}

Here is MAIN.C

#include "bixdefs.h"

int main()
        {                                       /* main */
        char a, b, toolong;

        initcom(1200);
        printf("Simple communications program: hit CNTL-X to exit \n") ;
        while ((a = getch()) != CNTLX)
                {
                sendchar(a);
                putch(a);
                if (a == 0xD)
                        {
                        putch('\n');
                        do      {
                                receivechar(1000, &b, &toolong);
                                if (toolong == FALSE)
                                        putch(b);
                                }
                        while (toolong != TRUE);
                        }
                }
        removeport();
        }                                       /* main */


==========================
telecomm.tech/long.messages #3, from toves, 2090 chars, Mon Oct 20 04:50:48 1986
--------------------------
TITLE: DATA COMMUNICATIONS FM SUBCARRIER - NEW ZEALAND CALLING


       Hai Rai Mai - from KIWI LAND

             NEW ZEALAND



      ###                                   

     #####                     VVVVVVVV     

    #@#####     ######        VVV VV VVV    

    ######### #########       V  V  V  V    

    ##    #############           XX        

     #     #############          XX        

     #       ####### ##           XX        

                # #               XX        

  8          #####               XX        

010101010101010101010101010101010101010101010101010101010





Its BONZA to be switching through ----->>>>--->>> 1st time



Pkt swtch US/NWZL and around the rest of the world is

really great.



I'm travelling on id TOVES and look forward to reading

lots of bits.



A bit of background.  Here in Australasia we are really 

interested in the work which you do in the States.



I am a partner in a small startup in Wellington, with 3

others, a mexican, a chinese malayasian and a welshman,

I'm the KIWI. Its a great mixture and weve have just about

as wide a mix of talents a,there is nationalities.



We want to start a project here and thought you 

may be able to give some advice.





The project is based on the broadcasting of data on an FM

subcarrier 67.5khz frq



Data would then be received by users who carry 

battery powered portable programmable data receivers

(~300gm)



The receivers would decode te data and check for a 

threshold break against user defined limits.



I would appreciate the names of any companies who have

developed the portable receivers as well as contacts whom I

could approach inthe US who have implemented the injection

of signals into FM radio broadcasts.



I've been looking for suitable receivers all over the world

but have struck out to date



If any of you are following the America's Cup in Perth AUSL 

Its looks like its going to be a great competition - Have to 

say that we've got a ood boat - we call it KANGA-ROOTER.



Look forward to see-ring from you



R E G A R D S




==========================
telecomm.tech/long.messages #4, from barryn, 19035 chars, Tue Dec  9 00:51:57 19
86
--------------------------
TITLE: INT14.ASM

        page 50,100

;**************************************************************
;                                                             *
;   Code to "help" Interrupt 14 in the IBM PC ROM BIOS        *
;   so that it doesn't drop incoming characters if the        *
;   application program is busy doing something else.         *
;                                                             *
;   This is a complete replacement for Int14.                 *
;                                                             *
;                                                             *
;                                                             *
;   To create INT14.COM from INT14.ASM:                       *
;                                                             *
;          MASM INT14;                                        *
;          LINK INT14;                                        *
;          EXE2BIN INT14.EXE INT14.COM                        *
;          ERASE INT14.EXE                                    *
;                                                             *
;   Then run INT14.COM just after DOS is loaded.              *
;                                                             *
;   Subsequent accesses of Interrupt 14 to get characters     *
;   will use buffered I/O.                                    *
;                                                             *
;                                                             *
;   Copyright (c) 1986 Barry R. Nance                         *
;   All Rights Reserved                                       *
;                                                             *
;**************************************************************




;***********************************************************************
;                                                                      *
; Calling conventions:                                                 *
; --------------------                                                 *
;                                                                      *
;   For all of these functions, DX should be set to 0 (zero) for       *
;   COM1 and 1 (one) for COM2.                                         *
;                                                                      *
;                                                                      *
;                                                                      *
;   AH=0   --  SET COMMUNICATIONS PARAMETERS                           *
;   ----------------------------------------                           *
;       INPUT: AL should be set as follows:                            *
;                                                                      *
;   7       6       5       4       3        2           1       0     *
;------baud rate-------  ----parity----   -stopbit-   --word length--  *
;  000  --  110 baud       00  -- none     0 - 1bit     10 -- 7 bits   *
;  001  --  150 baud       01  -- odd      1 - 2bits    11 -- 8 bits   *
;  010  --  300 baud       11  -- even                                 *
;  011  --  600 baud                                                   *
;  100  -- 1200 baud                                                   *
;  101  -- 2400 baud                                                   *
;  110  -- 4800 baud                                                   *
;  111  -- 9600 baud                                                   *
;                                                                      *
;       OUTPUT:                                                        *
;              None.                                                   *
;                                                                      *
;                                                                      *
;                                                                      *
;   AH=1  --  TRANSMIT A CHARACTER                                     *
;   ------------------------------                                     *
;       INPUT:                                                         *
;             AL is character to be sent.                              *
;                                                                      *
;       OUTPUT:                                                        *
;             None.                                                    *
;                                                                      *
;                                                                      *
;   AH=2  --  RECEIVE A CHARACTER                                      *
;   -----------------------------                                      *
;       INPUT:                                                         *
;             None.                                                    *
;                                                                      *
;       OUTPUT:                                                        *
;          -  if no character is available from the modem,             *
;                then AL = 0 and AH = FFh.                             *
;          -  if character was received but an error occurred,         *
;                then AL = character and AH = 0Eh.                     *
;          -  if character was received successfully,                  *
;                then AL = character and AH = 00.                      *
;                                                                      *
;                                                                      *
;   AH=3  --  RETURN COMMUNICATIONS PORT STATUS                        *
;   -------------------------------------------                        *
;       INPUT:                                                         *
;             None.                                                    *
;                                                                      *
;       OUTPUT:                                                        *
;             AH contains the Line Status                              *
;             AL contains the Modem Status                             *
;                  (see the IBM Tech Ref Manual for settings.)         *
;                                                                      *
;                                                                      *
;***********************************************************************



BUFSIZE Equ     2048    ; you can make this larger, if you want



IER     Equ     1       ; Interrupt Enable Register
IIR     Equ     2       ; Interrupt Identification Register
LCR     Equ     3       ; Line Control Register
MCR     Equ     4       ; Modem Control Register
LSR     Equ     5       ; Line Status Register
MSR     Equ     6       ; Modem Status Register

IMR     Equ     21h     ; Interrupt Mask Register (for 8259)

ENABLE_IRQ4 Equ 0EFh
ENABLE_IRQ3 Equ 0F7h
ENABLE_INT  Equ 01h
SET_BAUD    Equ 80h




CSeg    Segment Para
        Assume  CS:CSeg, DS:CSeg, ES:Nothing
        Org     100h

Start:
        Jmp     Go              ; Jump around data and interrupt handlers



Buffer1 DB      BUFSIZE Dup(?)  ; for COM1:
Buffer2 DB      BUFSIZE Dup(?)  ; for COM2:

Head1   DW      0               ; Head1/Head2 are quite positional--
Head2   DW      0               ; as are Tail1/Tail2.  Don't
Tail1   DW      0               ; separate them!
Tail2   DW      0

Com1    DW      0
Com2    DW      0

BIOS14  DD      0               ; original address vector



        ; table of error-bits, 1 bit per received character

Errors1 DB      BUFSIZE/8 Dup(0)
Errors2 DB      BUFSIZE/8 Dup(0)




        ; bit-position equivalence table

BitPos  DB      80h
        DB      40h
        DB      20h
        DB      10h
        DB      08h
        DB      04h
        DB      02h
        DB      01h



        ; table for setting baud rate

BaudTbl DW      1047            ;  110 baud
        DW      768             ;  150
        DW      384             ;  300
        DW      192             ;  600
        DW      96              ; 1200
        DW      48              ; 2400
        DW      24              ; 4800
        DW      12              ; 9600




ISR_0C:
        STI                     ; interrupts back on
        Push    AX              ; save registers
        Push    BX
        Push    CX
        Push    DX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS              ; addressability to this segment
        Pop     DS

        Mov     DX, Com1        ; get the incoming character
        In      AL, DX
        Mov     SI, Head1
        Mov     Buffer1 [SI], AL ; store in the circular buffer

        Mov     AX, SI          ; calculate bit position for Head1
        Mov     BX, 8
        CWD
        IDIV    BX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DX = error_bit (0..7)
        Mov     BL, BitPos [DI]

        Mov     DX, Com1
        Add     DX, LSR         ; read LSR to find out if error occurred
        In      AL, DX
        Test    AL, 0Eh         ; isolate FramingError, ParityError,
                                ; and/or Overrun
        JNZ     SetError1

        Not     BL
        And     Errors1[SI], BL ; clear the error bit for this character
        Jmp     NxtChar1

SetError1:
        Or      Errors1[SI], BL ; set error bit for this character

NxtChar1:
        Inc     Head1
        Cmp     Head1, BUFSIZE
        JB      EOI1

        Mov     Head1, 0

EOI1:
        Mov     AL, 20h         ; tell 8259 ctrllr we're done
        Mov     DX, 20h
        Out     DX, AL

        Pop     DS              ; restore registers
        Pop     ES
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     DX
        Pop     CX
        Pop     BX
        Pop     AX
        IRET



ISR_0B:
        STI                     ; interrupts back on
        Push    AX              ; save registers
        Push    BX
        Push    CX
        Push    DX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS              ; addressability to this segment
        Pop     DS

        Mov     DX, Com2        ; get the incoming character
        In      AL, DX
        Mov     SI, Head2
        Mov     Buffer2 [SI], AL ; store in the circular buffer

        Mov     AX, SI          ; calculate bit position for Head1
        Mov     BX, 8
        CWD
        IDIV    BX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DX = error_bit (0..7)
        Mov     BL, BitPos [DI]

        Mov     DX, Com2
        Add     DX, LSR         ; read LSR to find out if error occurred
        In      AL, DX
        Test    AL, 0Eh         ; isolate FramingError, ParityError,
                                ; and/or Overrun
        JNZ     SetError2

        Not     BL
        And     Errors2[SI], BL ; clear the error bit for this character
        Jmp     NxtChar2

 SetError2:
        Or      Errors2[SI], BL ; set error bit for this character

 NxtChar2:
        Inc     Head2
        Cmp     Head2, BUFSIZE
        JB      EOI2

        Mov     Head2, 0

EOI2:
        Mov     AL, 20h         ; tell 8259 ctrllr we're done
        Mov     DX, 20h
        Out     DX, AL

        Pop     DS              ; restore registers
        Pop     ES
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     DX
        Pop     CX
        Pop     BX
        Pop     AX
        IRET



ISR_14:
        STI                     ; interrupts back on
        Push    BX              ; save registers
        Push    CX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS
        Pop     DS

        Push    DX

        Cmp     AH, 0
        JE      J0
        Cmp     AH, 1
        JE      J1
        Cmp     AH, 2
        JE      J2
        Cmp     AH, 3
        JE      J3

        Jmp     I14_Exit



J0:     Jmp     InitPort
J1:     Jmp     SendChar
J2:     Jmp     RecvChar
J3:     Jmp     GetStatus




InitPort:
        Push    DX              ; remember which port
        Push    AX              ; save comm. parameters
        Call    SetPort

        Mov     DX, DI          ; read the THR and LSR ports
        In      AL, DX          ; to clear error conditions (if any)
        Add     DX, LSR
        In      AL, DX

        Mov     DX, DI          ; tell 8250 we're setting baud rate
        Add     DX, LCR
        Mov     AL, SET_BAUD
        Out     DX, AL

        Pop     AX              ; retrieve comm. parms
        Push    AX              ; and save them again

        And     AX, 00E0h
        Mov     CX, 4           ; isolate baud info in SI
        Shr     AL, CL          ; so it can be used to index
        Mov     SI, AX          ; into BaudTbl

        Mov     AL, Byte Ptr BaudTbl [SI+1]
        Mov     DX, DI
        Add     DX, IER
        Out     DX, AL          ; high order into IER

        Mov     AL, Byte Ptr BaudTbl [SI]
        Mov     DX, DI
        Out     DX, AL          ; low order into THR

        Mov     DX, DI
        Add     DX, LCR
        Pop     AX              ; get back the comm. parms
        And     AL, 1Fh
        Out     DX, AL          ; and set stop bits, parity, etc.

        Pop     DX              ; get back port number
        Xor     AX, AX          ; status = 0
        Jmp     I14_Exit



SendChar:
        Push    AX              ; remember char-to-be-sent
        Call    SetPort
        Mov     BP, 10h         ; set up for timing loop
Wait:
        Mov     CX, 0
SC1:
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     SC2             ; register to become empty...
        Loop    SC1             ; but don't wait forever!

        Dec     BP
        JNZ     Wait
SC2:
        Pop     AX              ; get char-to-be-sent
        CLI
        Mov     DX, DI
        Out     DX, AL          ; send it.
        STI
        Mov     AH, 0           ; status = 0
        Jmp     I14_Exit



RecvChar:
        Call    SetPort
RWait:
        Mov     CX, 128         ; set for a very short wait
RC1:
        Mov     AX, Head1 [SI]  ; if SI=2, then uses Head2
        Cmp     AX, Tail1 [SI]
        JNE     RC2
        Loop    RC1

        Mov     AX, 0FF00h      ; return a null byte along with
        Jmp     RCExit          ; a status of "nothing there!"

RC2:
        Mov     DI, Tail1 [SI]         ; DI is now Tail1 or Tail2
        Mov     AL, Byte Ptr [BX] [DI] ; BX holds addr of buffer1 or buffer2

        Push    SI
        Push    AX

        Mov     BX, BP          ; address of Errors1 or Errors2
        Mov     AX, DI          ; calculate bit position for Tail
        Mov     CX, 8
        CWD
        IDIV    CX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DI = error_bit (0..7)
        Mov     CL, BitPos [DI]

        Test    Byte Ptr [BX] [SI], CL
        JNZ     CharIsBad

        Mov     CL, 0
        Jmp     SetForNxt

CharIsBad:
        Mov     CL, 0Eh         ; 0E means that an error occurred

SetForNxt:
        Pop     AX              ; retrieve the character
        Mov     AH, CL          ; set AH = status
        Pop     SI              ; retrieve Com1/Com2 index
        Inc     Tail1 [SI]      ; increment Tail1 or Tail2
        Cmp     Tail1 [SI], BUFSIZE
        JB      RCExit
        Mov     Tail1 [SI], 0   ; back to beginning of buffer
RCExit:
        Jmp     I14_Exit




GetStatus:
        Call    SetPort
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Mov     AH, AL
        Mov     DX, DI
        Add     DX, MSR
        In      AL, DX




I14_Exit:
        Pop     DX

        Pop     DS              ; restore registers
        Pop     ES              ; and return to the application
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     CX
        Pop     BX
        IRET



SetPort Proc    Near
        Cmp     DX, 0
        JNE     Use2ndPort

        Mov     DI, Com1
        Mov     BX, offset Buffer1
        Mov     BP, offset Errors1
        Mov     SI, 0
        Jmp     SetPExit

Use2ndPort:
        Mov     DI, Com2
        Mov     BX, offset Buffer2
        Mov     BP, offset Errors2
        Mov     SI, 2

SetPExit:
        Ret
SetPort EndP


EndOfResident   DW      0


Activate1 Proc   Near
        Mov     DX, Com1
        Add     DX, IER
        Mov     AL, ENABLE_INT
        Out     DX, AL

        Mov     DX, Com1        ; raise RTS and DTR
        Add     DX, MCR
        Mov     AL, 0Bh
        Out     DX, AL

        Mov     DX, IMR         ; allow IRQ4 interrupts
        In      AL, DX
        And     AL, ENABLE_IRQ4
        Out     DX, AL

        STI                     ; should be on already; doesn't hurt
        Ret
Activate1 EndP



Activate2 Proc   Near
        Mov     DX, Com2
        Add     DX, IER
        Mov     AL, ENABLE_INT
        Out     DX, AL

        Mov     DX, Com2        ; raise RTS and DTR
        Add     DX, MCR
        Mov     AL, 0Bh
        Out     DX, AL

        Mov     DX, IMR         ; allow IRQ3 interrupts
        In      AL, DX
        And     AL, ENABLE_IRQ3
        Out     DX, AL

        STI                     ; should be on already; doesn't hurt
        Ret
Activate2 EndP





Go:
        Mov     Com1, 03F8h
        Mov     Com2, 02F8h

        Mov     AH,35h          ; Get address of int 14
        Mov     AL,14h
        Int     21h
        Mov     Word Ptr BIOS14,   BX
        Mov     Word Ptr BIOS14+2, ES

        Mov     DX, offset ISR_14 ; make it point to our routine
        Mov     AH, 25h
        Mov     AL, 14h
        Int     21h

        Mov     DX, offset ISR_0C ; ISR for com1 interrupts
        Mov     AH, 25h
        Mov     AL, 0Ch
        Int     21h

        Mov     DX, offset ISR_0B ; ISR for com2 interrupts
        Mov     AH, 25h
        Mov     AL, 0Bh
        Int     21h

        Call    Activate1
        Call    Activate2

        Mov     AH, 0             ; init COM1 to 1200-E-7-1
        Mov     AL, 9Ah
        Mov     DX, 0
        Int     14h

        Mov     AH, 0             ; init COM2 same as COM1
        Mov     AL, 9Ah
        Mov     DX, 1
        Int     14h

        Mov     ES, DS:[2Ch]    ; de-allocate environment
        Mov     AH, 49h
        Int     21h

        Mov     DX, offset EndOfResident
        Mov     CX, 4h
        Shr     DX, CL          ; Turn byte addr. into paragraphs
        Add     DX, 1           ; round up by 1 paragraph
        Mov     AH, 31h
        Mov     AL, 0
        Int     21h             ; terminate/stay resident

CSeg    EndS
        End     Start


==========================
telecomm.tech/long.messages #6, from barryn, 32032 chars, Wed Feb 11 22:55:46 19
87
--------------------------
TITLE: INT14....Version 2.0, February 10, 1987

        page 50,100

;**************************************************************
;
;   Int14.Asm   Version 2.0   2/10/87         Barry Nance
;
;   FOR NON-COMMERCIAL USE ONLY!
;
;   Code to "help" Interrupt 14 in the IBM PC ROM BIOS
;   so that it doesn't drop incoming characters if the
;   application program is busy doing something else.
;
;   This is a complete replacement for Int14.
;
;
;   To load INT14.COM prior to using it, just say "INT14"
;   at the DOS prompt.
;
;   To unload (de-install) INT14, say "INT14 /U" at the DOS
;   prompt.  The "u" can be uppercase or lowercase.
;
;
;   To create INT14.COM from INT14.ASM:
;
;          MASM INT14;
;          LINK INT14;
;          EXE2BIN INT14.EXE INT14.COM
;          ERASE INT14.EXE
;
;   Then run INT14.COM just after DOS is loaded.
;
;   Subsequent accesses of Interrupt 14 to get characters
;   will use buffered I/O.
;
;
;   Copyright (c) 1986, 1987 Barry R. Nance
;   All Rights Reserved
;
;**************************************************************




;***********************************************************************
;
; Calling conventions:
; --------------------
;
;   For all of these functions, DX should be set to 0 (zero) for
;   COM1 and 1 (one) for COM2.
;
;
;
;   AH=0   --  SET COMMUNICATIONS PARAMETERS
;   ----------------------------------------
;       INPUT: AL should be set as follows:
;
;   7       6       5       4       3        2           1       0
;------baud rate-------  ----parity----   -stopbit-   --word length--
;  000  --  110 baud       00  -- none     0 - 1bit     10 -- 7 bits
;  001  --  150 baud       01  -- odd      1 - 2bits    11 -- 8 bits
;  010  --  300 baud       11  -- even
;  011  --  600 baud
;  100  -- 1200 baud
;  101  -- 2400 baud
;  110  -- 4800 baud
;  111  -- 9600 baud
;
;       OUTPUT:
;              None.
;
;
;
;   AH=1  --  TRANSMIT A CHARACTER
;   ------------------------------
;       INPUT:
;             AL is character to be sent.
;
;       OUTPUT:
;             None.
;
;
;   AH=2  --  RECEIVE A CHARACTER
;   -----------------------------
;       This function waits for an incoming character according to
;       the values in RS232_TIM_OUT, (2 bytes beginning at 0040:007C,
;       each byte corresponding to a COM port).
;
;       INPUT:
;             None.
;
;       OUTPUT:
;          -  if no character is available from the modem (time-out),
;                then AL = 0 and AH = 80h (see note about RS232_TIM_OUT).
;          -  if character was received but an error occurred,
;                then AL = character and AH = 0Eh.
;          -  if character was received successfully,
;                then AL = character and AH = 00.
;
;
;   AH=3  --  RETURN COMMUNICATIONS PORT STATUS
;   -------------------------------------------
;       INPUT:
;             None.
;
;       OUTPUT:
;             AH contains the Line Status:
;                 BIT 7 - TIME OUT
;                     6 - TRANS SHIFT REGISTER EMPTY
;                     5 - TRANS HOLDING REGISTER EMPTY
;                     4 - BREAK DETECT
;                     3 - FRAMING ERROR
;                     2 - PARITY ERROR
;                     1 - OVERRUN ERROR
;                     0 - DATA READY
;
;             AL contains the Modem Status:
;                 BIT 7 - CARRIER DETECT        (CD)
;                     6 - RING INDICATOR        (RI)
;                     5 - DATA SET READY        (DSR)
;                     4 - CLEAR TO SEND         (CTS)
;                     3 - DELTA CARRIER DETECT
;                     2 - TRAILING EDGE RING DETECTOR
;                     1 - DELTA DATA SET READY
;                     0 - DELTA CLEAR TO SEND
;
;
;
;   AH=4  --  RECEIVE A CHARACTER
;   -----------------------------
;       This function, unlike AH=2, does not use RS232_TIM_OUT.  It
;       returns almost immediately if no character is waiting in the
;       buffer to be processed.
;
;       INPUT:
;             None.
;
;       OUTPUT:
;          -  if no character is available from the modem,
;                then AL = 0 and AH = 80h.
;          -  if character was received but an error occurred,
;                then AL = character and AH = 0Eh.
;          -  if character was received successfully,
;                then AL = character and AH = 00.
;
;
;
;   AH=5  --  TOGGLE XOFF/XON FLOW CONTROL
;   --------------------------------------
;       When XON/XOFF support is enabled, INT14 will send an XOFF
;       control character to the other computer whenever the
;       number of not-yet-processed characters in the buffer
;       exceeds about 75% of the buffer size.  When enough
;       of the buffer characters have been processed to bring
;       that number down to about 50% of the buffer size, an
;       XON control character is sent to the other computer.
;
;       NOTE: ONLY USE THIS WHEN YOU KNOW THE OTHER COMPUTER
;       SUPPORTS XON/XOFF.  TURN THIS FEATURE *OFF* WHEN DOING
;       XMODEM OR OTHER PROTOCOL-BASED FILE TRANSFERS.
;
;       DEFAULT VALUE IS "OFF".
;
;       INPUT:
;             AL = 0 means "turn flow control off"
;             AL = 1 means "turn flow control on"
;                    (thus enabling XON/XOFF)
;
;       OUTPUT:
;             None.
;
;
;   AH=6  --  PURGE BUFFER
;   ----------------------
;       When this function is invoked, INT14 will discard any
;       not-yet-processed characters in the buffer.  It will
;       wait for about one second to make sure that the line is
;       "quiet" before returning to the application.
;
;       INPUT:
;             None.
;
;       OUTPUT:
;             None (side effect: the buffer is cleared).
;
;
;   AH=7  --  NUMBER OF NOT-YET-PROCESSED CHARACTERS
;   ------------------------------------------------
;       INPUT:
;             None.
;
;       OUTPUT:
;             AX = number of characters in the buffer that have
;             not yet been "read".
;
;
;***********************************************************************


        Public  Start 
        Public  ISR_0C, SetError1, NxtChar1, CheckGap1, CG1, CG2, CG3, EOI1
        Public  ISR_0B, SetError2, NxtChar2, CheckGap2, CG11, CG12, CG13, EOI2
        Public  CalcGap, HeadHigh, HeadLow, CalcExit
        Public  ISR_14, SendChar, InitPort, Wait, SC1, SC2
        Public  GetCh, GC1, GC2, NothingThere, GC3, CharIsBad, SetForNxt
        Public  GCExit
        Public  RecvChar1, RecvChar2, RC21, RC22, RC23, RecvA, Recv2Exit
        Public  GetStatus 
        Public  SetFlowCtrl, SFCA, SFCB, SFC1, SFC2, SFC3, SFC_Exit
        Public  PurgeBuffer, CountChars, I14_Exit
        Public  SetPort, Use2ndPort, SetPExit
        Public  Go
        Public  TestCmdLin, AlreadyThere, DeInstall, NotPresent
        Public  Activate1, Activate2, DeAct1, DeAct2

        Public  Buffer1
        Public  Buffer2
        Public  Head1
        Public  Head2
        Public  Tail1
        Public  Tail2
        Public  FloCtl1
        Public  FloCtl2
        Public  Busy1
        Public  Busy2
        Public  Gap1 
        Public  Gap2
        Public  Com1
        Public  Com2
        Public  BIOS0B
        Public  BIOS0C
        Public  BIOS14
        Public  Errors1
        Public  Errors2
        Public  BitPos
        Public  BaudTbl
        Public  PSPSeg
        Public  ResPSP





BUFSIZE Equ     2048            ; you can make this larger, if you want
HWM     Equ     BUFSIZE / 4 * 3
LWM     Equ     BUFSIZE / 2


IER          Equ     1       ; Interrupt Enable Register
IIR          Equ     2       ; Interrupt Identification Register
LCR          Equ     3       ; Line Control Register
MCR          Equ     4       ; Modem Control Register
LSR          Equ     5       ; Line Status Register
MSR          Equ     6       ; Modem Status Register

IMR          Equ     21h     ; Interrupt Mask Register (for 8259)

ENABLE_IRQ4  Equ 0EFh
ENABLE_IRQ3  Equ 0F7h
ENABLE_INT   Equ 01h
SET_BAUD     Equ 80h
DISABLE_IRQ3 Equ 08h
DISABLE_IRQ4 Equ 10h
DISABLE_INT  Equ 00h
CR           Equ 0Dh
LF           Equ 0Ah
XON          Equ 11h            ; Ctrl-Q
XOFF         Equ 13h            ; Ctrl-S
StdErr       Equ 02h







CSeg    Segment Para
        Assume  CS:CSeg, DS:CSeg, ES:Nothing
        Org     100h

Start:
        Jmp     Go              ; Jump around data and interrupt handlers



Buffer1 DB      BUFSIZE Dup(?)  ; for COM1:
Buffer2 DB      BUFSIZE Dup(?)  ; for COM2:

Head1   DW      0               ; Head1/Head2 are quite positional--
Head2   DW      0               ; as are Tail1/Tail2.  Don't
Tail1   DW      0               ; separate them!
Tail2   DW      0
FloCtl1 DW      0               ; FloCtl1/2 and Busy1/2 are also
FloCtl2 DW      0               ; memory-location-sensitive!
Busy1   DW      0
Busy2   DW      0
Gap1    DW      0               ; guess where Gap1 and Gap2 have to be?
Gap2    DW      0


Com1    DW      0
Com2    DW      0

BIOS0B  DD      0               ; original address vector -- 0B
BIOS0C  DD      0               ; original address vector -- 0C
BIOS14  DD      0               ; original address vector -- 14



        ; table of error-bits, 1 bit per received character

Errors1 DB      BUFSIZE/8 Dup(0)
Errors2 DB      BUFSIZE/8 Dup(0)




        ; bit-position equivalence table

BitPos  DB      80h
        DB      40h
        DB      20h
        DB      10h
        DB      08h
        DB      04h
        DB      02h
        DB      01h



        ; table for setting baud rate

BaudTbl DW      1047            ;  110 baud
        DW      768             ;  150
        DW      384             ;  300
        DW      192             ;  600
        DW      96              ; 1200
        DW      48              ; 2400
        DW      24              ; 4800
        DW      12              ; 9600




ISR_0C:
        STI                     ; interrupts back on
        Push    AX              ; save registers
        Push    BX
        Push    CX
        Push    DX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS              ; addressability to this segment
        Pop     DS

        Mov     DX, Com1        ; get the incoming character
        In      AL, DX
        Mov     SI, Head1
        Mov     Buffer1 [SI], AL ; store in the circular buffer

        Mov     AX, SI          ; calculate bit position for Head1
        Mov     BX, 8
        CWD
        IDIV    BX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DX = error_bit (0..7)
        Mov     BL, BitPos [DI]

        Mov     DX, Com1
        Add     DX, LSR         ; read LSR to find out if error occurred
        In      AL, DX
        Test    AL, 0Eh         ; isolate FramingError, ParityError,
                                ; and/or Overrun
        JNZ     SetError1

        Not     BL
        And     Errors1[SI], BL ; clear the error bit for this character
        Jmp     NxtChar1

SetError1:
        Or      Errors1[SI], BL ; set error bit for this character

NxtChar1:
        Inc     Head1
        Cmp     Head1, BUFSIZE
        JB      CheckGap1

        Mov     Head1, 0



CheckGap1:
        Cmp     FloCtl1, 0      ; are we doing flow control?
        JE      EOI1            ; no.
        Cmp     Busy1, 1        ; have we already done XOFF?
        JE      EOI1            ; yes.

        Mov     SI, 0           ; since we're doing COM1 here
        Call    CalcGap         ; calculate "water mark"

        Cmp     AX, HWM         ; are we at the "high water mark"?
        JB      EOI1            ; no.

        Mov     Busy1, 1        ; time to send an XOFF to the other guy

        Mov     BP, 10h         ; set up for timing loop
CG1: 
        Xor     CX, CX
CG2: 
        Mov     DX, Com1
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     CG3             ; register to become empty...
        Loop    CG2             ; but don't wait forever!

        Dec     BP
        JNZ     CG1

CG3:
        Mov     AL, XOFF        ; stop transmission
        CLI
        Mov     DX, Com1
        Out     DX, AL          ; send it.
        STI

EOI1:
        Mov     AL, 20h         ; tell 8259 ctrllr we're done
        Mov     DX, 20h
        Out     DX, AL

        Pop     DS              ; restore registers
        Pop     ES
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     DX
        Pop     CX
        Pop     BX
        Pop     AX
        IRET



ISR_0B:
        STI                     ; interrupts back on
        Push    AX              ; save registers
        Push    BX
        Push    CX
        Push    DX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS              ; addressability to this segment
        Pop     DS

        Mov     DX, Com2        ; get the incoming character
        In      AL, DX
        Mov     SI, Head2
        Mov     Buffer2 [SI], AL ; store in the circular buffer

        Mov     AX, SI          ; calculate bit position for Head1
        Mov     BX, 8
        CWD
        IDIV    BX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DX = error_bit (0..7)
        Mov     BL, BitPos [DI]

        Mov     DX, Com2
        Add     DX, LSR         ; read LSR to find out if error occurred
        In      AL, DX
        Test    AL, 0Eh         ; isolate FramingError, ParityError,
                                ; and/or Overrun
        JNZ     SetError2

        Not     BL
        And     Errors2[SI], BL ; clear the error bit for this character
        Jmp     NxtChar2

 SetError2:
        Or      Errors2[SI], BL ; set error bit for this character

 NxtChar2:
        Inc     Head2
        Cmp     Head2, BUFSIZE
        JB      CheckGap2

        Mov     Head2, 0


CheckGap2:
        Cmp     FloCtl2, 0      ; are we doing flow control?
        JE      EOI2            ; no.
        Cmp     Busy2, 1        ; have we already done XOFF?
        JE      EOI2            ; yes.

        Mov     SI, 2           ; since we're doing COM2 here
        Call    CalcGap         ; calculate "water mark"

        Cmp     AX, HWM         ; are we at the "high water mark"?
        JB      EOI2            ; no.

        Mov     Busy2, 1        ; time to send an XOFF to the other guy

        Mov     BP, 10h         ; set up for timing loop
CG11: 
        Xor     CX, CX
CG12: 
        Mov     DX, Com2
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     CG13            ; register to become empty...
        Loop    CG12            ; but don't wait forever!

        Dec     BP
        JNZ     CG11

CG13:
        Mov     AL, XOFF        ; stop transmission
        CLI
        Mov     DX, Com2
        Out     DX, AL          ; send it.
        STI

EOI2:
        Mov     AL, 20h         ; tell 8259 ctrllr we're done
        Mov     DX, 20h
        Out     DX, AL

        Pop     DS              ; restore registers
        Pop     ES
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     DX
        Pop     CX
        Pop     BX
        Pop     AX
        IRET





CalcGap Proc    Near            ; calculate distance between Head/Tail

        CLI                     ; a little peace and quiet...
        Mov     AX, Head1 [SI]
        Cmp     AX, Tail1 [SI]  ; SI is zero for COM1, 2 for COM2
        JB      HeadLow

HeadHigh:
        Sub     AX, Tail1 [SI]
        Jmp     CalcExit

HeadLow:
        Mov     AX, BUFSIZE
        Sub     AX, Tail1 [SI]
        Add     AX, Head1 [SI]

CalcExit:
        STI                     ; resume the maddening buzz of interrupts...
        Ret

CalcGap Endp                    ; AX contains calculated GAP.










ISR_14:
        STI                     ; interrupts back on
        Push    BX              ; save registers
        Push    CX
        Push    SI
        Push    DI
        Push    BP
        Push    ES
        Push    DS

        Push    CS
        Pop     DS

        Push    DX

        Cmp     AH, 0
        JE      J0
        Cmp     AH, 1
        JE      J1
        Cmp     AH, 2
        JE      J2
        Cmp     AH, 3
        JE      J3
        Cmp     AH, 4
        JE      J4
        Cmp     AH, 5
        JE      J5
        Cmp     AH, 6
        JE      J6
        Cmp     AH, 7
        JE      J7

        Jmp     I14_Exit



J0:     Jmp     InitPort
J1:     Jmp     SendChar
J2:     Jmp     RecvChar1
J3:     Jmp     GetStatus
J4:     Jmp     RecvChar2
J5:     Jmp     SetFlowCtrl
J6:     Jmp     PurgeBuffer
J7:     Jmp     CountChars




InitPort:
        Push    DX              ; remember which port
        Push    AX              ; save comm. parameters
        Call    SetPort

        Mov     DX, DI          ; read the THR and LSR ports
        In      AL, DX          ; to clear error conditions (if any)
        Add     DX, LSR
        In      AL, DX

        Mov     DX, DI          ; tell 8250 we're setting baud rate
        Add     DX, LCR
        Mov     AL, SET_BAUD
        Out     DX, AL

        Pop     AX              ; retrieve comm. parms
        Push    AX              ; and save them again

        And     AX, 00E0h
        Mov     CX, 4           ; isolate baud info in SI
        Shr     AL, CL          ; so it can be used to index
        Mov     SI, AX          ; into BaudTbl

        Mov     AL, Byte Ptr BaudTbl [SI+1]
        Mov     DX, DI
        Add     DX, IER
        Out     DX, AL          ; high order into IER

        Mov     AL, Byte Ptr BaudTbl [SI]
        Mov     DX, DI
        Out     DX, AL          ; low order into THR

        Mov     DX, DI
        Add     DX, LCR
        Pop     AX              ; get back the comm. parms
        And     AL, 1Fh
        Out     DX, AL          ; and set stop bits, parity, etc.

        Pop     DX              ; get back port number
        Xor     AX, AX          ; status = 0
        Jmp     I14_Exit



SendChar:
        Push    AX              ; remember char-to-be-sent
        Call    SetPort
        Mov     BP, 10h         ; set up for timing loop
Wait:
        Mov     CX, 0
SC1:
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     SC2             ; register to become empty...
        Loop    SC1             ; but don't wait forever!

        Dec     BP
        JNZ     Wait
SC2:
        Pop     AX              ; get char-to-be-sent
        CLI
        Mov     DX, DI
        Out     DX, AL          ; send it.
        STI
        Mov     AH, 0           ; status = 0
        Jmp     I14_Exit







        ; Enter 'GetCh' with DL equal to the number of 'CX=FFFF' loops
        ; you want to use as a time-out period.
        ;
        ; Returns with AL = character (zero if none)
        ;              AH = 80 if no character, 0E if error, else 00

GetCh   Proc    Near
        Mov     DH, DL
GC1:
        Xor     CX, CX
GC2:
        Mov     AX, Head1 [SI]  ; if SI=2, then uses Head2
        Cmp     AX, Tail1 [SI]
        JNE     GC3             ; character in buffer; go get it.

        Or      DH, DH          ; should we wait?
        JZ      NothingThere    ; no.
        Loop    GC2

        Dec     DL              
        JZ      NothingThere
        Jmp     GC1             ; keep waiting for a character.

NothingThere:
        Mov     AX, 8000h       ; return a null byte along with
        Jmp     GCExit          ; a status of "TIME OUT"

GC3:
        Push    DI
        Mov     DI, Tail1 [SI]         ; DI is now Tail1 or Tail2
        Mov     AL, Byte Ptr [BX] [DI] ; BX holds addr of buffer1 or buffer2

        Push    SI
        Push    AX

        Mov     BX, BP          ; address of Errors1 or Errors2
        Mov     AX, DI          ; calculate bit position for Tail
        Mov     CX, 8
        CWD
        IDIV    CX
        Mov     SI, AX          ; SI = error_sub (0..BUFSIZE / 8)
        Mov     DI, DX          ; DI = error_bit (0..7)
        Mov     CL, BitPos [DI]

        Test    Byte Ptr [BX] [SI], CL
        JNZ     CharIsBad

        Mov     CL, 0
        Jmp     SetForNxt

CharIsBad:
        Mov     CL, 0Eh         ; 0E means that an error occurred

SetForNxt:
        Pop     AX              ; retrieve the character
        Mov     AH, CL          ; set AH = status
        Pop     SI              ; retrieve Com1/Com2 index
        Pop     DI
        Inc     Tail1 [SI]      ; increment Tail1 or Tail2
        Cmp     Tail1 [SI], BUFSIZE
        JB      GCExit
        Mov     Tail1 [SI], 0   ; back to beginning of buffer

GCExit:
        Ret
GetCh   EndP






RecvChar1:
        Call    SetPort

        Push    ES
        Mov     AX, 40h
        Mov     ES, AX
        Push    SI                      ; SI = 0 or 2; save it.
        Shr     SI, 1                   ; make it 0 for COM1, 1 for COM2
        Mov     DL, ES:[007Ch] [SI]     ; RS232_TIM_OUT
        Pop     SI                      ; restore SI to 0 or 2.
        Pop     ES

        Call    GetCh                   ; get next char from buffer.
        Jmp     I14_Exit








RecvChar2:
        Call    SetPort
        Mov     DL, 0           ; set for no wait.
        Call    GetCh           ; get next char from buffer.

        CLI
        Cmp     Busy1 [SI], 1   ; if we've XOFF'd the transmitter,
        JNE     Recv2Exit       ; see if we've processed enough characters
                                ; in order to be able to send an XON
        Push    AX
        Call    CalcGap
        Cmp     AX, LWM         ; are we down to the "low water mark"?
        JA      RecvA           ; no.

        Mov     Busy1 [SI], 0   ; turn the Busy flag off for this port.

        Mov     BP, 10h         ; set up for timing loop
RC21:
        Xor     CX, CX
RC22:
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     RC23            ; register to become empty...
        Loop    RC22            ; but don't wait forever!

        Dec     BP
        JNZ     RC21

RC23:
        Mov     AL, XON         ; resume transmission
        CLI
        Mov     DX, DI
        Out     DX, AL          ; send it.
        STI

RecvA:
        Pop     AX

Recv2Exit:
        STI
        Jmp     I14_Exit






GetStatus:
        Call    SetPort
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Mov     AH, AL
        Mov     DX, DI
        Add     DX, MSR
        In      AL, DX
        Jmp     I14_Exit





SetFlowCtrl:
        Xor     AH, AH
        Cmp     AX, 1
        JA      SFC_Exit        ; invalid toggle switch value

        Call    SetPort

        CLI
        Cmp     Busy1 [SI], 0   ; are we currently holding up transmissions?
        JE      SFCA            ; no.
        Cmp     AX, 1           ; are we changing to "no flow control"?
        JE      SFCA            ; no.


        Mov     FloCtl1 [SI], AX        ; toggle Flow Control
        Mov     Busy1 [SI], 0   ; and turn off the Busy flag for this port.
        STI                     ; transmitter is currently XOFF'd.
        Jmp     SFCB            ; send it an XON (we're no longer doing
                                ; flow control).

SFCA:
        Mov     FloCtl1 [SI], AX        ; toggle Flow Control
        STI
        Jmp     SFC_Exit


SFCB:
        Mov     BP, 10h         ; set up for timing loop
SFC1:
        Xor     CX, CX
SFC2:
        Mov     DX, DI
        Add     DX, LSR
        In      AL, DX
        Test    AL, 20h         ; wait for Transmitter Holding
        JNZ     SFC3            ; register to become empty...
        Loop    SFC2            ; but don't wait forever!

        Dec     BP
        JNZ     SFC1

SFC3:
        Mov     AL, XON         ; resume transmission
        CLI
        Mov     DX, DI
        Out     DX, AL          ; send it.
        STI

SFC_Exit:
        Jmp     I14_Exit




PurgeBuffer:
        Push    DX
        Call    SetPort

        Mov     DL, 10          ; set for small wait.
        Call    GetCh           ; get next char from buffer.
        Cmp     AH, 80h         ; time-out?
        Pop     DX
        JNZ     PurgeBuffer     ; no, get next char.

        Jmp     I14_Exit







CountChars:
        Call    SetPort
        Call    CalcGap         ; leaves calc'd distance in AX



        ; fall through to the exit.



I14_Exit:
        Pop     DX

        Pop     DS              ; restore registers
        Pop     ES              ; and return to the application
        Pop     BP
        Pop     DI
        Pop     SI
        Pop     CX
        Pop     BX
        IRET



SetPort Proc    Near
        Cmp     DX, 0
        JNE     Use2ndPort

        Mov     DI, Com1
        Mov     BX, offset Buffer1
        Mov     BP, offset Errors1
        Mov     SI, 0
        Jmp     SetPExit

Use2ndPort:
        Mov     DI, Com2
        Mov     BX, offset Buffer2
        Mov     BP, offset Errors2
        Mov     SI, 2

SetPExit:
        Ret
SetPort EndP


EndOfResident   DW      0


Activate1 Proc   Near
        Mov     DX, Com1
        Add     DX, IER
        Mov     AL, ENABLE_INT
        Out     DX, AL

        Mov     DX, Com1        ; raise RTS and DTR
        Add     DX, MCR
        Mov     AL, 0Bh
        Out     DX, AL

        Mov     DX, IMR         ; allow IRQ4 interrupts
        In      AL, DX
        And     AL, ENABLE_IRQ4
        Out     DX, AL

        STI                     ; should be on already; doesn't hurt
        Ret
Activate1 EndP



Activate2 Proc   Near
        Mov     DX, Com2
        Add     DX, IER
        Mov     AL, ENABLE_INT
        Out     DX, AL

        Mov     DX, Com2        ; raise RTS and DTR
        Add     DX, MCR
        Mov     AL, 0Bh
        Out     DX, AL

        Mov     DX, IMR         ; allow IRQ3 interrupts
        In      AL, DX
        And     AL, ENABLE_IRQ3
        Out     DX, AL

        STI                     ; should be on already; doesn't hurt
        Ret
Activate2 EndP



DeAct1  Proc   Near
        Mov     DX, IMR         ; dis-allow IRQ4 interrupts
        In      AL, DX
        Or      AL, DISABLE_IRQ4
        Out     DX, AL

        Mov     DX, Com1        ; drop RTS and DTR
        Add     DX, MCR
        Mov     AL, 00h
        Out     DX, AL

        Mov     DX, Com1
        Add     DX, IER
        Mov     AL, DISABLE_INT
        Out     DX, AL

        Ret
DeAct1  EndP




DeAct2  Proc   Near
        Mov     DX, IMR         ; dis-allow IRQ3 interrupts
        In      AL, DX
        Or      AL, DISABLE_IRQ3
        Out     DX, AL

        Mov     DX, Com2        ; drop RTS and DTR
        Add     DX, MCR
        Mov     AL, 00h
        Out     DX, AL

        Mov     DX, Com2
        Add     DX, IER
        Mov     AL, DISABLE_INT
        Out     DX, AL

        Ret
DeAct2  EndP





PSPSeg  DW      0
ResPSP  DW      0


Msg1    DB      CR,LF, 'INT 14 loaded.  (c) 1987 Barry Nance', CR,LF
Msg1Sz  DW      40
Msg2    DB      CR,LF, 'Interrupt 14 is now unloaded. ', CR,LF
Msg2Sz  DW      34
Msg3    DB      CR,LF, 'Interrupt 14 is already in place.   ', CR,LF
Msg3Sz  DW      40




Go:
        Mov     PSPSeg, ES

        Mov     AH,35h                  ; Get address of int 14
        Mov     AL,14h
        Int     21h
        Mov     ResPSP, ES              ; save seg addr of resident PSP
        Cmp     BX, offset ISR_14       ; are we already in memory?
        JE      TestCmdLin              ; yes; shall we de-install?

        Jmp     NotPresent              ; nope, it's okay to install INT14


TestCmdLin:
        Mov     ES, PSPSeg
        Cmp     Byte Ptr ES:[80h], 0    ; is there a command line argument?
        JE      AlreadyThere            ; no, let's get out of here.

        Cmp     Byte Ptr ES:[83h], 'U'  ; check for "Uninstall" command
        JE      DeInstall
        Cmp     Byte Ptr ES:[83h], 'u'  ; check for lowercase
        JE      DeInstall


AlreadyThere:
        Mov     AH, 40h
        Mov     BX, StdErr
        Mov     DX, Offset Msg3
        Mov     CX, Msg3Sz
        Int     21h                     ; "We're already loaded!" message

        Mov     AX, 4C00h               ; exit, we're already loaded.
        Int     21h



DeInstall:
        Call    DeAct1                  ; tell UART to stop listening
        Call    DeAct2                  ; for characters.

        Mov     ES, ResPSP              ; point to resident stuff

        Push    DS
        LDS     DX, ES:BIOS0B           ; put vector 0B back the way
        Mov     AH, 25h                 ; it was.
        Mov     AL, 0Bh
        Int     21h
        Pop     DS

        Push    DS
        LDS     DX, ES:BIOS0C           ; put vector 0C back the way
        Mov     AH, 25h                 ; it was.
        Mov     AL, 0Ch
        Int     21h
        Pop     DS

        Push    DS
        LDS     DX, ES:BIOS14           ; put vector 14 back the way
        Mov     AH, 25h                 ; it was.
        Mov     AL, 14h
        Int     21h
        Pop     DS

        Mov     AH, 40h
        Mov     BX, StdErr
        Mov     DX, Offset Msg2
        Mov     CX, Msg2Sz
        Int     21h                     ; "We're going away...." message

        Mov     ES, PSPSeg              ; free this block first
        Mov     AH, 49h
        Int     21h

        Mov     ES, ResPSP              ; free resident block
        Mov     AH, 49h
        Int     21h

        Mov     AX, 4C00h               ; remove ourselves.
        Int     21h






NotPresent:
        Mov     AX, 40h         ; get RS232_BASE at 0040:0000
        Mov     ES, AX          ;               and 0040:0002
        Mov     AX, Word Ptr ES:[0]
        Mov     BX, Word Ptr ES:[2]
        Push    DS
        Pop     ES

        Mov     Com1, AX        ; store RS232_BASE port addresses
        Mov     Com2, BX        ; in Com1 and Com2

        Mov     AH,35h          ; Get address of int 0B
        Mov     AL,0Bh
        Int     21h
        Mov     Word Ptr BIOS0B,   BX
        Mov     Word Ptr BIOS0B+2, ES

        Mov     AH,35h          ; Get address of int 0C
        Mov     AL,0Ch
        Int     21h
        Mov     Word Ptr BIOS0C,   BX
        Mov     Word Ptr BIOS0C+2, ES

        Mov     AH,35h          ; Get address of int 14
        Mov     AL,14h
        Int     21h
        Mov     Word Ptr BIOS14,   BX
        Mov     Word Ptr BIOS14+2, ES

        Mov     DX, offset ISR_14 ; make it point to our routine
        Mov     AH, 25h
        Mov     AL, 14h
        Int     21h

        Mov     DX, offset ISR_0C ; ISR for com1 interrupts
        Mov     AH, 25h
        Mov     AL, 0Ch
        Int     21h

        Mov     DX, offset ISR_0B ; ISR for com2 interrupts
        Mov     AH, 25h
        Mov     AL, 0Bh
        Int     21h

        Call    Activate1
        Call    Activate2

        Mov     AH, 0             ; init COM1 to 1200-E-7-1
        Mov     AL, 9Ah
        Mov     DX, 0
        Int     14h

        Mov     AH, 0             ; init COM2 same as COM1
        Mov     AL, 9Ah
        Mov     DX, 1
        Int     14h

        Mov     ES, DS:[2Ch]    ; de-allocate environment
        Mov     AH, 49h
        Int     21h

        Mov     AH, 40h
        Mov     BX, StdErr
        Mov     DX, Offset Msg1
        Mov     CX, Msg1Sz
        Int     21h             ; "We're loaded" message

        Mov     DX, offset EndOfResident
        Mov     CX, 4h
        Shr     DX, CL          ; Turn byte addr. into paragraphs
        Add     DX, 1           ; round up by 1 paragraph
        Mov     AH, 31h
        Mov     AL, 0
        Int     21h             ; terminate/stay resident

CSeg    EndS
        End     Start




==========================
telecomm.tech/long.messages #7, from pplane, 1583 chars, Mon Apr 20 17:55:03 198
7
There is/are comment(s) on this message.
--------------------------
TITLE: Test program to read COM1:
;       Wand reading program
;
STACK   SEGMENT PARA STACK 'STACK'
        DB      256     DUP(0)  ;256 BYTES OF STACK SPACE
STACK   ENDS
;
CODE    SEGMENT PARA PUBLIC 'CODE'
START   PROC    FAR
;
;STANDARD PROGRAM PROLOGUE
;
        ASSUME  CS:CODE
        PUSH    DS      ;SAVE PSP SEG ADDR
        MOV     AX,0
        PUSH    AX      ;SAVE RET ADDR OFFSET (PSP+0)


CR      equ     0Dh
LF      equ     0Ah

;
; INITIALIZE COM1: 
;
        MOV     DX,00h  ;Select COM1:
        MOV     AH,00h  ;Select set parameters
        MOV     AL,0FAH ;Select 9600-E-7-1
        INT     14h     ;Call DOS

;
FOREVER: MOV    DX,00H  ;Select COM1:
        MOV     AH,03h  ;Select Report Status
        INT     14h     ;Call DOS
        TEST    AH,01h  ;Test for Char in buffer
        JNZ     RECEIVE ;RECEIVED CHARACTER HANDLING
;
        MOV     AH,1    ;CHECK KEYBOARD BUFFER CODE
        INT     16H     ;BIOS CALL
        JZ      FOREVER ;IF NO KEYBOARD CHARACTER THEN
;                               NOTHING TO TRANSMIT
;IF FALL THROUGH HERE THEN THERE IS A KEYBOARD
;CHARACTER TO TRANSMIT
        MOV     AH,0    ;GET KEYBOARD INPUT CODE
        INT     16H     ;BIOS CALL
;AL HAS THE KEYBOARD CHARACTER FOR TRANSMISSION

        CMP     AL,03h  ;was it ^C
        JZ      STOP    ;if it was, finish program
        JMP     FOREVER
;
;
RECEIVE: MOV    DX,00h  ;Select COM1:
        MOV     AH,02h  ;Select Rx a Char
        Int     14h     ;Call DOS
        Push    AX      ;Save the Rx char
;PREPARE TO DISPLAY THE CHARACTER
        MOV     BX,0
        MOV     AH,14   ;DISPLAY CODE FUNCTION
        INT     10H     ;BIOS CALL
        POP     AX      ;RESTORE THE CHARACTER
        CMP     AL,CR   ;WAS IT A CARRIAGE RETURN?
        JNZ     FOREVER ;NO, SO START OVER
;IF IT WAS A CARRIAGE RETURN, THEN A LINE FEED MUST
;ALSO BE DISPLAYED
        MOV     AL,LF   ;LINE FEED
        MOV     BX,0
        MOV     AH,14
        INT     10H     ;BIOS CALL
        JMP     FOREVER
;
STOP:   
        mov     ah,04Ch ;Select terminate process
        int     21h     ;Call DOS

START   ENDP
CODE    ENDS
        END     START


==========================
telecomm.tech/long.messages #8, from barryn, 2038 chars, Tue Apr 21 22:33:08 198
7
This is a comment to message 7.
--------------------------
Phil, try this code (and look closely at the INT14 calling conventions
that I documented at the front of the INT14.ASM file):

        TITLE  Test program to read COM1: (wand)

CR      equ     0Dh
LF      equ     0Ah

STACK   SEGMENT PARA STACK 'STACK'
        DB      256     DUP(0)  ;256 BYTES OF STACK SPACE
STACK   ENDS

CODE    SEGMENT PARA PUBLIC 'CODE'

START   PROC    FAR
        ASSUME  CS:CODE

;
; INITIALIZE COM1:

        MOV     DX,00h  ;Select COM1:
        MOV     AH,00h  ;Select set parameters
        MOV     AL,0FAH ;Select 9600-E-7-1
        INT     14h     ;Call DOS


FOREVER: 
        MOV     DX,00H  ;Select COM1:
        MOV     AH,04h  ;Select Receive Char
        INT     14h     ;Call BIOS
        Cmp     AH,80h  ;Test for Char in buffer
        JNZ     RECEIVE ;RECEIVED CHARACTER HANDLING

        MOV     AH,1    ;CHECK KEYBOARD BUFFER CODE
        INT     16H     ;BIOS CALL
        JZ      FOREVER ;IF NO KEYBOARD CHARACTER THEN
                        ;               NOTHING TO TRANSMIT


;IF FALL THROUGH HERE THEN THERE IS A KEYBOARD
;CHARACTER TO TRANSMIT
        MOV     AH,0    ;GET KEYBOARD INPUT CODE
        INT     16H     ;BIOS CALL
;AL HAS THE KEYBOARD CHARACTER FOR TRANSMISSION

        CMP     AL,03h  ;was it ^C
        JZ      STOP    ;if it was, finish program
        JMP     FOREVER


RECEIVE:
        PUSH    AX      ;SAVE THE RECEIVED CHARACTER
        MOV     BX,0    ;PREPARE TO DISPLAY THE CHARACTER
        MOV     AH,14   ;DISPLAY CODE FUNCTION
        INT     10H     ;BIOS CALL
        POP     AX      ;RESTORE THE CHARACTER
        CMP     AL,CR   ;WAS IT A CARRIAGE RETURN?
        JNZ     FOREVER ;NO, SO START OVER


;IF IT WAS A CARRIAGE RETURN, THEN A LINE FEED MUST
;ALSO BE DISPLAYED
        MOV     AL,LF   ;LINE FEED
        MOV     BX,0
        MOV     AH,14
        INT     10H     ;BIOS CALL
        JMP     FOREVER
;
STOP:
        MOV     AX,4C00h ;Select terminate process
        INT     21h      ;Call DOS

START   ENDP
CODE    ENDS
        END     START

Joining next active topic.
Checking for conference activity.
Joining conference 'learn', topic 'main'. 1 new message(s).
Read:all
==========================
learn/main #18, from llook, 66 chars, Fri Apr 24 21:08:12 1987
--------------------------
TITLE: Trying my wings ...
Hopefully this works as I expect it to

Joining next active topic.
Joining conference 'telecomm.pgms', topic 'general'. 1 new message(s).
Read:all
==========================
telecomm.pgms/general #256, from barryn, 149 chars, Fri Apr 24 21:17:38 1987
This is a comment to message 254.
--------------------------
BIXUP, except for the file-transfer logic, is the most simple-minded
communications program in the world.  So one button is all there is
to push....

Joining next active topic.
Checking for conference activity.
No unread messages in conferences.
:time
Fri Apr 24 21:18:10 1987

:time
Fri Apr 24 21:18:24 1987

:byewe
No conference 'byewe'.
Error: Unrecognized entry.
Choices are: bye, converse, edit, file, help, join, mail, moderate, option, 
password, read, show, who, 
:show

Conference: learn
        main   0/18      down.load   0/2    

Conference: moderators
comm.problems   0/1787       on.call   0/5    

Conference: System.News
     general   0/240  

Conference: packet.nets
      digest   0/2         telenet   0/43         tymnet   0/110  
      uninet   0/8           other   0/101       arpanet   0/4    
      e_mail   0/94        bocnets   0/2    

Conference: telecomm.pgms
      digest   0/2         general   0/256     protocols   0/32   
    problems   0/97   long.messages   0/3    

Conference: telecomm.tech
      digest   0/11          other   0/204     squeezing   0/68   
example.code   0/147        zmodem   0/6    long.messages   0/8    
:who
awaken         condor         haefeli        jmoffitt       rdegraeve
barryn         cpl            jamest         jrobie         rmwhite
bhendrickson   cwills         jbaur          lnoland        sfeldberg
bhofkin        dmick          jdow           mikemio        skristjansson
cfrank         dono           jdurosier      moneysmith     taka
cgibson        dreed          jholzer        prichie        waynerash
clintd         fnf            jimomura       pthan
comeau         gbond          jlaufer        rcellis
:bye
Goodbye..'clintd' 
Off at Fri Apr 24 21:20:01 1987
Total connect time for this session was 49 minutes.
Thank you for using BIX!  Please come back soon.

DROPPED BY HOST >BIX Zapped< 
#l
Port list:
* 181  bubb (B)
  OD1  NTS:2457 (B)
  33  pnelson:33 (B)

#
- f ?