












                                     TMCS

                                Version 11.02





                                 TYMNET Inc.

                        Network Technology Development


                  McDonnell Douglas Network Systems Company


                               October 1, 1987





     MDC-TYMNET's proprietary rights are included in the information dis-
     closed herein.   The recipient, by  receiving this  document, agrees
     that neither this document nor  the information disclosed herein nor
     any part thereof shall  be reproduced or transferred  to other docu-
     ments or used  or is closed to  others for manufacturing or  for any
     other purpose except as  specifically authorized in writing  by MDC-
     TYMNET.























     TMCS Version 11.02                                   October 1, 1987




                              Table of Contents                              _____ __ ________


     1.0 Summary Of Changes...........................................1

     2.0 TMCS and Network Console Combined - PIR 1226.................2

        2.1 Main Commands.............................................4

        2.2 Profile Subsystem.........................................4

        2.3 Modify Commands...........................................4

        2.4 Probe Commands............................................4

        2.5 Archive Commands..........................................4

        2.6 XOM Commands..............................................5

        2.7 Extended DDT Commands.....................................5

        2.8 Global Commands...........................................5

        2.9 Examples..................................................5

     3.0 TMCS Command Syntax Changes..................................6

        3.1 Main Commands.............................................6

           3.1.1 Threshold Condition Data.............................6

           3.1.2 XOM Host Data........................................8

           3.1.3 Reload Facility......................................8

           3.1.4 List Limit Name Command..............................8

           3.1.5 List Limit Command...................................9

           3.1.6 Log Command..........................................9

           3.1.7 Discard Command......................................9

           3.1.8 Delete Command.......................................9

        3.2 Profile Subsystem Commands................................10

           3.2.1 List Command.........................................10

           3.2.2 List Users Command...................................12

           3.2.3 Delete Command.......................................12



                                                                   Page i




     TMCS Version 11.02                                   October 1, 1987




           3.2.4 Create Command.......................................13

        3.3 Modify Subsystem Commands.................................14

           3.3.1 List Commands........................................15

              3.3.1.1 List Profile Command............................15

              3.3.1.2 List Terminal Command...........................16

              3.3.1.3 List Zone Command...............................16

              3.3.1.4 List License Command............................16

              3.3.1.5 List Node Command...............................17

              3.3.1.6 List Host Command...............................17

              3.3.1.7 List Event Command..............................17

              3.3.1.8 List Color Command..............................18

              3.3.1.9 List Daylightsavings Command....................18

           3.3.2 Change Commands......................................18

              3.3.2.1 Change Password Command.........................19

              3.3.2.2 Change Zone Command.............................19

              3.3.2.3 Change Daylightsavings Command..................19

              3.3.2.4 Change Terminal Command.........................20

              3.3.2.5 Change Color Command............................20

           3.3.3 Add-Remove Commands..................................21

              3.3.3.1 Add Command.....................................21

              3.3.3.2 Remove Command..................................21

        3.4 Archive Subsystem Commands................................22

           3.4.1 Directory Command....................................23

           3.4.2 Restore Command......................................23

           3.4.3 Store Command........................................23

           3.4.4 Compare command......................................23

        3.5 Probe Subsystem Commands..................................23


                                                                  Page ii




     TMCS Version 11.02                                   October 1, 1987




        3.6 XOM Subsystem Commands....................................24

        3.7 Extended DDT Subsystem Commands...........................24

        3.8 Global Commands...........................................25

           3.8.1 Commands With Syntax Changes.........................26

              3.8.1.1 Display Command.................................26

              3.8.1.2 Message Command.................................26

     4.0 TMCS Enhancements-I - PIR 2146...............................27

        4.1 Alarm Facility Enhancements...............................27

           4.1.1 Condition Definitions................................28

           4.1.2 Alarm Definitions....................................28

           4.1.3 Alarm Subsystem Commands.............................31

              4.1.3.1 List Command....................................31

              4.1.3.2 Delete Command..................................32

              4.1.3.3 Create Command..................................33

              4.1.3.4 Modify Command..................................33

           4.1.4 Modify Alarm Subsystem Commands......................34

              4.1.4.1 List Command....................................34

              4.1.4.2 Change Commands.................................34

                 4.1.4.2.1 Change Alarm Level Command.................34

                 4.1.4.2.2 Change Alarm Description Command...........35

                 4.1.4.2.3  Change Alarm  Nodes, Hosts,  Links, or  Slots

                 Command..............................................35

              4.1.4.3 Add-Remove Commands.............................36

        4.2 Reload Facility Enhancements..............................37

           4.2.1 Force XOM Parameter Restore..........................37

           4.2.2 Reload Status Report.................................38

        4.3 Do Not clear TMCS Database on Supervisor Change...........39


                                                                 Page iii




     TMCS Version 11.02                                   October 1, 1987




        4.4 XOM Saved Parameter Copy Command..........................39

     5.0 Automatic Backup for TMCS Permanent Data - PIR 1745..........40

     6.0 TMCS Net Security - PIR 2167.................................42

     7.0 Multiple Host Message Facility - PIR 1801....................44

     8.0 Authority Classes CUG Commands in Network Console - PIR 1932.45

     9.0 Network Console/XOM Improvements - PIR 2073..................46

     10.0 Query Sysgen by Link - PIR 1750.............................47

     11.0 XOM PVC Commands - PIR 1726.................................48

        11.1 Query PCNL Command.......................................48

        11.2 Query PVCHANNEL Command..................................49

        11.3 Change PVC parameters command............................50

        11.4 Add a new PVC command....................................52

        11.5 Remove an existing PVC command...........................54

        11.6 Check PVC status command.................................55

        11.7 Rebuild an existing PVC command..........................55

     12.0 XOM Link Statistic Commands in TMCS - PIR 1710..............57

        12.1 Link Performance Statistics Command......................57

        12.2 Link Error Statistics Command............................57

     13.0 Configuration File Changes..................................59

        13.1 Automatic Backup Configuration Parameters................59

        13.2 XOM Parameter Save and Restore Configuration Parameters..61

        13.3 Probe Username Configuration Parameters..................62

        13.4 Alarm Facility Configuration Parameters..................62

     14.0 Slot Paramter File Changes..................................63

        14.1 TMCS Host Definition Statement...........................63

        14.2 Slot Memory Size Definition Statement....................63

        14.3 Disk Unit Statement......................................64


                                                                  Page iv




     TMCS Version 11.02                                   October 1, 1987




        14.4 Tape Unit Statement......................................64

        14.5 Number of Users Statement................................64

        14.6 Number of Supervisors Statement..........................64

        14.7 Enable and Disable Statements............................65

        14.8 End Statement............................................65














































                                                                   Page v




     TMCS Version 11.02                                   October 1, 1987




     This document  is a reference to  TMCS Version 11.02.   It describes
     changes to TMCS code which have been  made since the release of Ver-
     sion 10.22. TMCS 11.02 has two major enhancements, they are:

     (1) Merge  Network Console  into  TMCS:  TMCS command  structure  is
         changed due to this merge.

     (2) Add Automatic Backup facility to TMCS: It will apply to networks
         which maintain  more than one  TMCS engine.  These  engines will
         communicate with each other so that they become partners to each
         other in backuping up each other's permanent data.


     SECTION 1.0 Summary Of Changes     _______ _ _ _______ __ _______


     The following list is a summary  of the changes, which are explained
     in detail in the succeeding sections.

         Number          Remark

         PIR 1226        TMCS III - TMCS & Network Console Combined
         PIR 1710        XOM Link Statistic Commands in TMCS
         PIR 1726        XOM PVC Commands
         PIR 1745        Automatic File Backup
         PIR 1750        Query Sysgen by Link
         PIR 1801        Enhancement of Net Message Multiple Message
         PIR 1932        Authority Classes CUG Commands in Network Console
         PIR 2073        Network Console/XOM Improvements
         PIR 2146        TMCS Enhancements-I (Alarm Improvements)
         PIR 2167        TMCS Net Security
























                                             Summary Of Changes    Page 1




     TMCS Version 11.02                                   October 1, 1987




     SECTION 2.0 TMCS and Network Console Combined - PIR 1226     _______ _ _ ____ ___ _______ _______ ________ _ ___ ____


     TMCS Version  11.02 incorporates the  interfaces of  Network Console
     (XOM and XDDT) to  give it significantly more  powerful and central-
     ized monitoring and debugging capabilities.

     TMCS Command Structure  is changed. The commands  are now classified
     in different  categories depending  on their  purpose. To  execute a
     command, the user needs to be in the right category. For example, to
     execute the List Profile command, which  is in the profile category,
     the user needs to be in the profile subsystem. The chart below shows
     how to "travel" from one category to the other.

                 Key of the chart:


                        +==============+
                        | CATEGORY  A  |
                        | prompt of A  |--------+
                        +--------------+        |
                                         +--<---+------+
                                         |             |
                                    +---------+   +---------+
                                    |command x|   |command y|
                                    +---------+   +---------+
                                         |             |
                                         +------+--->--+
                                                |
                                                |
                                      +===================+
                                      |    CATEGORY  B    |
                                      |    prompt of B    |
                                      +===================+

            command x= command(s) for going from A to B
            command y= command(s) for going from B to A


















                   TMCS and Network Console Combined - PIR 1226    Page 2




     TMCS Version 11.02                                   October 1, 1987




                                   login  logout
                                     |       |

     +===================================================================+
                                     |       |
                                  GLOBAL COMMANDS
                                     |       |
                                     |       |      +----+
                                     |       |      |quit|
                        +----<-------+       +------+-<--+-+
                        |      +===================+       |
                        +------|   MAIN COMMANDS   |-------+
              +----------------|         *         |--+------+------+
              |                +===================+  |             |
              |                 |         |           |             |
      +-----------<--+          | +-----------<--+    |        +-------<--+
      |profile|return|          | |archive|return|    |        |    | exit |
      +-->-----------+          | +--->----------+    |        |xddt|return|
              |                 |         |           |        |    | quit |
      +==============+          | +==============+    |        +->---------+
      |   PROFILE    |          | |   ARCHIVE    |    |             |
      |    prof>     |          | |   archive>   |    |        +===========+
      +==============+          | +==============+    |        |    DDT    |
              |           +-------<----+              |        |   xddt>   |
      +-----------<--+    |probe|exit  |              |        +===========+
      |modify |return|    |     |return|              |
      |create |update|    +-->---------+              |
      |       |abort |          |                     |
      +--->----------+    +==========+                |
              |           |   PROBE  |                |
              |           |     :    |                |
      +==============+    +==========+                |
      |    MODIFY    |                                |
      |     mod>     |                                |
      +==============+                            +-------<--+
                                                  |xom|return|
                                                  +->--------+
                                                      |
                                                  +==========+
                                                  |   XOM    |
                                                  |   xom>   |
                                                  +==========+


     +====================================================================+










                   TMCS and Network Console Combined - PIR 1226    Page 3




     TMCS Version 11.02                                   October 1, 1987




     SECTION 2.1 Main Commands     _______ _ _ ____ ________


     The Main commands encompass all commands that allow a user access to
     the various subsystems,  in addition to the  general usage commands.
     Upon logon a user is automatically under  the scope of the main com-
     mands category.


     SECTION 2.2 Profile Subsystem     _______ _ _ _______ _________


     The Profile commands are those commands  that allow a user to access
     the profile subsystem. The profile subsystem  allows a user to list,
     create or  delete a  profile, which  may or  may not  be their  own,
     depending upon the license possessed to the user.


     SECTION 2.3 Modify Commands     _______ _ _ ______ ________


     The Modify commands  are those commands that allow a  user to access
     the profile modification  subsystem. These commands allow  a user to
     modify  the password,  terminal type,  time  zone, licenses,  access
     nodes, access  hosts, access  events, event  colors, and  subject to
     daylightsavings time profile parameters.  The profile being modified
     may be that of  the user or may be any  other profile depending upon
     the license possessed by the user issuing the commands.


     SECTION 2.4 Probe Commands     _______ _ _ _____ ________


     The Probe  commands are those commands  that allow a user  to access
     the probe  subsystem. The Probe commands  are transparent as  if the
     user were directly logged into Probe, restricted only by the license
     possessed by the user issuing them.


     SECTION rchive Commands     _______ _ _ _______ ________


     The Archive commands are those commands which allow a user to access
     the Archive subsystem  commands providing disk-to-tape  and tape-to-
     disk operations on a predetermined set of files.










                                               Archive Commands    Page 4




     TMCS Version 11.02                                   October 1, 1987




     SECTION 2.6 XOM Commands     _______ _ _ ___ ________


     The XOM commands are those commands which  allow a user to access an
     X.25/X.75 interface slot via the X.25/X.75 Operations Manager (XOM).
     The  XOM subsystem  allows a  user  to access  multiple XOMs,  while
     allowing multiple users to access a single XOM simultaneously.


     SECTION 2.7 Extended DDT Commands     _______ _ _ ________ ___ ________


     The Extended DDT  commands are those commands which allow  a user to
     access a TYMNET-II node to  provide real-time debugging information.
     The Extended DDT  subsystem will allow multiple users  to access the
     same slot.


     SECTION 2.8 Global Commands     _______ _ _ ______ ________


     The Global commands are those commands  which may be issued anywhere
     within TMCS, regardless of which command level a user resides (i.e.,
     main command or specific subsystem).


     SECTION 2.9 Examples     _______ _ _ ________


     The List Profile command is a profile subsystem command.

     The Change Password command is a modify subsystem command because it
     changes the password in a profile.

     The Restore command is a archive subsystem command because it copies
     files on tape to the disk.

     The Date command  is a global command  since it is a  common command
     used to show the exceptions in a network at a given point in time.
















                                                       Examples    Page 5




     TMCS Version 11.02                                   October 1, 1987




     SECTION 3.0 TMCS Command Syntax Changes     _______ _ _ ____ _______ ______ _______


     This section  will describe  the differences  in command  syntax for
     Version 11.02  commands and previous  versions of TMCS.  Any command
     not appearing  in this  section will unchanged  and the  syntax from
     previous versions will  be identical. For further  details about the
     specifics of any command, please refer to the TMCS Reference Manual.

     The commands are classified by  category (main command, subsystem or
     global command)  in order  to make the  logical transition  from one
     command to another easier.

     The structure of the following examples is:

         old syntax: <prompt> <old command form>
         new syntax: <prompt> <new command form>

         where
           old syntax = command structure for TMCS Version 10.22 or earlier
           new syntax = command structure for TMCS Version 11.02


           <prompt>   = the prompt as they appear in the appropriate version
                        of TMCS ("*" or ">>" for Version 10.22 or earlier; "*"
                        or subsystem for Version 11.02).

     The minimal accepted form of each command will be capitalized:

            * DAte
            1/8/86 14:46:16


     SECTION 3.1 Main Commands     _______ _ _ ____ ________


     These  commands are  accessible  from the  main  command level,  the
     asterisk prompt.


     3.1.1 Threshold Condition Data           _________ _________ ____



     List Threshold Condition Command

     Old syntax: * list threshold condition [condition_name]
     New syntax: * LIst Boundary  CONDition [condition_name]

     Set Threshold Condition Command

     Old syntax: * set threshold condition <condition_name>
     New syntax: * SEt Boundary  CONDition <condition_name> NAme


                                                  Main Commands    Page 6




     TMCS Version 11.02                                   October 1, 1987




     Set Threshold Condition Threshold Command

     Old syntax:
       * set threshold condition <condition_name> alarm <threshold>
     New syntax:
       * SEt Boundary  CONDition <condition_name> THreshold <threshold>

     Set Threshold Condition Decay Command

     Old syntax:
       * set threshold condition <condition_name> decay <decay>
     New syntax:
       * SEt Boundary  CONDition <condition_name> DECay <decay>

     Set Threshold Condition Description Command

     Old syntax:
       * set threshold condition <condition_name> description '<text>'
     New syntax:
       * SEt Boundary  CONDition <condition_name> DEScription '<text>'

     Set Threshold Condition Event/Isis Command

     Old syntax:
       * set threshold condition <condition_name> {event|isis} <event#>
     New syntax:
       * SEt Boundary  CONDition <condition_name> {EVent|ISis} <event#>

     Set Threshold Condition Maximum Command

     Old syntax:
       * set threshold condition <condition_name> maximum <maximum>
     New syntax:
       * SEt Boundary  CONDition <condition_name> MAximum <maximum>

     Clear Threshold Condition Command

     Old syntax:
       * clear threshold condition <condition_name>
     New syntax:
       * CLear Boundary  CONDition <condition_name> NAme

     Clear Threshold Condition Threshold Command

     Old syntax:
       * clear threshold condition <condition_name> alarm
     New syntax:
       * CLear Boundary  CONDition <condition_name> THreshold







                                                  Main Commands    Page 7




     TMCS Version 11.02                                   October 1, 1987




     3.1.2 XOM Host Data           ___ ____ ____



     List Xom Host Command

     Old syntax:
       * list xom host [host#]
     New syntax:
       * List Xom [host#]

     Set Xom Host Command

     Old syntax:
       * set xom host <host#> node <node#> mxp <mxp#> slot <slot#>
     New syntax:
       * SEt Xom <host#> <node#> MXp <mxp#> Slot <slot#>

     Clear Xom Host Command

     Old syntax:
       * clear xom host <host#>
     New syntax:
       * CLear Xom <host#>



     3.1.3 Reload Facility           ______ ________



     List Reload Host Command

     Old syntax: * list reload host <host#>
     New syntax: * LIst CONFiguration Host <host#>

     List Reload Node Command

     Old syntax: * list reload node <node#>
     New syntax: * LIst CONFiguration NOde <node#>


     3.1.4 List Limit Name Command           ____ _____ ____ _______


     The List  Limit Name command  displays the  names of the  limit sets
     currently stored on disk.

       Old syntax: list limit name
       New syntax: LIst LImit Summary





                                                  Main Commands    Page 8




     TMCS Version 11.02                                   October 1, 1987




     3.1.5 List Limit Command           ____ _____ _______


     The List Limit command lists the contents of the limit set specified
     by the parameter limitname.

       Old syntax: LIst LIMit [<limitname>]
       New syntax: LIst LIMit [Identifier <limitname>]



     3.1.6 Log Command           ___ _______


     The Log command lists supervisor error  log messages.  A new parame-
     ter has  been added  to list messages  in hexadecimal.   This option
     requires DEV license.

       Old syntax: LOg [<from time> [To <to time>]]
       New syntax: LOg [<from time> [To <to time>]] [Hex]


     3.1.7 Discard Command           _______ _______


     The Discard command can either discard a  saved limit or a saved XOM
     parameter configuration.   Discarding the  XOM parameters  with this
     command rather than with the Delete  command under the XOM subsystem
     would be used when the XOM interface in unavailable, or when a saved
     XOM parameter configuration has  been copied with the  Copy Xom com-
     mand, to an invalid XOM host number.

       Old syntax: DISCard Limit <limitname>
       New syntax: DISCard {Limit <limitname> | Xom <host>}


     3.1.8 Delete Command           ______ _______


     The Delete command  is now the same as the  Discard command.  Either
     command can be used at the main command level.

       Old syntax: DElete <username>
       New syntax: DElete {Limit <limitname> | Xom <host>}











                                                  Main Commands    Page 9




     TMCS Version 11.02                                   October 1, 1987




     SECTION 3.2 Profile Subsystem Commands     _______ _ _ _______ _________ ________


     The Profile subsystem has been modified to identify it as a specific
     subsection of commands, with a separate  prompt from other TMCS com-
     mands.  The commands that fall within the  scope of the Profile sub-
     system are create, list, and delete.

     In order to enter into the profile  subsystem, a user needs to issue
     the command Profile as follows:

         * PROFile [username]

         where
           [username] = is the optional TMCS username which is to be
                        accessed. If no username is entered, the profile
                        accessed will be that of the user issuing the
                        command.

     Once the  user enters  into the Profile  subsystem, the  normal TMCS
     prompt will be replaced  with a new prompt to identify  the scope of
     commands to be allowed:

         * profile

         prof>

     To return to the  main command level, a user simply  enters the com-
     mand Return at the Profile subsystem prompt:

         * profile

         prof> Return

         *


     3.2.1 List Command           ____ _______


     The List  command prints  the profile for  the user  currently being
     accessed.

     Old syntax: * list profile [<username>]
     New syntax: prof> List [Profile <username>]

     The following are examples of List command using the profile subsys-
     tem with  the default  username (name the  user is  currently logged
     into) and with a specific username:

       please log in: tmcs
       >>>  TMCS Development System  <<<



                                    Profile Subsystem Commands    Page 10




     TMCS Version 11.02                                   October 1, 1987




       name: master
       password:

       host: 806  1/3/86 21:37:21

       * profile

       prof> list
       MASTER            HARDCOPY GMT not subject to daylight savings
       Password last changed: 12/17/85 20:38:05
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMMODIFY XOMOPERATOR
                XOMADMINISTRATOR XOMDO
       nodes: 2001-3777
       hosts: 1-8191
       events: 1-255
       color: WHITE 1-255
       prof> return

       * prof monnet

       prof> list
       MONNET            HARDCOPY GMT not subject to daylight savings
       Password last changed: 12/20/85 21:19:53
       license: UPD HANG WHO SETN SETP INACT DEV OPER HST GRT AUTOLOG
       nodes: 2001-3777
       hosts: 1-8191
       events: 1-255
       color: WHITE 1-255

       prof> return
       * prof monnet
                  prof> list profile coquelicot
       COQUELICOT        ADM3 GMT - 8 hours  subject to daylight savings
       Password last changed: 12/20/85 21:20:58
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                XOMDO
       nodes: 3777
       hosts: 1-2 8101-8191
       events: 1-2 11-255
       color: WHITE 1-255

       prof> return

       *









                                    Profile Subsystem Commands    Page 11




     TMCS Version 11.02                                   October 1, 1987




     3.2.2 List Users Command           ____ _____ _______


     This command prints the profiles for all users valid in TMCS.

      Old syntax: * list users
      New syntax: prof> List All

     The following is a  sample of the use and display  of the List Users
     command:

       prof> list all
       MASTER            HARDCOPY GMT not subject to daylight savings
       Password last changed: 12/17/85 20:38:05
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMMODIFY XOMOPERATOR
                XOMADMINISTRATOR XOMDO
       nodes: 2001-3777
       hosts: 1-8191
       events: 1-255
       color: WHITE 1-255
       MONNET            HARDCOPY GMT not subject to daylight savings
       Password last changed: 12/20/85 21:19:53
       license: UPD HANG WHO SETN SETP INACT DEV OPER HST GRT AUTOLOG
       nodes: 2001-3777
       hosts: 1-8191
       events: 1-255
       color: WHITE 1-255
       COQUELICOT        ADM3 GMT - 8 hours  subject to daylight savings
       Password last changed: 12/20/85 21:20:58
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                XOMDO
       nodes: 3777
       hosts: 1-2 8101-8191
       events: 1-2 11-255
       color: WHITE 1-255

       prof>



     3.2.3 Delete Command           ______ _______


     The Delete command is used to remove  a user from the valid users in
     TMCS.

      Old syntax: * delete <username>
      New syntax: prof> Delete <username>

     The following is an example of the use of the Delete command:



                                    Profile Subsystem Commands    Page 12




     TMCS Version 11.02                                   October 1, 1987




       prof> delete monnet

       prof> list all
       MASTER            HARDCOPY GMT not subject to daylight savings
       Password last changed: 12/17/85 20:38:05
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMMODIFY XOMOPERATOR
                XOMADMINISTRATOR XOMDO
       nodes: 2001-3777
       hosts: 1-8191
       events: 1-255
       color: WHITE 1-255
       COQUELICOT        ADM3 GMT - 8 hours  subject to daylight savings
       Password last changed: 12/20/85 21:20:58
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                XOMDO
       nodes: 3777
       hosts: 1-2 8101-8191
       events: 1-2 11-255
       color: WHITE 1-255

       prof>


     3.2.4 Create Command           ______ _______


     The Create command is used to initialize a new profile in TMCS.

       Old syntax: * create <newuser> [as <otheruser>]
       New syntax: prof> Create <newuser> [As <otheruser>]

     The following is an example of the use of the Create command:

       prof> create monnet as coquelicot

       Password:
       Type again:

       mod> update

       prof> list profile monnet
       MONNET            ADM3 GMT - 8 hours  subject to daylight savings
       Password last changed: 1/3/86 21:20:09
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                XOMDO
       nodes: 3777
       hosts: 1-2 8101-8191
       events: 1-2 11-255
       color: WHITE 1-255



                                    Profile Subsystem Commands    Page 13




     TMCS Version 11.02                                   October 1, 1987




       prof> list prof coquelicot
       COQUELICOT        ADM3 GMT - 8 hours  subject to daylight savings
       Password last changed: 12/20/85 21:20:58
       license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                XOMDO
       nodes: 3777
       hosts: 1-2 8101-8191
       events: 1-2 11-255
       color: WHITE 1-255

       prof>


     SECTION 3.3 Modify Subsystem Commands     _______ _ _ ______ _________ ________


     The Modify subsystem has  been established to identify it  as a spe-
     cific subsection of commands within the  Profile subsystem. The Mod-
     ify subsystem, like  the Profile subsystem are  those commands which
     alter  the parameters  of a  profile.  The Modify  subsystem may  be
     accessed only through the Profile subsystem.

     In order to enter  into the Modify subsystem, a user  needs to issue
     the command Modify as follows:

       prof> Modify [username]

       where
         [username] = is the optional TMCS username which is to be
                      accessed. If no username is entered, the profile
                      accessed will be that of the user issuing the
                      command.

     Once the user  enters into the Modify subsystem,  the normal Profile
     prompt will be replaced  with a new prompt to identify  the scope of
     commands to be allowed:

       * profile

       prof> modify

       mod>

     To return to the Profile subsystem, a  user simply enters one of the
     two action commands: UPDATE or ABORT.  The command Update will cause
     the changes to  be permanently recorded on the TMCS  disk, while the
     command Abort  will leave  the profile  unchanged from  its original
     state. The following are examples of the Update and Abort commands:

       prof> modify

       mod> update


                                     Modify Subsystem Commands    Page 14




     TMCS Version 11.02                                   October 1, 1987




       prof>

       prof> modify

       mod> abort

       prof>



     3.3.1 List Commands           ____ ________


     The following series of commands are used to display various parame-
     ters of the profile currently being accessed.


     3.3.1.1 List Profile Command             ____ _______ _______


     This command  will display all the  parameters of the  profile being
     viewed.

     Syntax: mod> List
     Default: none
     License: none

     The following is an example of the List command:

        prof> modify coquelicot

        mod> list
        COQUELICOT       ADM3 GMT - 8 hours  subject to daylight savings
        Password last changed: 12/20/85 21:20:58
        license: P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT
                 DEV OPER HST GRT AUTOLOG XOMQUERY XOMOPERATOR
                 XOMDO
        nodes: 3777
        hosts: 1-2 8101-8191
        events: 1-2 11-255
        color: WHITE 1-255

        mod>












                                     Modify Subsystem Commands    Page 15




     TMCS Version 11.02                                   October 1, 1987




     3.3.1.2 List Terminal Command             ____ ________ _______


     This command list the terminal type of the user being viewed:

     Syntax:  mod> List Terminal
     Default: none
     License: none

     The following is an example of the List Terminal command:

        mod> list terminal
        ADM3

        mod>



     3.3.1.3 List Zone Command             ____ ____ _______


     This command will list the time-zone of the user being modified.

     Syntax:  mod> List Zone
     Default: none
     License: none

     The following is an example of the List Zone command:

        mod> list zone
        GMT - 8 hours

        mod>



     3.3.1.4 List License Command             ____ _______ _______


     This  command  will  list  the  licenses given  to   the  user being
     viewed.

     Syntax:  mod> List License
     Default: none
     License: none

     The following is an example of the List License command:

       mod> list license
       P00 P01 P02 P10 P20 UPD HANG WHO SETN SETP INACT DEV OPER
       HST GRT AUTOLOG XOMQUERY XOMOPERATOR XOMDO

       mod>


                                     Modify Subsystem Commands    Page 16




     TMCS Version 11.02                                   October 1, 1987




     3.3.1.5 List Node Command             ____ ____ _______


     This command  will list the  nodes which  the user whose  profile is
     being viewed has access to.

     Syntax:  mod> List Node
     Default: none
     License: none

     The following is a sample of the use of this command:

       mod> list node
       3777

       mod>


     3.3.1.6 List Host Command             ____ ____ _______


     This command is used to list the  hosts which the user whose profile
     is being viewed has access to.

     Syntax:  mod> List Host
     Default: none
     License: none

     The following shows how to use this command:

       mod> list host
       1-2 8101-8191

       mod>



     3.3.1.7 List Event Command             ____ _____ _______


     This command  will list the events  which the user whose  profile is
     being viewed has access to.

     Syntax:  mod> List Event
     Default: none
     License: none

     The following is an example of the List Event command:

       mod> list event
       1-2 11-255

       mod>


                                     Modify Subsystem Commands    Page 17




     TMCS Version 11.02                                   October 1, 1987




     3.3.1.8 List Color Command             ____ _____ _______


     This command  will list  the colors  chosen for  the display  of the
     events.

     Syntax:  mod> List Color
     Default: none
     License: none

     The following is a sample of the use of this command:

       mod> list color
       WHITE 1-255

       mod>



     3.3.1.9 List Daylightsavings Command             ____ _______________ _______


     This command  will display whether the  user whose profile  is being
     viewed is subject to daylightsavings time.

     Syntax:  mod> List Daylightsavings
     Default: none
     License: none

     The following is an example of the List Daylightsavings command:

       mod> list daylightsavings
       subject to daylight savings

       mod>



     3.3.2 Change Commands           ______ ________


     The following  series of commands are  used to change the  values of
     the parameters of the profile currently being accessed.












                                     Modify Subsystem Commands    Page 18




     TMCS Version 11.02                                   October 1, 1987




     3.3.2.1 Change Password Command             ______ ________ _______


     This command will  change the password of the user  whose profile is
     being viewed.

       Old syntax: >> password
       New syntax: mod> Change Password

     The following is an example of the change Password command:

         mod> change password
         Password:
         Type again:

         mod>



     3.3.2.2 Change Zone Command             ______ ____ _______


     This command is used to set a new  time-zone for the user whose pro-
     file is being viewed.

       Old syntax: >> zone <nnn>
       New syntax: mod> Change Zone <nnn>

     The following is a sample of the Change Zone command:

         mod> change zone -400

         mod> list zone
         GMT - 7 hours

         mod>



     3.3.2.3 Change Daylightsavings Command             ______ _______________ _______


     This command is used to set whether the user is subject to daylight-
     savings time.

       Old syntax: >> daylightsavings {yes|no}
       New syntax: mod> Change Daylightsavings {ON|OFf}

     The following is an example of the Change Daylightsavings command:

         mod> change daylightsavings off

         mod> list daylightsavings


                                     Modify Subsystem Commands    Page 19




     TMCS Version 11.02                                   October 1, 1987




         not subject to daylight savings

         mod>



     3.3.2.4 Change Terminal Command             ______ ________ _______


     This command will set the terminal type of the user whose profile is
     being viewed.

       Old syntax: >> terminal {adm1|adm3|hp2621|isc8900|
                                        isc2400|vt100|scanset|hardcopy}
       New syntax: mod> Change Terminal {ADM1|ADM3|HP2621|ISC8900|
                                        ISC2400|Vt100|SCanset|HArdcopy}

     The following gives a sample of the use of this command:

         mod> change terminal hp2621

         mod> list terminal
         HP2621

         mod>



     3.3.2.5 Change Color Command             ______ _____ _______


     This command  will associate  an event  or a  set of  events with  a
     color.

     Old syntax: >> color event {event#|event#-event#...}
                            [color] [flashing] [separate]
     New syntax: mod> Change Color {event#|event#-event#...}
                            [color] [Flashing] [SEparate]

     The following is an example of the Change Color command:

       mod> change color 3-5 7 red flashing

       mod> list color
       WHITE 1-2 6 8-255
       RED FLASHING 3-5 7

       mod>







                                     Modify Subsystem Commands    Page 20




     TMCS Version 11.02                                   October 1, 1987




     3.3.3 Add-Remove Commands           __________ ________


     The following series  of commands are used to change  the content of
     selected sets of parameters (nodes,  hosts, events, licenses) of the
     profile currently being accessed.



     3.3.3.1 Add Command             ___ _______


     This command will  add a specific set of licenses,  nodes, hosts, or
     events to the profile of the user being accessed.

       Old syntax: >> add {{license {license-name|set of license-names}}|
                                   {node {node#|node#-node#...}}|
                                   {host {host#|host#-host#...}}|
                                   {event {event#|event#-event#...}}}
       New syntax: mod> ADd {{License {license-name|set of license-names}}|
                                   {Node {node#|node#-node#...}}|
                                   {HOst {host#|host#-host#...}}|
                                   {Event {event#|event#-event#...}}}

     The following is an example of the Add Node command:

         mod> add node 2002-2067 3002 3776

         mod> list node
         2002-2067 3002 3776-3777

         mod>



     3.3.3.2 Remove Command             ______ _______


     This command will  remove a specific set of  licenses, nodes, hosts,
     or events from the profile of the user being accessed.

       Old syntax:
             >> remove {{license {license-name|set of license-names}}|
                        {node {node#|node#-node#...}}|
                        {host {host#|host#-host#...}}|
                        {event {event#|event#-event#...}}}
       New syntax:
             mod> Remove {{License {license-name|set of license-names}}|
                          {Node {node#|node#-node#...}}|
                          {HOst {host#|host#-host#...}}|
                          {Event {event#|event#-event#...}}}




                                     Modify Subsystem Commands    Page 21




     TMCS Version 11.02                                   October 1, 1987




     The following is a sample of the  use and display of the Remove Host
     command:

         mod> remove host 8101-8123 8133

         mod> list host
         1-2 8101-8106 8124-8132 8134-8191

         mod>



     SECTION 3.4 Archive Subsystem Commands     _______ _ _ _______ _________ ________


     The Archive subsystem has been modified to identify it as a specific
     subsection of commands, with a separate  prompt from other TMCS com-
     mands and  subsections. The commands that  fall within the  scope of
     the Archive  subsystem are directory,  store, restore,  and compare.
     Access to the  Archive subsystem required that the  user possess the
     OPERATOR license.   The Archive subsystem deals  with a set  of TMCS
     system files that are predetermined.

     In order to enter into the Archive  subsystem, a user needs to issue
     the command Archive as follows:

       * ARChive

     Once the  user enters  into the Archive  subsystem, the  normal TMCS
     prompt will be replaced  with a new prompt to identify  the scope of
     commands to be allowed:

       * archive

       archive>

     To return to the  main command level, a user simply  enters the com-
     mand Return at the Archive subsystem prompt:

       * archive

       archive> RETurn

       *











                                    Archive Subsystem Commands    Page 22




     TMCS Version 11.02                                   October 1, 1987




     3.4.1 Directory Command           _________ _______


     The Directory command  will display  selected information  that per-
     tains to the files stored on a magnetic tape.

       Old syntax: * archive directory
       New syntax: archive> directory



     3.4.2 Restore Command           _______ _______


     The Restore command is  used to copy a specific list  of TMCS system
     files from magnetic tape to disk.

        Old syntax: * archive restore
        New syntax: * archive> REStore



     3.4.3 Store Command           _____ _______


     The Store  command is used  to copy a  specific list of  TMCS system
     files from disk to magnetic tape.

       Old syntax: * archive store
       New syntax: archive> STore



     3.4.4 Compare command           _______ _______


     The Compare command is used to compare the files on the disk and the
     one on the magnetic tape in order to check the last copy made.

       Old syntax: * archive compare
       New syntax: archive> COmpare



     SECTION 3.5 Probe Subsystem Commands     _______ _ _ _____ _________ ________


     The only addition to the Probe  subsystem is the Return command.  It
     is equivalent to the Exit and was added so that all subsystems could
     be exited with a common command.





                                      Probe Subsystem Commands    Page 23




     TMCS Version 11.02                                   October 1, 1987




     SECTION 3.6 XOM Subsystem Commands     _______ _ _ ___ _________ ________


     The XOM  Interface subsystem has been  modified to identify it  as a
     specific subsection of  commands, with a separate  prompt from other
     TMCS commands  and subsections.  The commands  that fall  within the
     scope of the XOM Interface subsystem are standard commands available
     in Network Console, except that the  DISPLAY command in Network Con-
     sole will become the LIST command in  TMCS. Access to the XOM Inter-
     face subsystem requires that the  user possess the XOMQUERY license.
     For further details on Network Console commands, please refer to the
     XOM  User's Guide  with TMCS  in (DNDSPEC)XOMTMS.DOC.   In order  to
     enter into  the XOM Interface subsystem,  a user needs to  issue the
     command XOM as follows:

       * XOm <host>

       where <host> = is the XOM host number to be accessed.

     Once the  user enters into the  XOM Interface subsystem,  the normal
     TMCS prompt will be replaced with a new prompt to identify the scope
     of commands to be allowed:

       * xom 999

       xom>

     To return to the  main command level, a user simply  enters the com-
     mand Return at the XOM subsystem prompt:

       * xom 999

       xom> RETurn

       *



     SECTION 3.7 Extended DDT Subsystem Commands     _______ _ _ ________ ___ _________ ________


     The Extended  DDT (XDDT)  subsystem has been  created to  allow TMCS
     users to interactively access a  TYMNET-II node to perform real-time
     debugging and  monitoring of  an ISIS  slot. The  XDDT subsystem  is
     identified as  a specific  subsection of  commands, with  a separate
     prompt from other  TMCS commands and subsections.  The commands that
     fall  within  the scope  of  the  XDDT  subsystem are  the  standard
     Extended DDT commands available through DDT. Access to the XDDT sub-
     system requires that  the user possess the DDT  license. For further
     details on Extended DDT, please refer to the ISIS- II Reference Man-
     ual.




                               Extended DDT Subsystem Commands    Page 24




     TMCS Version 11.02                                   October 1, 1987




     In order to enter into the XDDT subsystem, a user needs to issue the
     command Xddt as follows:

       * XDdt Slot <slot> {Host <host> | Node <node>}

       where <slot> = is the slot number on the node to be accessed
             <host> = is the kernel host number of the node to be accessed
             <node> = is the node number to be accessed

     The user has  the option of entering  either the node number  or the
     node's kernel host  number, in order to  gain access to XDDT  on the
     node. Once the user enters into  the XDDT subsystem, the normal TMCS
     prompt will be replaced  with a new prompt to identify  the scope of
     commands to be allowed:

       * xddt slot 2 host 9999

       xddt>

       * xddt slot 2 node 999

       xddt>

     To return to the  main command level, a user simply  enters the com-
     mand Return at the XDDT subsystem prompt:

       * xddt slot 2 host 999

       xddt> Return

       *



     SECTION 3.8 Global Commands     _______ _ _ ______ ________


     The following sections describes a series  of commands that are con-
     sidered to be globally executable commands, meaning that they may be
     entered from any level, either main or subsystem.

     The following section is broken  into two subsections: commands that
     have had syntax changes and commands that are unchanged.












                                               Global Commands    Page 25




     TMCS Version 11.02                                   October 1, 1987




     3.8.1 Commands With Syntax Changes           ________ ____ ______ _______




     3.8.1.1 Display Command             _______ _______


     The display command  produces a snap-shot of  the network exceptions
     at a  given point of  time.  The Display  command can be  entered at
     anytime except within the Profile, Alarm and Archive subsystems.  In
     previous versions of  TMCS, a user could specify the  order in which
     the exceptions were to be displayed.  In version 11.02, the order is
     fixed, but  the user  may still  select which  exceptions are  to be
     viewed. the order of display is now: NODES, LINES, HOSTS.

     Syntax: DISPlay [Nodes|Lines|Hosts]

     The following are  examples of the  different types of  Display com-
     mands:

           * display
             [will display nodes, lines, and hosts in that order]

           : display line node
             [will display nodes and lines in that order]

           xom> display host node line
             [will display nodes, lines, and hosts in that order]



     3.8.1.2 Message Command             _______ _______


     The Message command  allows users with appropriate  licenses to view
     status, error messages, and command trail messages of various system
     components. The messages  displayed are the one  associated with the
     specified license(s). In  previous versions of TMCS,  the user could
     only specify one  license while, in version 11.02, he  may specify a
     set of licenses.

     Old syntax: message [licensename] from <time>
     New syntax: MEssage [set of licenses] From <time>











                                               Global Commands    Page 26




     TMCS Version 11.02                                   October 1, 1987




     SECTION 4.0 TMCS Enhancements-I - PIR 2146     _______ _ _ ____ ______________ _ ___ ____


     TMCS Alarm  and Auto-Reload  facilities are enhanced  to be  able to
     manage back-up slots in a APSS configuration.  The major part of the
     enhancements is to extend the  flexibility of alarm definition.  The
     modified Alarm facility  will also extend alarm  capability to cover
     auto reload conditions.  This PIR breaks down  into several projects
     which are briefly described as follows:

     (1) Allow alarm class to vary with host number

     (2) Add node  or slot  reloading condition and  node or  slot reload
         failure condition

     (3) Force XOM parameter restore

     (4) Do not clear TMCS database on Sup change

     (5) Add a list reload status command


     SECTION 4.1 Alarm Facility Enhancements     _______ _ _ _____ ________ ____________


     The new  TMCS Alarm  system allows  alarm classes  to vary  by node,
     host, link or slot.  As long as the number of alarms does not exceed
     the predefined  network alarms in  the configuration file,  any user
     with ALMSET license can define an  alarm during the system run time,
     the alarm definition applies to all users.

     TMCS summarizes five types of network alarms  which are the new con-
     figuration parameters, they are:

         const
           number_of_node_alarms     = <user input>;
           number_of_host_alarms     = <user input>;
           number_of_link_alarms     = <user input>;
           number_of_slot_alarms     = <user input>;
           number_of_general_alarms  = <user input>;

     The relationship  between the alarms  and network conditions  are as
     follows:

             Alarm Type      Network Conditions Causing Alarm             _____ ____      _______ __________ _______ _____


             Node Alarms     Node Condition:
                               Node Crash,
                               Node Reloading, Node Reloading Failure

             Host Alarms     Host Condition:
                               Host Gone, Host Down, Host Shut


                                   Alarm Facility Enhancements    Page 27




     TMCS Version 11.02                                   October 1, 1987




             Link Alarms     Link Condition:
                               Link Shut, Line Out

             Slot Alarms     Slot Condition:
                               Slot Crash
                               Slot Reloading, Slot Reloading Failure

             General Alarms  General Threshold


     4.1.1 Condition Definitions           _________ ___________


     TMCS system monitors  two types of network  conditions, TMCS defined
     conditions and user defined threshold conditions.  TMCS defined con-
     ditions which include  node crash, host gone, host  down, host shut,
     link shut, line out, node reloading failure, slot reloading failure,
     node reloading and slot reloading are defined by TMCS.  Of the above
     TMCS defined  conditions, four  conditions are  newly added  to TMCS
     11.02, they are:

     Node Reloading Failure: failure threshold  was reached for automatic
         reload of a node

     Slot Reloading Failure: failure threshold  was reached for automatic
         reload of a slot

     Node Reloading: a node is reloading by TMCS Auto-reload facility

     Slot Reloading: a slot is reloading by TMCS Auto-reload facility

     During TMCS run time, any user with  the THRSET license can define a
     threshold condition.  The user defined threshold conditions apply to
     all users.  The commands for setting,  clearing, and listing thresh-
     old condition are described in Section 3.1.1 .


     4.1.2 Alarm Definitions           _____ ___________


     Any TMCS user  with ALMSET license can define a  alarm.  The defined
     alarm will  apply to  the entire system.   The network  alarms which
     TMCS user  can have  are Node  Alarm, Host  Alarm, Link  Alarm, Slot
     Alarm and General Alarm.

     Each alarm definition consists of the following;

     (1) NODE ALARM

         Name         : a one  to sixteen character  symbol by  which the
                        alarm is known.   The ALARM is defined  by giving
                        it  a  name, with  the  name  then used  to  make
                        changes to the definition.


                                   Alarm Facility Enhancements    Page 28




     TMCS Version 11.02                                   October 1, 1987




         Condition    : conditions are node crash, node reloading failure
                        and  node  reloading.  One  of  them  has  to  be
                        entered.

         Node set     : range of nodes which are interested.

         Alarm level  : one of the four alarm classes (A, B, C, O).  This
                        indicates which  alarm will be signaled  when the
                        condition occurs.

         Description  : description text (1-32 chars).  If no description
                        is given, the condition description text defaults
                        to  "node   lost"  for  node   crash  conditions,
                        "reloading node" for node reloading condition and
                        "reloading node failure" for node reloading fail-
                        ure condition.

     (2) HOST ALARM

         Name         : a one  to sixteen character  symbol by  which the
                        alarm is known.   The ALARM is defined  by giving
                        it  a  name, with  the  name  then used  to  make
                        changes to the definition.

         Condition    : conditions are  host gone, host down,  host shut.
                        One of them has to be entered.

         Host set     : range of hosts which are interested.

         Alarm level  : one of the four alarm classes (A, B, C, O).  This
                        indicates which  alarm will be signaled  when the
                        condition occurs.

         Description  : description text (1-32 chars).  If no description
                        is given, the condition description text defaults
                        to  "host gone"  for host  gone condition,  "host
                        shut" for host shut condition and "host down" for
                        host down condition.

     (3) LINK ALARM

         Name         : a one  to sixteen character  symbol by  which the
                        alarm is known.   The ALARM is defined  by giving
                        it  a  name, with  the  name  then used  to  make
                        changes to the definition.

         Condition    : conditions are link shut, line out.

         Link set     : range of links which are interested.

         Alarm level  : one of the four alarm classes (A, B, C, O).  This
                        indicates which  alarm will be signaled  when the
                        condition occurs.


                                   Alarm Facility Enhancements    Page 29




     TMCS Version 11.02                                   October 1, 1987




         Description  : description text (1-32 chars).  If no description
                        is given, the condition description text defaults
                        to  "links  shut"  for link  shut  condition  and
                        "links with line outage" for line out condition.

     (4) SLOT ALARM

         Name         : a one  to sixteen character  symbol by  which the
                        alarm is known.   The ALARM is defined  by giving
                        it  a  name, with  the  name  then used  to  make
                        changes to the definition.

         Condition    : conditions are slot crash, slot reloading failure
                        and  slot  reloading.  One  of  them  has  to  be
                        entered.

         Slot set     : range of slots which are interested.

         Alarm level  : one of the four alarm classes (A, B, C, O).  This
                        indicates which  alarm will be signaled  when the
                        condition occurs.

         Description  : description text (1-32 chars).  If no description
                        is given, the condition description text defaults
                        to  "slot  halted"  for   slot  crash  condition,
                        "reloading slot" for slot reloading condition and
                        "reloading slot failure" for slot reloading fail-
                        ure condition.

     (5) GENERAL ALARM

         Name         : a one  to sixteen character  symbol by  which the
                        alarm is known.   The ALARM is defined  by giving
                        it  a  name, with  the  name  then used  to  make
                        changes  to the  definition.   The  name must  be
                        identical to  the name of a  threshold condition.
                        The threshold  condition is  the condition  which
                        wil cause the alarm.

         Condition    : the only condition is general threshold.

         Alarm level  : one of the four alarm classes (A, B, C, O).  This
                        indicates which  alarm will be signaled  when the
                        condition occurs.

         Description  : description text (1-32 chars).  If no description
                        is given,  the condition description  defaults to
                        "threshold condition".







                                   Alarm Facility Enhancements    Page 30




     TMCS Version 11.02                                   October 1, 1987




     4.1.3 Alarm Subsystem Commands           _____ _________ ________


     The Alarm subsystem is a specific subsection of commands with a sep-
     arate  prompt from  other  TMCS commands.   The  commands that  fall
     within the  scope of the Alarm  subsystem are list,  delete, create,
     and modify.

     To enter  the Alarm subsystem, the  user needs to issue  the command
     "Alarm".   Once the  user enters  into  the Alarm  subsystem, a  new
     prompt will replace  the normal TMCS prompt.  To return  to the main
     command level,  a user  simply enters  the command  "Return" at  the
     Alarm subsystem level.

         * ALArm

         alarm> RETurn

         *


     4.1.3.1 List Command             ____ _______


     The list command prints the alarm definition.

         LIST [ <alarm name> |
                NODE [ALARM] | HOST [ALARM] | LINK [ALARM] |
                LINE [ALARM] | SLOT [ALARM] | GENERAL [ALARM] ]

     Example:

         alarm> list
         name: NODE1  level: B
         condition: node crash
         description: node lost
         nodes: 2110

         name: NODE2  level: O
         condition: node crash
         description: node lost
         nodes: 2300 2400

         name: HOST2  level: C
         condition: host gone
         description: host not available
         hosts: 333

         name: LINK1  level: A
         condition: link shut
         description: links shut
         links: 2100:2200 2400:2500



                                   Alarm Facility Enhancements    Page 31




     TMCS Version 11.02                                   October 1, 1987




         name: SLOT1  level: O
         condition: reload slot failure
         description: reloading slot
         slot: 2100:2:3

         name: THRES3  level: C
         condition: threshold condition
         description: general threshold

         alarm> list host2
         name: HOST2  level: C
         condition: host gone
         description: host not available
         hosts: 333

         alarm> list node alarm
         name: NODE1  level: B
         condition: node lost
         description: node crash
         nodes: 2110

         name: NODE2  level: O
         condition: node crash
         description: node lost
         nodes: 2300 2400

         alarm> return

         *



     4.1.3.2 Delete Command             ______ _______


     The Delete command is used to delete a alarm definition.

         DELETE <alarm name>

     Example:

         alarm> delete node1

         alarm> list node
         name: NODE2  level: O
         condition: node crash
         description: node lost
         nodes: 2300 2400

         alarm>





                                   Alarm Facility Enhancements    Page 32




     TMCS Version 11.02                                   October 1, 1987




     4.1.3.3 Create Command             ______ _______


     The Create command is used to initialize a new alarm definition.

         CREATE <alarm name> <condition> [ALARM]

     After issuing the "Create" command, the Modify subsystem is entered.
     To return to the Alarm subsystem, a user simply enters "Return" com-
     mand.  The <condition> parameter is either  NODE CRASH, NODE RELOAD-
     ING,  NODE  RELOADING  FAILURE, SLOT  CRASH,  SLOT  RELOADING,  SLOT
     RELOADING FAILURE, HOST GONE, HOST DOWN,  HOST SHUT, LINK SHUT, LINE
     OUT or GENERAL THRESHOLD.

     Example:
         alarm> create node1 node crash alarm

         modalm> list
         name: NODE1  level: O
         condition: node crash
         description: node lost
         nodes: none

         modalm> return

         alarm>

     The default alarm level is "O".


     4.1.3.4 Modify Command             ______ _______


     Like Create command, the Modify command also leads the user into the
     Modify Alarm subsystem.

         MODIFY <alarm name>

     Example:

         alarm> modify node1

         modalm> return

         alarm>










                                   Alarm Facility Enhancements    Page 33




     TMCS Version 11.02                                   October 1, 1987




     4.1.4 Modify Alarm Subsystem Commands           ______ _____ _________ ________


     The Modify subsystem is entered by issuing the Create or Modify com-
     mands.  The Modify Alarm subsystem has commands which alter the par-
     ameters of a specific alarm definition. To  return to the Alarm sub-
     system, a user simply enters "Return" command.


     4.1.4.1 List Command             ____ _______


     This command will display the specified alarm definition.

     Syntax: modalm> List

     Example:

         * alarm

         alarm> modify host1

         modalm> list
         name: HOST1  level: O
         condition: host shut
         description: host shut
         hosts: none



     4.1.4.2 Change Commands             ______ ________


     The following  series of commands are  used to change the  values of
     the parameters of the alarm definition currently being accessed.


     4.1.4.2.1 Change Alarm Level Command               ______ _____ _____ _______


     This command will change the alarm definition level.

     Syntax: modalm> Change Level {A|B|C|O}

     Example:

         modalm> list
         name: HOST1  level: O
         condition: host shut
         description: host shut
         hosts: none

         modalm> change level a


                                   Alarm Facility Enhancements    Page 34




     TMCS Version 11.02                                   October 1, 1987




         modalm> list
         name: HOST1  level: A
         condition: host shut
         description: host shut
         hosts: none



     4.1.4.2.2 Change Alarm Description Command               ______ _____ ___________ _______


     This command is used to set the alarm description text.

     Syntax: modalm> Change Description <text>

             where
               text = 1-32 characters, 'enclosed in quotes'.

     Example:

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: host down
         hosts: none

         modalm> change desc 'Host reporting down'

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: Host reporting down
         hosts: none



     4.1.4.2.3 Change Alarm Nodes, Hosts, Links, or Slots Command               ______ _____ _____  _____  _____  __ _____ _______


     This command is  used to set alarming  nodes for node alarm,  to set
     alarming hosts for host alarm, to set alarming links for link alarm,
     or to set alarming slots for slot alarm.

     Syntax: modalm> Change {Node <node#>...|
                             Host <host#>...|
                             Link <node#:node#>...|
                             Slot <node#:slot#[:mp#]>...}

     Example;

         modalm> list
         name: HOST1  level: A
         condition: host down


                                   Alarm Facility Enhancements    Page 35




     TMCS Version 11.02                                   October 1, 1987




         description: Host reporting down
         hosts: none

         modalm> change host 2100-2200

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: Host reporting down
         hosts: 2100-2200



     4.1.4.3 Add-Remove Commands             __________ ________


     These command are used to add/remove  alarming nodes for node alarm,
     to add/remove alarming hosts for  host alarm, to add/remove alarming
     links  for link  alarm, or  to  add/remove alarming  slots for  slot
     alarm.

     Syntax: modalm> Add {Node <node#>...|
                          Host <host#>...|
                          Link <node#:node#>...|
                          Slot <node#:slot#[:mp#]>...}

     Syntax: modalm> Remove {Node <node#>...|
                             Host <host#>...|
                             Link <node#:node#>...|
                             Slot <node#:slot#[:mp#]>...}

     Example;

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: Host reporting down
         hosts: 2100-2200

         modalm> add host 2300

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: Host reporting down
         hosts: 2100-2200 2300

         modalm> remove host 2115

         modalm> list
         name: HOST1  level: A
         condition: host down
         description: Host reporting down


                                   Alarm Facility Enhancements    Page 36




     TMCS Version 11.02                                   October 1, 1987




         hosts: 2100-2114 2116-2200 2300



     SECTION 4.2 Reload Facility Enhancements     _______ _ _ ______ ________ ____________




     4.2.1 Force XOM Parameter Restore           _____ ___ _________ _______


     TMCS keeps  a set of  XOM hosts that  are currently waiting  for the
     restore of  XOM configuration parameters  by TMCS. The  commands for
     setting, clearing,  and listing the XOM  hosts which are  in restore
     pending are:

         SET XOM <host#> PENDING
         CLEAR XOM <host#> PENDING
         LIST XOM PENDING

     Example:

         * list xom
         Host  Node  MXP  Slot

         809   2100  1    3

         * list xom pend

         * set xom 809 pend

         * list xom pend
         809

         * list xom
         Host  Node  MXP  Slot

         809   2100  1    3      Restore pending

         * clear xom 809 pend

         * list xom pend

         * list xom
         Host  Node  MXP  Slot

         809   2100  1    3







                                  Reload Facility Enhancements    Page 37




     TMCS Version 11.02                                   October 1, 1987




     4.2.2 Reload Status Report           ______ ______ ______


     A group of commands are added to  report the status of TMCS auto-re-
     load facility.

     The following two commands display the current selected node or host
     numbers and their recurring reload values.

     Syntax: LIST NODE RELOAD STATUS
             LIST HOST RELOAD STATUS

     Example:

         * list reload host stat
           Node         Slot        Recur Reload Value

         PATROL-2032     1                6.64
         TMCS-2100       3                7.58

         * list reload node stat
           Node          Recur Reload Value

         NODE-2200             7.12

     The following  two commands  display the  nodes or  hosts which  are
     failed in the TMCS automatic reload process.

     Syntax: LIST RELOAD FAILURE NODE
             LIST RELOAD FAILURE HOST

     Example

         * list reload fail host
           Node          MP          Slot

         PATROL-2032                  1
         TMCS-2100       1            3

         * list reload fail node
           Node

         NODE-2200












                                  Reload Facility Enhancements    Page 38




     TMCS Version 11.02                                   October 1, 1987




     SECTION 4.3 Do Not clear TMCS Database on Supervisor Change     _______ _ _ __ ___ _____ ____ ________ __ __________ ______


     The displays  from TMCS  "Display" command  will not  be cleared  on
     Supervisor change.   This will eliminate  the break in monitoring of
     the network when the supervisor changes.


     SECTION 4.4 XOM Saved Parameter Copy Command     _______ _ _ ___ _____ _________ ____ _______


     A command is added at the main  command level to copy the parameters
     saved for  one XCOM interface  and save  them as the  parameters for
     another XCOM interface. When completed,  the paramters saved for the
     two XCOM interfaces will  be identical except for the  XOM host num-
     ber.

     Syntax: Copy XOM From <XOM host number> To <XOM host number>
     License: XOMOPERATOR




































                              XOM Saved Parameter Copy Command    Page 39




     TMCS Version 11.02                                   October 1, 1987




     SECTION 5.0 Automatic Backup for TMCS Permanent Data - PIR 1745     _______ _ _ _________ ______ ___ ____ _________ ____ _ ___ ____


     The TMCS Automatic Backup Facility allows multiple TMCS host to have
     a common data base.  Changes made to the data on any sinle TMCS host
     is propogated to all remaining hosts.   The data is transfered with-
     out operator  intervention.  The  following is  a list  of the  data
     which is  copied between TMCS host  when the Automatic Backup Facil-
     ity enabled.  See  section 13.1 for configuration  file requirements
     for inclusion of this facility.

         - user profiles including all limit sets, the default limit set-
           ting, node, host,  and line threshold settings,  and the alarm
           host and port setting.   These are all values set  by the fol-
           lowing commands.

             Profile
             Save Limit
             Set Default Limit
             Set Node Threshold
             Set Host Threshold
             Set Line Threshold
             Set Alarm

         - node, host and  line maximum and decay values.   These are all
           values set by the following commands.

             Set Node Recurringoutage
             Set Host Recurringoutage
             Set Line Recurringoutage

         - node, host and product names.  These are all values set by the
           following commands.

             Set Node Name
             Set Host Name
             Set Product Name

         - host location. This is all values set by the Set Host Location
           command.

           - Probe password. This is all values set by the Set Probe com-
           mand.

           - XOM host,  node and slot number.  This is all values  set by
           the Set XOM Host command.

           - node cluster definitions. This is  all values set by the Set
           Node Cluster command.

           - background  job definitions. This is  all values set  by the
           Set Background command.



           Automatic Backup for TMCS Permanent Data - PIR 1745    Page 40




     TMCS Version 11.02                                   October 1, 1987




           - saved XOM configuration parameters. This is all values saved
           by the Save command in the XOM subsystem.





















































           Automatic Backup for TMCS Permanent Data - PIR 1745    Page 41




     TMCS Version 11.02                                   October 1, 1987




           SECTION 6.0 TMCS Net Security - PIR 2167           _______ _ _ ____ ___ ________ _ ___ ____


           A new feature  is added to TMCS  so the user can  restrict the
           TMCS log to message which referred to the specified UUNs (Uni-
           versal User Number).

           A new type is added to  TMCS subset selection which allows the
           user who  has the UUN license  to select UUNs.   UUN selection
           determines the display of the Log messages.  Five log messages
           will be affected  by the UUN selection.  Event  80.9 and Event
           80.13 are login error messages. Event  38, Event 49, and Event
           75 are access  error messages. Network  security can  be moni-
           tored more effectively by restricting  Event 80.9, Event 80.13
           to specified UUNs and nodes  through "Select Node" and "Select
           UUN" commands.

           The user may specify several UUNs and each UUN is separated by
           a space.   A maximum  of 30 UUNs  may be  selected at  any one
           time.

           Syntax: SELECT UUNS <uun>...
                   IGNORE UUNS <uun>...
                   RESTORE UUNS <uuns>...
                   LIST SELECT UUNS
                   LIST IGNORE UUNS

             Where
               <uun> = Universal User Number stored in octal

           Example:

               * list sel
               nodes: 2001-10377
               hosts: 1-8192
               links: all
               lines: all
               uuns: all
               events: 1-3 4.0-4.50 5-6 7.0-7.20 8.0-8.255 9-18 19.0-19.20 20-31
                       32.0-32.30 33-79 80.0-80.30 81-255
               isis events: 0-FF

               * lis sel uun
               uuns: all

               * sel uun 7777

               * lis sel uun
               uuns: 7777

               * lis ignore uun
               uuns: not 7777



                                  TMCS Net Security - PIR 2167    Page 42




     TMCS Version 11.02                                   October 1, 1987




               * restore uun

               * lis sel uun
               uuns: all



















































                                  TMCS Net Security - PIR 2167    Page 43




     TMCS Version 11.02                                   October 1, 1987




           SECTION 7.0 Multiple Host Message Facility - PIR 1801           _______ _ _ ________ ____ _______ ________ _ ___ ____


           TMCS Host  Status Message  facility will  function differently
           depending on the TMCS user's license status.  In the TMCS sys-
           tem,  a user  with MLTHST  license can  have multiple  message
           entries, but a user with HST license  can only access the sin-
           gle message entry whose name is set by TMCS as "STANDARD".

           The commands for the single host  message facility are same as
           before.  Multiple  host message  entries host  status facility
           commands are  described in  TMCS version  10.22 release  docu-
           ments, except the LIST HOST ENTRY  command is modified with no
           prompts; to be sorted automatically with TEXT as an option and
           NOTEXT as default.

           Syntax: LIST HOST ENTRY [<host#> [IDENTIFIER <message name>]] [TEXT]

           License: MLTHST

           Default: all entries, no text


































                     Multiple Host Message Facility - PIR 1801    Page 44




     TMCS Version 11.02                                   October 1, 1987




           SECTION 8.0 Authority Classes CUG  Commands in Network Console           _______ _ _ _________ _______ ___  ________ __ _______ _______
           - PIR 1932           _ ___ ____


           Two new licenses are added to  TMCS, XOMCUGQUERY and XOMCUGMO-
           DIFY. The license on the following commands are changed.

           Command                         Old License              New License

           Query CUGfacopt                 XOMQUERY                 XOMCUGQUERY
           Query Interlockcode             XOMQUERY                 XOMCUGQUERY
           Query CUGopt                    XOMQUERY                 XOMCUGQUERY
           Query CUGpref                   XOMQUERY                 XOMCUGQUERY
           Query CUGdniclist               XOMQUERY                 XOMCUGQUERY
           Query CUGmapping                XOMQUERY                 XOMCUGQUERY

           Set/Clear CUGfacopt             XOMMODIFY                XOMCUGMODIFY
           Add/Change/Remove Interlockcode XOMMODIFY                XOMCUGMODIFY
           Set/Clear CUGopt                XOMMODIFY                XOMCUGMODIFY
           Change CUGpref                  XOMMODIFY                XOMCUGMODIFY
           Add/Remove CUGdniclist          XOMMODIFY                XOMCUGMODIFY
           Add/Remove CUGmapping           XOMMODIFY                XOMCUGMODIFY

































ttttthority Classes CUG Commands in Network Console - PIR 1932    Page 45




     TMCS Version 11.02                                   October 1, 1987




           SECTION 9.0 Network Console/XOM Improvements - PIR 2073           _______ _ _ _______ ___________ ____________ _ ___ ____


           An alternate form of the XOM command is added to TMCS. It will
           reference XOM  on an interface by  an XCOM host  number rather
           than by an XOM host number.  When using this command, the user
           will only  have access  to the link  and host  information for
           XCOM  host  number.  Query commands  will  only  display  link
           information  for the  links  assigned to  the  host, and  host
           information  for the  specified host  number. Modify  commands
           will only be allowed for the specified host and its links. The
           Save  and Restore  commands  will still  refer  to the  entire
           interface.  The Compare  and Query  Saved  commands will  only
           referred to  the saved values for  the specified host  and its
           links. Except for these restrictions,  all other commands will
           function identically. The new command syntax is

                          XCOM <XCOM host number>





































                                                          Network Console




     TMCS Version 11.02                                   October 1, 1987




           SECTION 10.0 Query Sysgen by Link - PIR 1750           _______ __ _ _____ ______ __ ____ _ ___ ____


           The Query  Sysgen command is  modified to include  an optional
           argument indicating a link number. The  command will only dis-
           play the  parameters for the  specified link. The  new command
           syntax is

                     Query SYSgen [SAVed] [LINK <link>]

           If the  link is  not defined on  the interface,  no parameters
           will be displayed.











































                               Query Sysgen by Link - PIR 1750    Page 47




     TMCS Version 11.02                                   October 1, 1987




           SECTION 11.0 XOM PVC Commands - PIR 1726           _______ __ _ ___ ___ ________ _ ___ ____


           The XOM subsystem of TMCS will  be modified to include XOM PVC
           commands as implemented in version 4.01 of XCOM. The following
           is a description of the commands as referenced in TMCS.


           SECTION 11.1 Query PCNL Command           _______ __ _ _____ ____ _______



           Reference    : PCNL
           XOM Command  : C5
           TMCS Command : Query [LINK <link#>] PCNL
           License      : XOMQUERY
           Parameters   : link number (if missing, all links are queried)
           Response     : link #1 : #2

                          where #1 is the link number and
                                #2 are the PVC channels for this link of the form
                                      NONE if there are no channels,
                                      a number if there is one channel or
                                      a range if there is more than one channel

           This command displays the link number, the lowest and the highest PVC
           channel which is configured for the specified link.  The range of PVC
           channels can be specified by using the PCNL macro in the tymfile.

           Example     : Command to query range of PVC for all links:

               xom> query pcnl
               link 0 : 1-3
               link 1 : 1-5
               link 2 : none

               xom>

           This response  indicates that link 0  has PVC channels  in the
           range from 1 to 3.  Link 1  has PVC channels in the range from
           1 to  5.  And link 2 does not have any PVC channel configured.

           Example     : Command to query range of PVC for a specific link:

               xom> query pcnl link 1
               link 1 : 1-5

               xom>

           This response indicates that link 1 has PVC channels in the range from 1
           to 5.




                                            Query PCNL Command    Page 48




     TMCS Version 11.02                                   October 1, 1987




           SECTION 11.2 Query PVCHANNEL Command           _______ __ _ _____ _________ _______



           Reference    : PVCHANNEL
           XOM Command  : C6
           TMCS Command : Query [LINK <link#> [CHANNEL <channel#>]] PVCHannel
           Parameter    : link number
                          PVC channel number
           Response     : link #1 PVC channel #2
                          destination
                            host: #3
                            link: #4
                            PVC channel: #5
                          packet size CODE
                            transmission: #6
                            reception: #7
                          packet window size
                            transmission: #8
                            reception: #9
                          throughput class
                            transmission: #10
                            reception: #11
                          logon username: #12

                          where #1 is the link number,
                                #2 is the PVC channel number,
                                #3 is the destination host number,
                                #4 is the destination link number,
                                #5 is the destination PVC channel number,
                                #6 is the transmission packet size,
                                #7 is the reception packet size,
                                #8 is the transmission packet window size,
                                #9 is the reception packet window size,
                                #10 is the transmission throughput class,
                                #11 is the reception throughput class,
                                #12 is the logon user name in quotes.

           This command displays 11 PVC related parameters for a PVC channel as
           declared in the PVCHANNEL macro.

           Example :

               xom> query link 0 channel 2 pvchannel
               link 0 PVC channel 2
                 destination
                   host: 901
                   link: 1
                   PVC channel: 5
                 packet size CODE
                   transmission: 7
                   reception: 7
                 packet window size


                                       Query PVCHANNEL Command    Page 49




     TMCS Version 11.02                                   October 1, 1987




                   transmission: 2
                   reception: 2
                 throughput class
                   transmission: 7
                   reception: 7
                 logon username: 'X25.PVC'

           This response indicates that  PVC channel 2 on link  0 is con-
           figured to build a circuit to  the destination host 385 (hex),
           through channel 5 on link 1  of the destination X25 interface.
           This end  has both the packet  size CODE for  transmission and
           receiving declared as  7, packet window size  for transmission
           and  reception  declared  as  2,  transmission  and  reception
           throughput class  declared as  7.  The  username that  will be
           used to build the circuit is X25.PVC

           Querying  a PVC  which  doesn't have  the  specification of  a
           PVCHANNEL macro will show:

               xom> query link 3 channel 1 pvchannel
               link 3 PVC channel 1
                 destination
                   host: 0
                   link: 0
                   PVC channel: 0
                 packet size CODE
                   transmission: 0
                   reception: 0
                 packet window size
                   transmission: 0
                   reception: 0
                 throughput class
                   transmission: 0
                   reception: 0
                 logon username: none



           SECTION 11.3 Change PVC parameters command           _______ __ _ ______ ___ __________ _______



           Reference    : PVCHANNEL, PCNL
           XOM Command  : C7
           TMCS Command : CHAnge LINK <link> CHANNEL <PVC channel> PVCHannel

                          The command prompts for the remaining parameters
                          with the following prompts.

                          destination
                            host:
                            link:
                            PVC channel:


                                 Change PVC parameters command    Page 50




     TMCS Version 11.02                                   October 1, 1987




                          packet size CODE
                            transmission:
                            reception:
                          packet window size
                            transmission:
                            reception:
                          throughput class
                            transmission:
                            reception:
                          logon username:

           LICENSE      : XOMMODIFY
           Parameter    : link number
                          PVC channel number


           This command changes the 11  parameters associated with a PVC,
           no matter if the PVC exists or  not.  In fact, it only changes
           the contents of  PVCTAB and has no effect on  the existing, if
           there  is one,  PVC.   The zap  and  rebuild command  (Rebuild
           PVChannel) should be used following this command, if the modi-
           fication of existing circuit is desired.

           That means if  this command is applied on an  existing PVC, it
           only modifies  the parameters stored  in PVCTAB  while keeping
           the existing circuit intact.   Then, the zap and  rebuild com-
           mand can be used  at any time to rebuild the  circuit with new
           parameters.

           After the use of Change PVChannel command, it is safer to dou-
           ble check the new values of  these PVC parameters by using the
           Query PVChannel command.

           Example :

               xom> query link 0 channel 2 pvchannel
               link 0 PVC channel 2
                 destination
                   host: 901
                   link: 5
                   PVC channel: 1
                 packet size CODE
                   transmission: 9
                   reception: 9
                 packet window size
                   transmission: 3
                   reception: 3
                 throughput class
                   transmission: 7
                   reception: 7
                 logon username: 'X25.PVC'

               xom> change link 0 channel 2 pvchannel


                                 Change PVC parameters command    Page 51




     TMCS Version 11.02                                   October 1, 1987




               destination
                 host: 901
                 link: 5
                 PVC channel: 1
               packet size CODE
                 transmission: 9
                 reception: 9
               packet window size
                 transmission: 3
                 reception: 3
               throughput class
                 transmission: 9
                 reception: 9
               logon username: 'X25.PVC1'

               xom> query link 0 channel 2 pvchannel
               link 3 PVC channel 1
                 destination
                   host: 901
                   link: 5
                   PVC channel: 1
                 packet size CODE
                   transmission: 9
                   reception: 9
                 packet window size
                   transmission: 3
                   reception: 3
                 throughput class
                   transmission: 9
                   reception: 9
                 logon username: 'X25.PVC1'

               xom>

           The existing  PVC, channel 2 on  link 0, was modified  to have
           transmission and reception  throughput class as 9.   The logon
           username was also modified to be X25.PVC1.


           SECTION 11.4 Add a new PVC command           _______ __ _ ___ _ ___ ___ _______



           Reference    : PCNL PVCHANNEL
           XOM Command  : C8
           TMCS Command : ADd LINK <link> CHANNEL <PVC channel> PVCHannel

                          The command prompts for the remaining parameters
                          with the following prompts.

                          destination
                            host:
                            link:


                                         Add a new PVC command    Page 52




     TMCS Version 11.02                                   October 1, 1987




                            PVC channel:
                          packet size CODE
                            transmission:
                            reception:
                          packet window size
                            transmission:
                            reception:
                          throughput class
                            transmission:
                            reception:
                          logon username:

           LICENSE      : XOMMODIFY
           Parameter    : link number
                          PVC channel number

           This command  along with the 11  parameters creates a  new PVC
           which is in the range specified  by PCNL but was not specified
           by PVCHANNEL during sysgen.  The new PVC  should be up 10 sec-
           onds after the command was issued.

           In order a new PVC to  be built, proper Add PVChannel commands
           should  be issued  to both  the low  host and  high host  end.
           Applying of this  command to an existing PVC has  no effect on
           the circuit at all.

           Example : Suppose there is a need to build a PVC between host 901 through
           channel 1 on link 6 and 902 through channel 2 on link 1.
           Then:

           Command at high host end (host 902):

               xom> change link 1 channel 2 pvchannel
               destination
                 host: 901
                 link: 6
                 PVC channel: 1
               packet size CODE
                 transmission: 9
                 reception: 9
               packet window size
                 transmission: 2
                 reception: 2
               throughput class
                 transmission: 7
                 reception: 7
               logon username: 'X25.PVC'

           Command at low  host end (host 385):

               xom> change link 6 channel 1 pvchannel
               destination
                 host: 902


                                         Add a new PVC command    Page 53




     TMCS Version 11.02                                   October 1, 1987




                 link: 1
                 PVC channel: 2
               packet size CODE
                 transmission: 9
                 reception: 9
               packet window size
                 transmission: 2
                 reception: 2
               throughput class
                 transmission: 7
                 reception: 7
               logon username: none

               xom>

           These commands  create a new  PVC originating from  the higher
           host 902  to the lower host  901.  Since the circuit  is built
           from the higher host toward the  lower host, there is  no need
           to have logon username specified at the lower host end.


           SECTION 11.5 Remove an existing PVC command           _______ __ _ ______ __ ________ ___ _______



           Reference    : PCNL,PVCHANNEL
           XOM Command  : C9
           TMCS Command : REMove LINK <link> [CHANNEL <channel>] PVCHannel
           Parameter    : link number
                          channel number (if missing, all channels are removed)

           This command  removes an  existing PVC and  erases all  of the
           parameters associated with this PVC.  If no PVC channel number
           is  specified,  all  PVC's  for the  specified  link  will  be
           removed.

           This command  should only be  used at  the higher host  end to
           ensure the  complete removal of  the PVC.  Otherwise,  if this
           command was issued at the lower  host end, the higher host end
           will try to rebuild the circuit every 60 seconds.

           The  rebuild  will  never  succeed   but  just  waste  network
           resources, due to  the fact that the PVCTAB at  the lower host
           end has been erased.

           Example     :

               xom> remove link 0 channel 1 pvchannel

               xom>

           This command removes PVC channel 1 for link 0.



                                Remove an existing PVC command    Page 54




     TMCS Version 11.02                                   October 1, 1987




           SECTION 11.6 Check PVC status command           _______ __ _ _____ ___ ______ _______



           Reference    : PCNL,PVCHANNEL
           XOM Command  : CA
           TMCS Command : Query LINK <link> [CHANNEL <channel>] PVCStatus
           Parameter    : link number
                          channel number (if missing, all channels are queried)
           Response     : link #1 PVC channel #2 : #3

                            where #1 is the link number,
                                  #2 is the PVC channel number and
                                  #3 is the channel status, either UP or DOWN.

           This command  displays the status of  a PVC (up or  down).  If
           the channel number is not specified, all PVC's status for that
           link will be displayed.

           Example     :

               xom> query link 1 channel 2 pvcstatus
               link 1 channel 2 : UP

               xom>

           This response indicates that PVC channel 2 on link 1 is up.


           SECTION 11.7 Rebuild an existing PVC command           _______ __ _ _______ __ ________ ___ _______



           Reference    : PCNL,PVCHANNEL
           XOM Command  : CB
           TMCS Command : REBuild LINK <link> CHANNEL <channel> PVChannel
           Parameter    : link number
                          channel number

           This command zaps  an existing PVC, then rebuilds  it with the
           original parameters  declared.  This  command may  be used  to
           force a new routing  or the specified PVC.  After this command
           was issued,  the existing circuit  will be zapped  right away,
           then will be rebuilt in about 20 seconds.

           This command should  be used only at the higher  host end, due
           to the same reason as explained in Remove PVChannel command.

           WARNING:  Use of Remove PVChannel  command immediately follow-
           ing the use  of Rebuild PVChannel command on  the same channel
           will  cause the  interface to  crash.   If the  use of  Remove
           PVChannel command is  necessary, use it after  the circuit was



                               Rebuild an existing PVC command    Page 55




     TMCS Version 11.02                                   October 1, 1987




           rebuilt (approximately  20 seconds  after the  use of  Rebuild
           PVChannel command).

           Example     :

               xom> rebuild link 0 channel 2 pvchannel

               xom>

           This command forces the PVC channel 2  on link 0 to be zapped,
           then rebuilt.












































                               Rebuild an existing PVC command    Page 56




     TMCS Version 11.02                                   October 1, 1987




           SECTION 12.0 XOM Link Statistic Commands in TMCS - PIR 1710           _______ __ _ ___ ____ _________ ________ __ ____ _ ___ ____


           The XOM subsystem of TMCS will be modified to include XOM Link
           Statistic Query  commands as  implemented in  version 4.01  of
           XCOM. The following is a description of the commands as refer-
           enced in TMCS.


           SECTION 12.1 Link Performance Statistics Command           _______ __ _ ____ ___________ __________ _______



           Reference    : XOMLKP in the XCOMOM module
           XOM Command  : C3
           TMCS Command : Query [LINK <link#>] LINKPerformance
           License      : XOMQUERY
           Parameter    : link number (if missing, all links will be queried)
           Response     : link #1 I-frames #2 data packets #3 data characters #4

                          where  #1 is the link number,
                                 #2 is the total I-frames over link,
                                 #3 is the total data packets over link and
                                 #4 is the total data characters over link.

           This command  displays the  link number,  the total  number of
           information frames sent  over the link ever since  the link is
           up, the total  number of data packets sent over  the link, the
           total number of data characters sent over the link.

           Example:

               xom> query link 0 linkperformance
               link 0 I-frames 6517 data packets 572 data characters 67078

               xom>

           This  response indicates  that  link  0 has  6517  information
           frames, 572 data packets, and  67078 data characters transmit-
           ted over it ever since the link came up.


           SECTION 12.2 Link Error Statistics Command           _______ __ _ ____ _____ __________ _______



           Reference    : XOMLKE in the XCOMOM module
           XOM Command  : C4
           TMCS Command : Query LINK <link#> LINKError
           License      : XOMQUERY
           Parameters   : link number
           Response     : link #1
                            retransmissions sent: #2


                                 Link Error Statistics Command    Page 57




     TMCS Version 11.02                                   October 1, 1987




                            retransmissions received: #3
                            idle line counts: #4
                            bad checksum frame count: #5
                            reject frames sent because of sequence error: #6
                            reject frames sent because of frames discarded: #7
                            reject frames received in information transfer state: #8
                            number of times in timer recovery state: #9
                            number of times entered reset state: #10
                            number of FRMR/CMDR sent: #11
                            link level loop back counts: #12
                            number of input sector over-runs: #13
                            SIO over-run interrupts: #14
                            number of input frames greater than max frame size: #15
                            number of input frames too short: #16
                            number of empty I-frames received: #17
                            number of RESET sent: #18
                            number of times max frame byte count exceeded: #19

                          where
                            #1 is the link number and
                            #2 to #19 are the corresponding error counts.
                                 The error count is only displayed if the count is
                                 greater than zero.

           Example:

                     xom> query link 1 linkerror
                     link 1
                       retransmissions sent: 2
                       retransmissions received: 3
                       bad checksum frame count: 1

           This response indicates  link 1 has 2  retransmissions sent, 3
           retransmissions received, and 1 bad checksum frame transmitted
           over it since the link is up.




















                                 Link Error Statistics Command    Page 58




     TMCS Version 11.02                                   October 1, 1987




           SECTION 13.0 Configuration File Changes           _______ __ _ _____________ ____ _______


           The following are all the changes that  need to be made to the
           configuration file for  version 11.02.  Some of  these changes
           will only be needed if a particular feature is enabled, others
           will always be required.


           SECTION 13.1 Automatic Backup Configuration Parameters           _______ __ _ _________ ______ _____________ __________


           This section  describes the additions to  be made to  the TMCS
           version  11.02  configuration  file if  the  Automatic  Backup
           Facility is used.  All of these constants must be defined.  In
           addition, the following  statement must be included  to enable
           this feature.

           $enable auto_backup

           The following  configuration parameter  specifies the  network
           user name which  TMCS should used to login to  another TMCS to
           backup files.

           const
             tmcs_auto_backup_user_name = 'TMCSBACKUP\ ';

           The string  in the  single quotes  must be  an even  number of
           characters in  length and end with  a backslash, which  is not
           part of the username.  This name must be defined in the Master
           User Directory (MUD) using Netval  before TMCS will backup any
           data.  The name  should be defined to only  originate from the
           site hosts and  have all the same site  hosts as destinations.
           The site hosts  are described below.  In the  example below of
           site  host definitions,  the user  name should  be defined  to
           originate from hosts 801 and 802, and to have both 801 and 802
           as destinations.   This can  be done  with two  access profile
           entries, one with  801 as an origin and 802  as a destination,
           and the other with  802 as the origin and 801  as the destina-
           tion.  None  of the  destinations should  be home  hosts.  The
           should not have the "ignore host?"  option set, TMCS uses host
           numbers in its login string.

           The following configuration parameter  specifies the number of
           TMCS sites which will have common data.

           const
             site_max = 2 ;

           This parameter  can only have  a value of 2,  3, 4 or  5.  The
           value of NPARTNERS in the slot parameter file must be one less
           than site_max.



                     Automatic Backup Configuration Parameters    Page 59




     TMCS Version 11.02                                   October 1, 1987




           The following three configuration parameters  control the tim-
           ing of circuit build retries.  For convenience, they are shown
           expressed in  minutes, followed  by a  *60, because  TMCS uses
           time values computed in seconds.

           const
             initial_retry_delay   = 1 * 60 ;

             retry_delay_increment = 5 *60 ;

             retry_delay_limit     = 30 *60 ;

           If a TMCS site  has no data to backup and  has built a circuit
           to all other sites at least once since it was started, it sim-
           ply waits until  another TMCS attempts to builds  a circuit to
           it.  It will wait for five minutes, then check if there is any
           data to backup.

           If it has data  to backup, it will attempt to  build a circuit
           with an  increasing interval between circuit  builds.  Between
           the circuit build attempts, TMCS will wait for a circuit to be
           built to it.  The length of this wait is initially set to ini-
           tial_retry_delay  and  incremented   by  retry_delay_increment
           unless it is greater than retry_delay_limit.

           The following  configuration parameter controls the  amount of
           time that a circuit may be idle before it will be cleared.

           const
             inactive_circuit_time_out = 60 *60;

           The following configuration parameters  define the host number
           which are used by TMCS.

           const
             site_1_from_user_host_number = 806;
             site_1_from_2_host_number = 801;
             site_1_from_3_host_number = 0;
             site_1_from_4_host_number = 0;
             site_1_from_5_host_number = 0;

             site_2_from_user_host_number = 808;
             site_2_from_1_host_number = 802;
             site_2_from_3_host_number = 0;
             site_2_from_4_host_number = 0;
             site_2_from_5_host_number = 0;

             site_3_from_user_host_number = 0;
             site_3_from_1_host_number = 0;
             site_3_from_2_host_number = 0;
             site_3_from_4_host_number = 0;
             site_3_from_5_host_number = 0;



                     Automatic Backup Configuration Parameters    Page 60




     TMCS Version 11.02                                   October 1, 1987




             site_4_from_user_host_number = 0;
             site_4_from_1_host_number = 0;
             site_4_from_2_host_number = 0;
             site_4_from_3_host_number = 0;
             site_4_from_5_host_number = 0;

             site_5_from_user_host_number = 0;
             site_5_from_1_host_number = 0;
             site_5_from_2_host_number = 0;
             site_5_from_3_host_number = 0;
             site_5_from_4_host_number = 0;

           There is  provision for up  to four interconnected  sites, all
           keeping each  other backed up.  Each  site has a  primary host
           number (which the User logs into),  and up to three additional
           host numbers for  the other sites to log  into when performing
           backup activity.

           The host numbers  are arranged in four sets of  four; each set
           has four host numbers for the  one site.  It is necessary that
           all four "host number" symbols be  defined for each site.  The
           unused ones should be at the end of each set, all set to zero.

           The sets  should be  stated in  increasing numerical  order by
           primary (_from_user)  host number.  Within  the set,  the host
           numbers should  appear in the same  order that they  appear in
           the slot parameter file.


           SECTION 13.2 XOM Parameter Save and Restore Configuration Par-           _______ __ _ ___ _________ ____ ___ _______ _____________ ___
           ameters           _______


           Two parameters must  be includes in the  configuration file if
           'xom_restore' is enabled.  They are both used to allocate disk
           space for  saved parameters.   These are  the same  parameters
           which were  in the  Network Console  configuration file.   The
           first 'xom_host_max' specifies the maximum  number of XOM host
           for  which   XOM  parameters  will   be  saved.    The  second
           'pages_per_xomhost' specifies the average number  of disk sec-
           tor to be allocated for each XOM  host.  A good value for this
           is 20.

           const
             xom_host_max       = 100;
             pages_per_xom_host =  20;









       XOM Parameter Save and Restore Configuration Parameters    Page 61




     TMCS Version 11.02                                   October 1, 1987




           SECTION 13.3 Probe Username Configuration Parameters           _______ __ _ _____ ________ _____________ __________


           When TMCS  logs into Probe, it  uses its own Probe  user name.
           In version  10, this name was  specified in the  Slot Paramter
           file using CCONST macros.   The Probe user name  is now speci-
           fied in the configuration file as follows.

           const
             probe_second_login_name = 'NETPAT\ ';

           As with most strings in the  configuration file, the text must
           be even in length and ended with a backslash.

           The configuration  file parameter  'probe_user_name' has  been
           changed to 'probe_network_login_name'.


           SECTION 13.4 Alarm Facility Configuration Parameters           _______ __ _ _____ ________ _____________ __________


           The Alarm Facility parameters have  had the most changes.  The
           parameters which defined  alarm level have been  removed.  The
           alarm level  is now defined  by TMCS command.   The parameters
           removed are

                              node_crashes_alarm_level
                               hosts_gone_alarm_level
                               hosts_down_alarm_level
                               hosts_shut_alarm_level
                               lines_out_alarm_level
                               links_shut_alarm_level
                            reload_node_fail_alarm_level
                            reload_slot_fail_alarm_level
                                 supervisor_banner
                                 node_crash_banner
                                  host_gone_banner
                                  host_down_banner
                                  host_shut_banner
                                  line_out_banner
                                  link_shut_banner
                                 reload_node_banner
                                 reload_slot_banner

           Parameters have  been added  to define  the maximum  number of
           alarm  definitions  of  each  type.  See  Section  4.1  for  a
           description of these parameters.








                       Alarm Facility Configuration Parameters    Page 62




     TMCS Version 11.02                                   October 1, 1987




           SECTION 14.0 Slot Paramter File Changes           _______ __ _ ____ ________ ____ _______


           The Slot Parameter file has been completely changed in version
           11.02.  It now  only contains these values which  the user can
           change.  To accomplish this, a  new file (TMCS11.M02) has been
           released with this version.   It must be included  in the com-
           mand files as indicated in the sample command file TMCS11.C02.
           The following is  a description of each of  the new statements
           in the Slot Parameter file.


           SECTION 14.1 TMCS Host Definition Statement           _______ __ _ ____ ____ __________ _________


           This statement  specifies both  the TMCS  host number  and the
           partner host numbers if the Automatic  Backup Facility is ena-
           bled.  The syntax of the statement is

                       tmhost(tmhnum,part1,part2,part3,part4)

           where  'tmhnum' is  the  TMCS user  host  number and  'part1',
           'part2', 'part3'  and 'part4' are  partner host  numbers.  The
           first value is the  same is the first value of  the HOST macro
           in previous versions  of TMCS.  The last four  values are only
           included if the Automatic Backup Facility is enabled.  The are
           the host  numbers with which other  TMCS's will login  to this
           TMCS.


           SECTION 14.2 Slot Memory Size Definition Statement           _______ __ _ ____ ______ ____ __________ _________


           This statement specifies the size of  the slot and whether the
           slot is using exteded memory.  The syntax of the statement is

                            tmssiz(tmsize,tmara3,macsts)

           where 'tmsize'  is the size of  the slot in multiples  of 1024
           bytes, 'tmara3' is the size of  extended memeory to be used by
           the slot and 'macsts'  is the number of MAC sets  to use.  The
           first value  'tmsize' is the same  as the value in  the NBYTES
           macro in  previous TMCS versions.   The second  value 'tmara3'
           should only be  included if the slot is  using extended memory
           and has  the same meaning  as the  second value in  the EMEMRY
           macro in previous TMCS versions.  The value used should be set
           to the size of the Pascal code plus the size of Pascal Nucleus
           i.e. the  size of  segment 1 through  the last  Pascal nucleus
           segment.  This  differs from previous  TMCS versions  in which
           the Pascal nucleus was  not included as part  of extended mem-
           ory.  The third value should rarely  be needed and defaults to
           10 if not included.  It too  should only be used with extended
           memory.


                         Slot Memory Size Definition Statement    Page 63




     TMCS Version 11.02                                   October 1, 1987




           SECTION 14.3 Disk Unit Statement           _______ __ _ ____ ____ _________


           This statement specifies the ISIS logical disk unit to be used
           by TMCS.  The syntax of the statement is

                                   tmdisk(tmdu0)

           where 'tmdu0' is the ISIS logical disk unit and is the same as
           the second value in the DDISK macro in previous TMCS versions.


           SECTION 14.4 Tape Unit Statement           _______ __ _ ____ ____ _________


           This statement specifies the ISIS logical tape unit to be used
           by TMCS.  The syntax of the statement is

                                   tmtape(tmtu0)

           where 'tmtu0' is the ISIS logical tape unit and is the same as
           the second value in the DTAPE macro in previous TMCS versions.


           SECTION 14.5 Number of Users Statement           _______ __ _ ______ __ _____ _________


           This statement specifies the maximum  number of users that can
           login to TMCS.  The syntax of the statement is

                                    tmusrs(num)

           where 'num'  is the maximum  number of  users and is  the same
           value as 'user_max' in the configuration file.


           SECTION 14.6 Number of Supervisors Statement           _______ __ _ ______ __ ___________ _________


           This statement specifies the number of supervisors in the net-
           work being monitored.  The syntax of the statement is

                                    tmsups(num)

           where 'num'  is the  number of  supervisors and  has the  same
           value as 'supervisor_max' in the configuration file.









                               Number of Supervisors Statement    Page 64




     TMCS Version 11.02                                   October 1, 1987




           SECTION 14.7 Enable and Disable Statements           _______ __ _ ______ ___ _______ __________


           These statements specify  which flags are enabled  or disabled
           in the configuration file.  The syntax of the statements is

                                      tmenb(a)
                                      tmdis(a)

           where 'a' has the following correspondence.

           Statement Value              Configuration File Flag           _________ _____              _____________ ____ ____
                   bkp              auto_backup
                   alm              alarm
                   rld              reload
                   cln              clusternodes
                   slk              shut_link_table_maintenance
                   osl              old_shut_link_table
                   msl              multiple_shut_link_table_maintenance
                   xom              xom
                   xcom             xcom
                   xmr              xom_restore
                   ddt              ddt
                   prb              probe
                   arc              archive
                   ara              archive_auto_compare



           SECTION 14.8 End Statement           _______ __ _ ___ _________


           This statement specifies  the end of the  slot parameter file.
           It must be the last statement in  the file.  The syntax of the
           statement is

                                       tmmend


















                                                 End Statement    Page 65


 	