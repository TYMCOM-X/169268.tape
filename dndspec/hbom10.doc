                                                              September 1, 1987








                     *   *        *****   *****   *     *
                     *   *        *   *   *   *   **   **
                     *****  ****  ****    *   *   * * * *
                     *   *        *   *   *   *   *  *  *
                     *   *        *****   *****   *     *


                            GENERAL EXTERNAL DESIGN

                                      FOR

                       3270 POLLED BISYNC HOST INTERFACE

                           BISYNC OPERATION MONITOR

                                VERSION  10.04



                                    TYMNET
                        NETWORK TECHNOLOGY DEVELOPMENT
                               September 1, 1987












     ====================================================================
     |   TYMNET's proprietary rights  are included in  the information  |
     |   disclosed herein.  The recipient, by receiving this document,  |
     |   agrees  that  neither  this  document  nor   the  information  |
     |   disclosed herein nor  any part thereof shall be reproduced or  |
     |   transferred to other documents or used or disclosed to others  |
     |   for  manufacturing  or  for  any  other   purpose  except  as  |
     |   specifically authorized in writing by TYMNET.                  |
     ====================================================================





                                                                      HBOM10.04
                                                              September 1, 1987







                                   TABLE OF CONTENTS

        Section                                                            Page



        1.   INTRODUCTION                                                     1


        2.   ACCESSING HBOM THROUGH DDT                                       2


        3.   GENERAL INFORMATION FUNCTIONS                                    3
          3.1   List Commands Available - MENU                                3
          3.2   List Editing Characters - INST                                3
          3.3   Leave HBOM and DDT - EXIT                                     3
          3.4   Leave HBOM - QUIT                                             4


        4.   NETWORK OPERATION FUNCTIONS                                      5
          4.1   Query Slot's Version - CODE                                   5
          4.2   Query Slot's Status - STATUS                                  6
          4.3   Query Crash History  - CRASH                                  7


        5.   ISIS RINGS TRACE FUNCTIONS                                      10
          5.1   Display IRING trace only - DIR                               11
          5.2   Display ORING trace only - DOR                               11
          5.3   Trace both IRING and ORING - DR                              12
          5.4   Query/Change Mode of Message Translation - DRNG              12


        6.   BSC LINE MONITORING FUNCTIONS                                   13
          6.1   Query/Change Input Mode Command - MODE                       13
          6.2   Query Slot's Configuration - CONF                            14
          6.3   Query Line Status - QLINE                                    15
          6.4   Query Control Unit Status - QCU                              16
          6.5   Query Device Status - QDEV                                   17
          6.6   Reset CU Error Counts - RESET                                18
          6.7   Restart Line Error Counts - RERR                             18
          6.8   Display Line Error Statistics - DERR                         18
          6.9   Display CU Not Being Polled - DNPLL                          20


        7.   DEBUGGING FUNCTIONS                                             21
          7.1   Enable Character Per Second Trace - ECPS                     21
          7.2   Display Character Per Second Trace Results - DCPS            22
          7.3   Enable Polling Cycle Trace - EPC                             23

                                                                      HBOM10.04
                                                              September 1, 1987


          7.4   Display Polling Cycle Trace Results - DPC                    23
          7.5   Enable Time Stamp Trace - ESTAMP                             24
          7.6   Display Time Stamp Trace Results - DSTAMP                    25
          7.7   Enable and Display Protocol Trace - SCOPE                    26
          7.8   Enable Data Trace - EDAT                                     27
          7.9   Display Data Trace - DDAT                                    27
          7.10  Disable All Enabled Traces - DISABLE                         28


        8.   QUEUE PROCESSOR                                                 29
          8.1   Stop XMT Q Process - STOPXMT                                 29
          8.2   Query Data On XMT Q - QXMTQ                                  30
          8.3   Start XMT Q Process - STARTXMT                               30
          8.4   Stop RCV Q Process - STOPRCV                                 30
          8.5   Query Data On RCV Q - QRCVQ                                  31
          8.6   Start RCV Q Process - STARTRCV                               31


        9.   FUTURE DEVELOPMENTS                                             32


                                     APPENDICES
                                     ==========


        I.   BISYNC RCV RECEIVE CODES                                        34


        II.  BISYNC XMIT RETURN CODES                                        35


        III. 3270 PBH SLOT DEFINED CRASH CODES                               36


        IV.  CRASH CODES FOR 3270 PBH INTERFACE                              38



















                                                                      HBOM10.04
        INTRODUCTION                                          September 1, 1987






                                   1 -  INTRODUCTION


             The HBOM (HIF Bisync Operations Monitor) for PBH version  10.04 is
        a tool  that monitors and  controls various features  of the  3270 Host
        Interface in the Bisync or Network operations.

             This monitoring facility will be implemented in the  standard 3270
        Polled Bisync Host Interface (Operating in EBCDIC).









































        1                                                             HBOM10.04
        ACCESSING HBOM THROUGH DDT                            September 1, 1987






                            2 -  ACCESSING HBOM THROUGH DDT


             To  access the  HBOM,  the user  must  first log  into  DDT either
        directly or through NAD.  DDT is a generalized debugging and monitoring
        tool that is part of ISIS, (The Tymnet Engine operating system).

             To log into DDT enter:

             USERNAME:KERNEL HOST NUMBER;PASSWORD  <CR>

             When prompted,  enter the  slot number  where 3270  host interface
        resides.  Then  at the  prompt (*), the  HBOM is  accessed from  DDT by
        entering the ?STAT command.

             The message  "Please type MENU for help" then the prompt ":>" will
        be displayed when HBOM is ready to accept commands.

             All Command lines are terminated by a carriage  return.  Arguments
        are separated by a comma, space,  line feed, or tab. If NAD is  used to
        access  HBOM,  a tab  is  recommended for  separating  the  command and
        argument or between arguments.

             Limited editing capability is available in HBOM.

             ESCAPE aborts the current  command line and returns to  the prompt
        (:>). Control-W discards the  partial token already input,  either word
        or number. Control-A  or Control-H discards  the last character  of the
        token, effectively a backspace.

             Control-C  can be  entered at  any time  to terminate  the current
        process of the HBOM (for example, halt output) and return from  HBOM to
        DDT.

             The GMT  date is displayed  in the form  ddmmmyy; where dd  is the
        day, mmm is the month, and yy is the year (for example, 10APR84).

             The HBOM specification refers to the relative line,  control unit,
        or  device  number,  in  the  order  it  was  defined  in  the  Tymfile
        interface. For example the first line defined is line 0,  the second is
        line 1 and so on.









        2                                                             HBOM10.04
        GENERAL INFORMATION FUNCTIONS                         September 1, 1987






                          3 -  GENERAL INFORMATION FUNCTIONS


             This section consists of commands that provide general information
        about  the  monitor  itself  and  about  the  state  of  the  3270 host
        interface.  This includes information about what commands and functions
        are available.






                          3.1  List Commands Available - MENU


             Syntax : MENU or ?

             The MENU command prints a list of commands that are  available for
        use in the Bisync Operations Monitor.






                          3.2  List Editing Characters - INST


             Syntax : INS or INST

             The  INST command  displays a  list and  explanation  of available
        editing characters and also a list of the valid delimiter characters.






                            3.3  Leave HBOM and DDT - EXIT


             Syntax : EXI or EXIT

             The EXIT command logs  off the 3270 PBH Bisync  Operations Monitor
        and exits from DDT.




        3                                                             HBOM10.04
        GENERAL INFORMATION FUNCTIONS                         September 1, 1987


                                3.4  Leave HBOM - QUIT


             Syntax : QUIT or Q or CONTROL C

             The QUIT command exits the 3270 PBH Bisync Operations  Monitor and
        returns to the DDT mode.















































        4                                                             HBOM10.04
        NETWORK OPERATION FUNCTIONS                           September 1, 1987






                           4 -  NETWORK OPERATION FUNCTIONS


             This  section describes  the functions  that can  be  performed to
        monitor the Network Operations within the slot.

             For  this  section  and  the  rest  of  the  sections,   arguments
        following each command  are represented in  ln for line  number/ID, cun
        for cu number/ID,  dvn for device number/ID,  and lna for line address,
        cua for cu address , and dva for device address.

             Depending on the current  mode,  syntax of each command  will vary
        using the above notations for arguments.






                           4.1  Query Slot's Version - CODE


             Syntax : CODE

             The CODE command displays a description of the slot.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        3270 HOST INTERFACE    VERSION xx.xx
        SID xxx    KERNELHOST #   xxx   ASSEMBLY DATE  ddmmmyy hh:mm:ss

        HOST#  LINE#  #CU  #DEV
        xxxx    xx     xx   xxx


        The display is interpreted as follows:

        VERSION       Version number formatted as version.revision level.
                      This is displayed  in OCTAL to be consistent with DDT
                      and the supervisor.
        ASSEMBLY DATE Date assembled in GMT daymonthyear  hour:minute:second.
        SID           Slot identifier.
        KERNELHOST    Kernel host number in decimal.
        HOST#         Slot host number(s) in decimal.(3270 host numbers for
                      circuit building process initiated from the terminal
                      through the Network)
        LINE#         Line number associated with HOST#.
        #CU           Number of control units associated with HOST#.

        5                                                             HBOM10.04
        NETWORK OPERATION FUNCTIONS                           September 1, 1987


        #DEV          Number of devices associated with HOST#.







                           4.2  Query Slot's Status - STATUS


             Syntax : STATUS

             The STATUS command displays the status of the slot.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        HOST#  STATUS    #PORTS   CIRCUITS
        xxxx    xxxx       xx        xxx

        RESTARTS   LAST    START     CIRCUITS
            x    ddmmmyy  hh:mm:ss     xxx

             BUFFER            CMDLNK            MAPLNK
        LEFT  USED  ZAPS  LEFT  USED  ZAPS  LEFT  USED  ZAPS
        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx



        The display is interpreted as follows:

        HOST#           Host numbers defined in the tymfile.
        STATUS          State of each host number,  one of the following:
                        GONE : Slot has been restarted ot loaded.
                        SHUT : Slot has been initialized, awaits polling.
                        ANSR : Received polling and is answering calls.
                        DOWN : Line is down due to no poll.
        #PORTS          Total number of ports defined.
        CIRCUITS        Number of circuits being built.
        RESTARTS        Number of restarts.
        LAST START      Time of last start in GMT,
                        daymonthyear hour:minute:second.
        CIRCUITS        Total number of circuits in use.

        BUFFER
        LEFT            Number of buffers left.
        USED            Number of buffers used.
        ZAPS            Number of circuits zapped due to insufficient
                        buffers since the last restart.

        CMDLNK          Command links are descriptors that contain
                        error codes or the location and quantity of

        6                                                             HBOM10.04
        NETWORK OPERATION FUNCTIONS                           September 1, 1987


                        data in buffers for a given device.
        LEFT            Number of command links left.
        USED            Number of command links used.
        ZAPS            Number of circuits zapped due to insufficient
                        command links since last restart.

        MAPLNK          Map links are buffers that used to contain
                        information about the screen for virtual
                        host mode terminals.
        LEFT            Number of map links left.
        USED            Number of map links used.
        ZAPS            Number of circuits zapped due to insufficient
                        map links since last restart.







                           4.3  Query Crash History  - CRASH


             Syntax : CRASH n

             Default : All crashes that are available.

             The  CRASH  command  displays history  information  about  the nth
        crash.  If n is not specified,  then crash table entries plus I/O rings
        trace will be displayed as many times as specified in NCRSAV.

             Because the  Crash Count is  initialized to one  when the  slot is
        started, no information other than  the Crash Count is displayed  for a
        slot with a Crash Count of one.

             Use care when defining  NCRSAV for capturing crash tables.  If the
        option RNGSAV  is enabled  by the  macro OPTION(RNGSAV,YES),  HBOM will
        trap contents  in both IRING  and ORING as  well as STACK  when crashes
        occur.  Buffers must be set  aside in order to store all  the pertinent
        information;  this will consume memory space.

             The number of crash entries can be defined by the macro NCRASH(n),
        where n is the number of Crash entries to be saved.

             As crashes take place,  the oldest crash information  is discarded
        and new crash  information is recorded.  Thus, depending on  the number
        defined in the  NCRASH, at most, only  n crashes will be  available for
        reference.

             Additional memory required can be calculated as follows:

                (IRSIZE+4+ORSIZE+4+STKSZ) * NCRSAV


        7                                                             HBOM10.04
        NETWORK OPERATION FUNCTIONS                           September 1, 1987



        HBOM  --  3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        CRASH ENTRY :
        CRASH COUNT  xxxx
        TIME  mm/dd/yy  hh:mm:ss
        FASTC  xxxxxxxx
        CRASH POINT  xxxxxxxx
        CRASH CODE  xx
        PSW  xxxxxxxx

        REGISTERS

        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxxx
        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxxx
        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx

        STACK (LIFO)

        xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx
        xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx

        The following output depends on the setting of switch SAVTRC.

        JUMP INDEX  xxxx

        JUMP TABLE

        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx
        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx
        xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx    xxxxxxxx  xxxxxxxx  xxxxxxxx  xxxxxxxx

        The following output depends on the switches RNGTRC and SVRNGS.

        IRING POINTERS  xxxx  xxxx
        IRSIZE  xxxx

        IRING

        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx
        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx
        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx

        ORING POINTERS  xxxx  xxxx
        ORSIZE  xxxx

        ORING

        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx
        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx
        xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx  xxxx

        8                                                             HBOM10.04
        NETWORK OPERATION FUNCTIONS                           September 1, 1987



        The display is interpreted as follows:

        CRASH ENTRY     Identifying number of the crash, where 0 is the latest 
                        crash.
        CRASH COUNT     Number of crashes since slot was loaded.
                        Crash count of one indicates slot was just started.
        TIME            Time of crash in GMT, month/day/year  hour:min:sec
        FASTC           Time of crash in FASTC.  (FASTC, the system clock, is
                        a 32 bit value that is incremented at a rate of
                        600 times per second.)
        CRASH POINT     Address of next instruction at time of crash
        CRASH CODE      The standard ISIS crash codes are:

                        0       Power failure
                        1       Manual restart
                        0E      Parity error
                        10      Dispatcher crash
                        11      Illegal instruction
                        12      Illegal SVC
                        13      System crash
                        14      Protection violation
                        15      Non-recoverable device check
                        16      Watch frog timer - time out

                        Appendix I describes other crash codes
                        defined by the 3270 PBH.


        PSW             Program status word at time of crash.
        REGISTERS       Register values (registers 0 - F) at time of crash.
        STACK           At the time of the crash the entire stack is read out 
                        as LIFO.
        JUMP INDEX      Index table of last jump trace.
        JUMP TABLE      Jump trace table of addresses for preceding jumps.
                        The jump trace table is valid only  
                        if technical support has restarted 
                        the slot and enabled the jump trace.
                        Note:  Please refer to ISIS-II reference manual
                               for the functions of TRACE.LIB and
                               ENGINE.DOC for the description  of how
                               the jump trace works in the trace bit
                               definition.
        IRING POINTERS  Fill and empty pointers for IRING.
        IRSIZE          Size, in bytes, of IRING.
        IRING           Entire IRING (The IRING is a ring buffer which
                        stores all messages from the network
                        to be read by the slot.)
        ORING POINTERS  Fill and empty pointers for ORING.
        ORSIZE          Size, in bytes, of ORING.
        ORING           Entire ORING (The ORING is a ring buffer which
                        stores all messages from the slot
                        to be sent to the network.)

        9                                                             HBOM10.04
        ISIS RINGS TRACE FUNCTIONS                            September 1, 1987






                            5 -  ISIS RINGS TRACE FUNCTIONS


             This section describes the commands that trace the input or output
        rings between the slot and the Network.

             The ability  to execute  the trace commands  is determined  by the
        macro definition in the slot's tymfile as follows:

                OPTION(RNGTRC,YES/NO)

             where  YES means  commands will  be available,   and NO  means not
        executable.

             The default option will be NO for security reason.

             Trace Output is in real time; events are displayed as they  occur.
        Both IRING and ORING outputs are dispalyed; however the IRING and ORING
        outputs are not related to  each other and no association  between them
        should be drawn.

             The  output  of  all  the commands  will  be  similiar  except the
        designator of the I/O ring.  Following is an example:

        O 20004 RQR 0000 00
        I 20508 DAT 001C 09C0 9480 0004 0012 C240            |...@......B@    |
        O 2000C HSR 0000 1000 12F7 001C 0000 0000 8034
        I 20514 SIX 001C BF
        O 2001C HSR 0000 1000 12F7 001C 0000 0000 8034
        I 20518 DAT 001C 0CC0 9400 0007 0000 007D C150 03    |...@.......}AP. |
        I 20538 NOS 001C A0
        O 2007C HSR 0000 1000 12F7 001C 0000 0000 8034
        I 2053C SND 001C A1
        O 2008C HSR 0000 1000 12F7 001C 0000 0000 8034
        I 20540 SIX 001C BF
        I 20544 DAT 001C 0CC0 9400 0007 0000 017D C150 03    |...@.......}AP. |
        I 20564 SIX 001C BF
        I 20568 DAT 001C 0CC0 9400 0007 0000 027D C150 03    |...@.......}AP. |


             Here is the interpretation of the output:

             The first field indicates  whether it's Input ring (I)  or  Output
        ring (O). The second field, a 5-digit number, is the address  where the
        message is read in the ring. The next field is an  abbreviation  of the
        ISIS message.   The 4-digit  number following the  ISIS message  is the
        RPORT number assigned by the dispatcher if the  circuit has  been built
        otherwise will be port 0  message.  The first  2 bytes after  the RPORT


        10                                                            HBOM10.04
        ISIS RINGS TRACE FUNCTIONS                            September 1, 1987


        is the inter/intra  message type defined in   the ISIS manual.  If data
        message is found,  then the entire message  indicated by the count will
        be displayed.

             The  last  field  enclosed  by  bars  of  the  data  message  is a
        translation of the data message contents,interpreting the  messages  in
        ASCII format by default.

             The translation mode can be changed and will be described later.






                          5.1  Display IRING trace only - DIR


             Syntax : DIR adr

             Default : Entire IRING.

             The DIR command traces  the IRING from the indicated  address.  If
        the  address is  not given,  then the  entire IRING  will  be displayed
        starting from the beginning and proceeding to where the indices stop.






                          5.2  Display ORING trace only - DOR


             Syntax : DOR adr

             Default : Entire ORING.

             DOR  displays the  ORING starting  from the  indicated  address to
        where  the indices  stop or  the  entire ORING  if the  address  is not
        specified.













        11                                                            HBOM10.04
        ISIS RINGS TRACE FUNCTIONS                            September 1, 1987


                         5.3  Trace both IRING and ORING - DR


             Syntax : DR

             Default : Always entire rings.

             DR command enables the rings trace from start of the rings address
        to where the indices stop,  the output will show alternately ORING then
        IRING messages.






                 5.4  Query/Change Mode of Message Translation - DRNG


             Syntax : DRNG mode

             where mode = asc(ascii) or ebc(ebcdic)

             Default : ASCII.

             The DRNG  command, when  followed by  either one  of the  two mode
        identifiers (EBC or ASC),  forces translation of data messages   to the
        mode specified. This  is a graphic  representation of the   contents of
        the ring trace.

             If the  mode is not  entered,  HBOM will  display current  mode of
        translation and no actions will be taken to make any changes.






















        12                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987






                          6 -  BSC LINE MONITORING FUNCTIONS


             This section describes the commands that provide information about
        the  BSC  protocol-related  status  of  the lines,  control  units, and
        devices defined in the slot.






                      6.1  Query/Change Input Mode Command - MODE


             Syntax : MODE aaa

             Default : ADR

             The MODE command sets the selection mode, where aaa is the desired
        mode. This  determines whether in  the applicable commands,  the lines,
        control units, and devices  are specified by relative  position number,
        address, or user defined ID.  The default mode is ADR.  Modes cannot be
        mixed within a single command line.  The ID defined by the user  can be
        specified in the LINE, CUNIT, or DEVICE macros in the TYMFILE.

             The modes are:

                REL     Relative position number
                ADR     Address
                USR     User defined ID

             If  the MODE  command is  entered without  specifying a  mode, the
        current mode is displayed.

             The default mode, ADR, may  be changed by using the  macro DEFMODE
        to define the desired mode in the TYMFILE.  For example:

             DEFMODE(DFTMOD,REL)         :REL is default mode for HBOM commands

             A range check  will be done during  sysgen and commands  issued in
        HBOM to ensure integrity of HBOM's operations.








        13                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                        6.2  Query Slot's Configuration - CONF


             Syntax : CONF ln or CONF lna

             Default : Displays entire slot's configuration.

             CONF, if followed by a line identifier,  displays configuration of
        that line with the output of the line number, address, user  defined ID
        and the number of control units on the line.

             Same type of  information will also  be displayed for  the control
        units defined in the line and all the devices defined.

             If the line identifier is not specified then configuration  of the
        entire slot will be displayed.

             Output of this command is as follows:

        LINE  LADR  LID  #CU    HOST
          xx   xx    xx   xx    TYPE

              CUN   CUADR  CID  #DEV
               xx    xxx    xx    xx

                    DEV    DADR  DID  DTYP    COL  XPR  CHAR
                     xx     xxx   xx  xxxxx    x    x   TYPE


        The output is explained as follows:

        LINE    The relative line number.
        LADR    Line address as defined in the tymfile.
        LID     Line ID defined by the LNID macro.
        #CU     Number of control units defined for this line.
        HOST    The type of host connected to the line
        CUN     Relative control unit number.
        CUADR   Control Unit's polling address.
        CID     User ID defined by the CUID macro.
        #DEV    Number of devices on this CU
        DEV     Relative device number.
        DADR    Device polling address.
        DID     User defined ID by macro DID
        DTYPE   Device type as defined by the tymfile.
        COL     Color capability. Y for yes, N for no.
        XPR     Transparent data handling. Y for yes, N for no.
        CHAR    The character set supported by the individual line.







        14                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                            6.3  Query Line Status - QLINE


             Syntax : QLINE ln or QLINE lna

             Default : Displays every line defined.

             The QLINE command displays the line status for the specified line,
        If no line is specified, the command displays the status of  all lines.
        The  line number  entered may  be the  relative line  number,  the line
        address, or the line ID depending on the state of the MODE command.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        LINE LADR LID SPRT #CU #DEV RTS DSR REXMT XERR XTOT NAKS RERR RTOT
         xx   xx   xx  xx   xx  xxx  x   x   xxx   xxx xxxx  xxx xxxx xxx

        Where the display is interpreted as follows:

        LINE    Relative line number.
        LADR    Line address as defined by LINE macro in TYMFILE.
        LID     Line ID number as defined by LINE macro in TYMFILE.
        SPRT    Physical synchronous port as defined by the macro S.REF
                in the node's tymfile where the line is attached to.
        #CU     Number of control units per line.
        #DEV    Number of devices per line.
        RTS     YES if RTS/CTS required, NO if not.
        DSR     X if DTR/DSR is "DON'T CARE"
                Y if DSR is high (line is okay),
                N if DSR is low (line is out).
        REXMT   Retransmissions, number of retransmissions (decimal)
                of data sent to the Front End.(count is always
                accumulated, cleared by RESET command).
        XERR    Transmit errors, all detected transmit errors (decimal)
                (count is always accumulated, cleared by RESET command).
        XTOT    Total number of data blocks (decimal) transmitted,
                both ETX and ETB blocks are included in the count
                (count is always accumulated, cleared by RESET command).
                Retransmissions are included in the count.
        NAKS    Negative acknowledgements, number of NAKS (decimal) sent
                to the Front End.
                (count is always accumulated, cleared by RESET command).
        RERR    Receive errors,  all detected receive errors (decimal)
                (count is always accumulated, cleared by RESET command).
        RTOT    Total number of data blocks (decimal) received,
                both ETX and ETB blocks are included in count
                (count is always accumulated, cleared, by RESET command).






        15                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                         6.4  Query Control Unit Status - QCU


             Syntax : QCU cun or QCU lna,cua

             Default : All CU's in the slot or CU's on the line lna.

             The QCU command displays status of the specified control  unit, if
        the cun or the lna,cua argument  is entered.  If cun is not  entered in
        REL/USR mode,  then all control units in the slot will be displayed.

             While if in  ADR mode,  then  the lna must  be entered and  cua is
        optional.   If cua  is missing  then the  output will  include  all the
        control units on the line indicated by lna.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        CUN  CUADR  CID  #DEV  STATUS  REXMT  XERR  XTOT  NAKS  RERR  RTOT
        xx    xxx    xx    xx  ACTIVE   xxx    xxx  xxxx   xxx   xxx  xxxx


        Where the display is interpreted as follows:

        CUN     Relative control unit number
        CUADR   Control unit address as defined
                by CUNIT macro in TYMFILE
        CID     Control unit ID number as defined
                in the CUNIT macro in TYMFILE
        #DEV    Number of devices per control unit.
        STATUS  Polling status of the Front End
                ACTIVE : Host is polling this CU.
                DOWN : Host is not polling this CU.
        REXMT   Retransmissions, number of retransmissions (decimal)
                of data sent to the Front End.(count is always
                accumulated, cleared by RESET command).
        XERR    Transmit errors, all detected transmit errors (decimal)
                (count is always accumulated, cleared by RESET command).
        XTOT    Total number of data blocks (decimal) transmitted,
                both ETX and ETB blocks are included in the count
                (count is always accumulated, cleared by RESET command).
                Retransmissions are included in the count.
        NAKS    Negative acknowledgements, number of NAKS (decimal) sent
                to the Front End.
                (count is always accumulated, cleared by RESET command).
        RERR    Receive errors,  all detected receive errors (decimal)
                (count is always accumulated, cleared by RESET command).
        RTOT    Total number of data blocks (decimal) received,
                both ETX and ETB blocks are included in count
                (count is always accumulated, cleared, by RESET command).




        16                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                            6.5  Query Device Status - QDEV


             Syntax : QDEV dvn or QDEV lna,cua,dva

             Default : None  in REL/USE mode.        All devices on  lna,cua in
        ADR mode.

             The QDEV command displays  the status of the specified  device, If
        no  device address  is  specified, the  status  of all  devices  on the
        specified control unit and line is displayed.

             In the REL/USR mode, if the device number or ID is not entered, or
        if in ADR mode  and any error in   line/CU address the command  line is
        rejected.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        DVN DVA DID COL XPR DTYPE STATE RPORT SS SCUA SDVA      ONLINE
         xx  xx  xx  x   x   xxxx xxxxx   xx xxxx xxx  xxx  dd:mm:yy hh:mm:ss

        The display is interpreted as follows:

        DVN     Relative device number
        DVA     Device address as defined by the DEVICE macro
        DID     Device ID as defined by the DEVICE macro
        COL     Y : terminal has color capabilities
                N : no color feature
        XPR     Y : terminal supports extended features (transparent)
                N : cannot handle extended features
        DTYPE   Type of the device as defined by TYPE macro. ie.,C1920
        STATE   Indicates operating mode of the device, can be:
                NATIVE  - Native Mode,  TPAD is either
                          3270 PBT or 3270/CMT
                VIRTUAL - Virtual Host Mode,  TPAD is in ASCII mode
                IDLE    - Indicates no circuit yet
                LOGIN   - Indicates there is circuit but mode
                          has not been decided yet.

        The following output will not be shown if no circuit has been built.

        RPORT   Dispatcher port number.
        SS      Last sense/status halfword sent to the host
        SCUA    Source control unit address field from
                CALL USER DATA packet
                00 is displayed for device operating
                in Virtual host mode.
        SDVA    Source device address field from the
                CALL USER DATA packet.
                00 is displayed for device operating
                in Virtual host mode.


        17                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                          6.6  Reset CU Error Counts - RESET


             Syntax :  RESET

             Default : NA

             The RESET command  sets the value of  of all error,  transmit, and
        receive totals  for all control  units to zero.   These are  the values
        reported by the QCU command.






                         6.7  Restart Line Error Counts - RERR


             Syntax :  RERR ln or RERR lna

             Default : Every line in the slot.

             The RERR command  resets the error  counts and specifies  the line
        for  the error  reporting  performed by  the DERR  command.   The value
        ln(a), specifies the line for which errors are reported.  If no line is
        specified,  the DERR  command displays  the error  information  for the
        entire slot.   All error  counts accumulated for  the DERR  command are
        reset to zero.






                       6.8  Display Line Error Statistics - DERR


             Syntax :  DERR n

             Default : Last 24 hours

             The DERR command displays the number of line errors  that occurred
        in each of the past n hour(s) and the average number of errors for that
        period.  The value of n can range from 1 to 24.  If n is  not specified
        only the average number of  errors and line exceptions for the  past 24
        hours is displayed.  Any errors  that occur in the most  recent partial
        hour or other partial hour are not included in the average.

             A bin  is maintained for  each error type  and line  exception for
        each hour in a 24 hour cycle.  At the beginning of the hour the  bin is
        emptied and each  error occurring within that  hour is recorded  in the


        18                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


        bin.  At the end of the hour the process moves to the next set of bins.
        This process cycles continuously.

        HBOM -- 3270 PBH Bisync Operations Monitor

        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        LINE xx

                                             BLKCNT(ETB/ETX)
        HOUR   RE-TRAN  XERR   NAKS   RERR     XMT    RCV
         xx      xx      xx     xx     xx      xxx    xxx
         xx      xx      xx     xx     xx      xxx    xxx
         xx      xx      xx     xx     xx      xxx    xxx
         xx      xx      xx     xx     xx*     xxx    xxx

                 xxx     xxx    xxx    xxx     xxxx   xxxx   TOTALS

        AVERAGE PER HOUR

                 xx     xx      xx     xx      xxx    xxx

        The display is interpreted as follows:

        LINE    Line number, as per current mode, for which
                errors are reported.
                ENTIRE SLOT indicates errors are reported.
                for all lines.
        HOUR    Bin hour in GMT.
        RE-TRAN Retransmissions, number of retransmissions
                of data to sent to the Front End.
        XERR    Total transmit errors.
        NAKS    Negative acknowledgements, number of
                NAKS sent to the Front End.
        RERR    Total receive errors.
        BLKCNT  Total number of block counts including ETB or ETX
                for the XMT and RCV
        *       Indicates partial hour included in totals
                but not included in average.















        19                                                            HBOM10.04
        BSC LINE MONITORING FUNCTIONS                         September 1, 1987


                       6.9  Display CU Not Being Polled - DNPLL


             Syntax : DNPLL

             Default : Not Available.

             The DNPLL command  displays a list of  the control units  that are
        not being polled.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        CONTROL UNITS NOT BEING POLLED
            LINE#  LNADR  CU#  CUADR  CUID
             xx     xxx    xx   xxx    xx

        The display is interpreted as follows:

        LINE#   Relative Line number.
        LNADR   Line address.
        CU      Relative control unit number.
        CUADR   Control Unit polling address.
        CUID    Control Unit user defined ID.






























        20                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987






                               7 -  DEBUGGING FUNCTIONS


             This section  explains the  commands that  provide the  ability to
        trace  and  display information about  certain events occurring  in the
        3270   host interface.   These include  traces of  data  flow, response
        time,  and protocol.

             Each trace has a duration  that is both defaulted in the  code and
        can be  explicitly stated  when the  trace is  enabled (in  the command
        syntax m represents the duration of the trace).  If the duration is not
        specified, the default duration is used.  The default can be changed by
        setting a label equal to a value in the TYMFILE.  The appropriate label
        is given in each trace description.  The maximum default value must fit
        in a halfword and  be equivalent to less  than seven days.  All  of the
        traces degrade the system efficiency.

             As an example, the  default value of m  for the time stamp  can be
        changed by setting the value of STMPTM equal to the  desired  number of
        seconds in the TYMFILE:

             OPTION(STMPTM,$A30)

             would set the default value of m equal to 30 minutes.






                     7.1  Enable Character Per Second Trace - ECPS


             Syntax : ECPS ln(a),m

             Label: CPSTM

             Default : 60 minutes.

             The ECPS command enables the character/second test for the  next m
        minutes, where ln(a) is the specified line number(address).  If no line
        is specified, the character per second trace is enabled for  the entire
        slot.   If  m,  the  number of  minutes,  is  not  specified,  the test
        continues  for the  default duration  or until  halted by  the  DCPS or
        DISABLE command or the slot is restarted.

             The character count,  in both native  mode and virtual  host mode,
        includes all characters transferred across the Bisync line from the STX


        21                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


        to the ETB  or ETX.  Leading sync  characters, pad characters,  and the
        checksum are not included in the count.






                7.2  Display Character Per Second Trace Results - DCPS


             Syntax : DCPS

             Default : Not Available.

             The  DCPS   command  halts  and   displays  the  results   of  the
        character/second  test.  The   test  computes  the  average  number  of
        characters per second thruput by the slot.

        HBOM -- 3270 PBH Bisync Operations Monitor

        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        LINE xx        DUR(min)
        (ENTIRE SLOT)

        CHARS/SEC xxxx    TOTAL CHARS xxxx    PER hh:mm:ss

        The display is interpreted as follows:

        LINE xx         The line on which the thruput is measured,
                        as per the current mode, or entire slot,
                        if no line was specified.
        DUR(min)        The duration for which the trace runs if
                        not halted by the DCPS or DISABLE command.
        CHARS/SEC       The number of characters per second thruput
                        by the slot or the specified line.
        TOTAL CHARS     The total number of characters thruput by
                        the line or slot for the specified period.
        PER             The amount of time the trace actually ran in
                        hours:min:sec.













        22                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


                         7.3  Enable Polling Cycle Trace - EPC


             Syntax :  EPC cun,m or EPC lna,cua,m

             Label : PCTM

             Default : 60 minutes

             The EPC  command enables the  polling cycle trace  for the  next m
        minutes, cun is the control unit number or ID in REL mode.

             While in ADR mode,  If the CU address  cua is not specified  and a
        line address  lna is entered  then the  trace will be  done on  all the
        control units on that line.

             This trace  measures the average  polling cycle for  the specified
        control unit.  The polling cycle is measured between each  General Poll
        issued to the control  Unit,  it's basically taking the  average number
        of  G.P.'s received  in the  duration by  default or  specified  by the
        operator.

             If no control unit is specified, the polling cycle is measured for
        all control units  in the slot.   If m, the  number of minutes,  is not
        specified, the trace continues for the default duration or until halted
        by the DPC or DISABLE ommand or the slot is restarted.






                    7.4  Display Polling Cycle Trace Results - DPC


             Syntax :  DPC

             Default : NA.

             The  DPC command  halts and  displays the  results of  the polling
        cycle  trace.  This  test computes the  average polling cycle  from the
        Front End for the specified control unit.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        (LINE #)
        CU xx    DUR(min) xx
        (SLOT)

        CYCLE&(ms) xxx    POLLS xxxx    PER xx

        The display is interpreted as follows:

        23                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987



        CU        Line # or Control unit # or entire slot being traced.
        DUR(min)  The duration for which the trace runs if not halted
                  by the DPC or DISABLE command.
        CYCLE     Average polling time in milliseconds
        POLLS     Number of polls from the FEP in the period traced.
        PER       The actual amount of time the trace ran in hour:min:sec.






                         7.5  Enable Time Stamp Trace - ESTAMP


             Syntax : ESTAMP dvn,m or ESTAMP lna,cua,dva,m

             Label : STMPTM

             Default : 5 minutes

             The  ESTAMP  command  enables  the  time  stamp  trace   for  each
        transaction of the specified device  for the next m minutes,  where dvn
        is the specified device number/ID if in REL/USR mode, or lna,  cua, and
        dva as the line, control unit, and the device addresses if in ADR mode.

             If m, the number of minutes, is not specified, the trace continues
        for the default duration or until halted by the DSTAMP command, DISABLE
        command or the slot is restarted.
























        24                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


                    7.6  Display Time Stamp Trace Results - DSTAMP


             Syntax: DSTAMP

             The DSTAMP command halts and displays the time stamp trace for the
        last two transactions for the specified device.  The time  stamp values
        are  in FASTC  (FASTC, the  system clock,  is a  32 bit  value  that is
        incremented at a rate of 600 times per second).

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        DUR(min) xx    PER hh:mm:ss
        DEV xx   PORT NUMBER xx
                          LAST        PRIOR
        STX IRING       xxxxxxxx    xxxxxxxx
        ETX IRING       xxxxxxxx    xxxxxxxx
        RCV GP          xxxxxxxx    xxxxxxxx
        XMT STX         xxxxxxxx    xxxxxxxx
        XMT ETX         xxxxxxxx    xxxxxxxx
        XMT COMPLETE    xxxxxxxx    xxxxxxxx
        RCV SELECT      xxxxxxxx    xxxxxxxx
        RCV STX         xxxxxxxx    xxxxxxxx
        RCV ETX         xxxxxxxx    xxxxxxxx
        STX ORING       xxxxxxxx    xxxxxxxx
        ETX ORING       xxxxxxxx    xxxxxxxx
        DELAY(ms)           xxxx        xxxx


             The time stamp display in HEX  is interpreted as follows where the
        column labeled LAST  is the stamp for  the most recent  transaction and
        the column labeled PRIOR is the transaction preceding the  most recent.
        The contents in DELAY are in decimal.

             Time stamping trace will  not be executed for  terminals operating
        in Virtual Host Mode, unless the circuit has not been built.

        DUR(min)        The duration for which the trace runs if
                        not halted by the DSTAMP or DISABLE command.
        PER             The duration of the trace actually ran hour:min:sec.
        DEV             The device being traced  (as per current mode)
        PORT NUMBER     The dispatcher port number associated with
                        the device being traced.
        STX IRING       STX of inbound data read from IRING by background
        ETX IRING       ETX of inbound data read from IRING by background
        XMT STX         STX of inbound data sent to host by foreground
        XMT ETX         ETX of inbound data sent to host by foreground
        XMT COMPLETE    Transmission is completed
        RCV SELECT      The select is received
        RCV STX         Receive STX of incoming message by foreground
        RCV ETX         Receive ETX of incoming message by foreground
        STX ORING       STX of incoming message put into ORING by background

        25                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


        ETX ORING        ETX of incoming message put into ORING by background
        DELAY           Round trip delay, measured from receipt of STX from
                        the device in the PBT to transmit of STX to the
                        device in the terminal interface, in milliseconds.







                    7.7  Enable and Display Protocol Trace - SCOPE


             Syntax : SCOPE ll

             Default : Line 0

             This command traces the  BSC line protocol exchanges  and displays
        in a real  time fashion the line  activities between HIF and  the Front
        End.  Display will show the transmit operation then the received data.

             Because of the task  scheduling,  output of this trace  running in
        the DDT may not  show the exact sequence  of events on the  actual  BSC
        line. For example, if  the traffic is heavy  the trace will not   be as
        accurate as the real line trace performed by scopes.

             Example:
        XOP     XMNE    ROP     RMNE

        2       EOT
                        2       ENQ
        2       EOT
                        2       ENQ
        0       DATA    6       ACK1
        2       EOT
                        3       EOT
                        2       ENQ
        7       ACK0


             THE XOP codes are defined  in the xmit return codes  section.  The
        ROP codes are defined in the rcv return codes section.











        26                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


                             7.8  Enable Data Trace - EDAT


             Syntax : EDAT dvn,m or EDAT lna,cua,dva,m

             Label: DATTM

             Default : 10 minutes

             The EDAT command enables  the data trace for the  specified device
        for the  next m  minutes, where  dvn is  the device  number or  ID, and
        lna,cua,dva are the line address, control address, and device addres.

             The transmit and receive  data are traced.  By default,  The first
        ten  characters of  the message  block and  the ETB  or ETX  are saved.
        However,    the   size   can   be   changed   by   using    the   macro
        OPTION(DATRSZ,$Ann) to define nn bytes to save including STX and ETX or
        ETB.

             If no m, number of minutes, is specified, the trace  continues for
        the default duration  or until the DDAT  command or DISABLE  command is
        issued or the slot is restarted.

             Data trace is not available for virtual host mode terminals.






                            7.9  Display Data Trace - DDAT


             Syntax : DDAT

             Default : NA.

             The DDAT  command disables and  displays the transmit  data trace.
        For the standard 3270 host interface, the data is displayed in EBCDIC.

        HBOM -- 3270 PBH Bisync Operations Monitor
        NODE  nnnn    SLOT  ss   ddmmmyy hh:mm:ss

        DEV  xx    DUR(min)  xx    PER  hh:mm:ss

        XMT:  02  xx xxxx xxxx xxxx xx  03
        RCV:  02  xx xxxx xxxx xxxx xx  03
        XMT:  02  xx xxxx xxxx xxxx xx  03

        The display is interpreted as follows:

        DEV       Device number, per current mode.
        DUR(min)  The duration for which the trace runs if not halted

        27                                                            HBOM10.04
        DEBUGGING FUNCTIONS                                   September 1, 1987


                  by the DDAT or DISABLE command.
        PER       The amount of the trace actually ran in hou:min:sec.
        XMT:      First ten data bytes transmitted to the host
                  ended with ETB or ETX
        RCV:      First ten data bytes received from the host ended
                  with ETB or ETX







                      7.10  Disable All Enabled Traces - DISABLE


             Syntax : DISABLE

             Default : NA.

             The DISABLE command disables all traces that were enabled.

































        28                                                            HBOM10.04
        QUEUE PROCESSOR                                       September 1, 1987






                                 8 -  QUEUE PROCESSOR


             This  section describes  how to  stop the  queue processor  and to
        query any data contained in the queue.

             There are two queues,  namely  XMT and RCV queue,  that  are being
        used between the Foreground(F/G) and Background(B/G).

             RCV Q is used in the  direction from the F/G to B/G when  there is
        data received from the Front End on the BSC line.  Data is put in RCV Q
        and awaits B/G  RCV Q processor to  scan and transform into  either DSP
        messages or ASCII strings to be delivered to the terminal.

             XMT Q is used in the direction from B/G to F/G whenever terminal's
        data has arrived  from the network and  has been converted  either from
        ASCII or DSP into BSC  messages.  The final response is then  placed in
        XMT Q and awaits transmission to the Front End.

             The  captured  data  will always  be  displayed  in  normal EBCDIC
        representation   even   though  they   are   usually   reversed  before
        transmission on XMT queue.






                           8.1  Stop XMT Q Process - STOPXMT


             Syntax : STOPXMT dvn or STOPXMT lna,cua,dva

             Default : None,  device must be specified.

             The STOPXMT command stops the XMT Q scanner in processing the data
        on the XMT Q for the device specified.

             The data, if any, remains captured on the Q and is not sent to the
        Front End.

             There is no telling of  how this command would interfere  with the
        normal  Bisync line's  operation.  In  Limited Conversation  Mode,  HIF
        will send TTD to FEP until the data is again available.






        29                                                            HBOM10.04
        QUEUE PROCESSOR                                       September 1, 1987


                           8.2  Query Data On XMT Q - QXMTQ


             Syntax : QXMTQ

             QXMTQ querys and displays any data on the XMT Q that  was captured
        by executing STOPXMT command on a device.

             The output look like the following :
        BUFADR      CONTENTS
        xxxxx  xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx
        xxxxx  xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx

             BUFADR is  the buffer  address where  contents of  the XMT  Q were
        being displayed.






                          8.3  Start XMT Q Process - STARTXMT


             Syntax : STARTXMT

             The  STARTXMT  command  restarts the  XMT  Q  scanner,  which then
        resumes processing data on the Q. Use this command for any device which
        ceased  transmitting  to the  host  due to  the  implementation  of the
        STOPXMT command.

             Terminal  resumes  operation  when  this  command  is  executed if
        STOPRCV has not been executed.






                           8.4  Stop RCV Q Process - STOPRCV


             Syntax : STOPRCV dvn or STOPRCV lna,cua,dva

             STOPRCV stops RCV Q scanner from processing the data on the  Q, if
        any, for the device specified by the argument.

             Data captured on the Q is  from the host and remains on the  Q for
        as long as STARTRCV is not executed, and can be examined by the command
        QRCVQ described below.




        30                                                            HBOM10.04
        QUEUE PROCESSOR                                       September 1, 1987


                           8.5  Query Data On RCV Q - QRCVQ


             Syntax : QRCVQ

             QRCVQ querys and displays any data on the RCV Q that  was captured
        by executing STOPRCV command on a device.

             The output looks like the following :

        BUFADR      CONTENTS
        xxxxx  xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx
        xxxxx  xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx xxxx


             BUFADR is  the buffer  address where  contents of  the RCV  Q were
        being displayed.






                          8.6  Start RCV Q Process - STARTRCV


             Syntax : STARTRCV

             STARTRCV command re-starts  the RCV Q  scanner to process  data on
        the Q  for the device  that has been  stopped from transmitting  to the
        terminal by the command STOPRCV.

             Terminal resumes operation when  this command is executed   and if
        XMT Q is not stopped by STOPXMT.




















        31                                                            HBOM10.04
        FUTURE DEVELOPMENTS                                   September 1, 1987






                               9 -  FUTURE DEVELOPMENTS


             Future  development  in  the  HBOM  include  an  implementation of
        dynamically  reconfigurable  enviroment  where  a  valid  user,   going
        through Network  Console,  can change  the device assignments,   ie. CU
        polling address or the number of devices for a certain CU.

             Enhancements  would  also  include  the  capability  of  adding or
        changing the  validation of certain  user names, the  characteristic of
        the device can also be modified to handle color or transparent data.







































        32                                                            HBOM10.04
                                                              September 1, 1987



























                      *   ****  ****  ***** *   * ****  ***** *   *
                     * *  *   * *   * *     **  * *   *   *    * * 
                    ***** ****  ****  ****  * * * *   *   *     *  
                    *   * *     *     *     *  ** *   *   *    * * 
                    *   * *     *     ***** *   * ****  ***** *   *
























        33                                                            HBOM10.04
        BISYNC RCV RECEIVE CODES                              September 1, 1987






                        APPENDIX I.   BISYNC RCV RECEIVE CODES



        The following is a list of the internal bisync receive codes
        as displayed in certain commands such the SCOPE command:

        0       rcdatx          good data etx received
        1       rcdatb          good data etb received
        2       rcenq           enq received
        3       rceot           eot received
        4       rcnak           nak received
        5       rcdisc          dle,eot (disconnect signal) received
        6       rcack1          ack1 received
        7       rcwack          wack received
        8       rcack0          ack0 received
        9       rcrvi           rvi received
        A       rcttd           ttd (stx,enq) received
        B       rcmbid          multi-leaving bid (soh,enq)
        C       rcdabt          data abort(enq,eot,nak in text)
        D       rclsyn          lost synchronization
        E       rcovrn          overrun (more data than bufferlets specified)
        F       rcnrom          no initial bufferlet available
        10      rctmot          timeout before msg received
        11      rcbadd          crc error in data message
        12      rclost          lost data due to inavailability of bufferlet
        13      rcunid          unidentifiable msg
        14      rcfcom          forced completion by background






















        34                                                            HBOM10.04
        BISYNC XMIT RETURN CODES                              September 1, 1987






                        APPENDIX II.   BISYNC XMIT RETURN CODES



             The following bisync operation codes are used to send data.
        0       xcdata          send data
        1       xcenq           send enq
        2       xceot           send eot
        3       xcnak           send nak
        4       xcttd           send ttd
        5       xcack1          send ack1
        6       xcwack          send wack
        7       xcack0          send ack0
        8       xcrvi           send rvi
        9       xcdisc          send disconnect(dle,eot)



































        35                                                            HBOM10.04
        3270 PBH SLOT DEFINED CRASH CODES                     September 1, 1987






                   APPENDIX III.   3270 PBH SLOT DEFINED CRASH CODES



        Following is a list of all the 3270 PBH slot-defined crash codes

         Nearest   Localize  Crash
         label     Module    Code   Crash Reason

          TPT2      TIMEOUT   0F    Timeout Free List exhausted
          ENTRY2    MAIN            In CRASH library.
          GCL05     CMDLST    0A    Command Link List locked for 'GET' process
          GCL1      CMDLST    0A    Same as the above
          PCL1      CMDLST    0A    Command Link List locked for 'PUT' process
          CLFULL    CMDLST    99    Command Link has no free link
          CLBUG     CMDLST    98    Bug in Command List usage
          BSCSRV    BSCSRV    0A    SVC error, Try to connect input twice
                                     for receive process
          BSX030    BSCSXM    0A    SVC error, Try to connect input twice
                                     for Transmit process
          BSXRTS    BSCSXM    0A    SVC error,  Force Output failed
          BSXWRT    BSCSXM    0A    Illegal Transmit OP code
          BSXWCR    BSCSXM    0A    Transmit List too small
          BSXWTO    BSCSXM    0A    Force output SVC error
          BSXOTZ    BSCSXM    0A    Force Output SVC error
          BUFERR    BBUFER    D0    Big Bufferlet Lists Locked when 'GET'
          PBB20     BBUFER    D0    Big Bufferlet lists locked when 'PUT'
          PCRASH    BSCPTP    FF    Bisync Line crash
          DSR020    BSCDTR    0A    Connect input SVC error
          DTR220    BSCDTR    0A    Same
          SPECL     FRNTND    61    Invalid Port 0 message
          INDCR     FRNTND    60    No Activation routine
          INPUT3    FRNTND    63    Invalid port number,  which has been
                                     active to receive the needle
          INCN1     FRNTND    60    No DCB was assigned
                                    No State Table was assigned
                                    No Activation routine was Assigned
          INVAL     FRNTND    62    Invalid Message
          PUTBC     MAIN      0A    No Big Bufferlet
          PUTBH     MAIN      0A    Same










        36                                                            HBOM10.04
        3270 PBH SLOT DEFINED CRASH CODES                     September 1, 1987




          PUTBHX    MAIN      0A    Same
          GETBC     MAIN      0A    No Buffer assigned to get next character
          POM30     MAIN      0A    Invalid port 0 message
          BCRASH    MAIN      0A    No Big Bufferlet for creating
                                    Bisync Frame,  called by PUTBX
          NOLNK     MAIN      99    No link for Map processing

        Note :

          1. Module MAIN is global to all codes,  need not be localized.
          2. Crash type of 0A simply means unknown reason.









































        37                                                            HBOM10.04
        CRASH CODES FOR 3270 PBH INTERFACE                    September 1, 1987






                   APPENDIX IV.   CRASH CODES FOR 3270 PBH INTERFACE



        Crash   Nearest         Localize        Crash Reason
        Code    Label           Module

        60      INDCR           FRNTND          NO ACTIVATION ROUTINE
        60      INCN1           FRNTND          NO DCB WAS ASSIGNED
                                                NO STATE TABLE WAS ASSIGNED
                                                NO ACTIVATION ROUTINE WAS
                                                ASSIGNED
        61      SPECL           FRNTND          INVALID PORT 0 MESSAGE
        62      INVAL           FRNTND          INVALID MESSAGE
        63      INPUT3          FRNTND          INVALID PORT NUMBER,WHICH HAS
                                                BEEN ACTIVE TO RECEIVE THE
                                                NEEDLE
        80      POM30           MAIN            INVALID PORT 0 MESSAGE
        81      ZCRASH          MAIN            NO BIG BUFFERLET
        81      SCRASH          MAIN            NO BIG BUFFERLET
        81      PUTBC           MAIN            SAME
        81      PUTBH           MAIN            SAME
        81      PUTBX           MAIN            SAME
        81      PUTBHX          MAIN            SAME
        81      PBCRAS                          NO BIG BUFFERLETS
        81      TSTMCR                          NBB
        82      GETR05          MAIN            RELATIVE HOST NUMBER NOT FOUND
        83      NXTSC                           NO NEXT ELEMENT FOR STORED
                                                LOGON
        84      GCL             CMDLST          COMMAND LINK LIST LOCKED FOR
                                                 'GET'  PROCESS
        84      GCL01           CMDLST          SAME AS ABOVE
        85      PCL             CMDLST          COMMAND LINK LIST LOCKED FOR
                                                 'PUT'  PROCESS
        86      SRVCRA          BSCSRV          SVC ERROR,TRY TO CONNECT INPUT
                                                TWICE FOR RECEIVE PROCESS.
        86      BSX030          BSCSXM          SVC ERROR,TRY TO CONNECT INPUT
                                                TWICE FOR TRANSMIT PROCESS
        86      DSR020          BSCDTR          CONNECT INPUT SVC ERROR
        86      DTRCRA                          SVC OUTPUT ERROR
        86      DTR220          BSCDTR          CONNECT INPUT SVC ERROR
        87      BSXCRA          BSCSXM          SVC ERROR,FORCE OUTPUT FAILED
        87      BSXWCR          BSCSXM          TRANSMIT LIST TOO SMALL
        87      BSXCRA          BSCSXM          FORCE OUTPUT SVC ERROR
        87      BSXCRA          BSCSXM          FORCE OUTPUT SVC ERROR
        88      BSXCRA          BSCSXM          ILLEGAL TRANSMIT OP CODE
        89      BSXD02                          ILLEGAL BUFFER CHACACTER COUNT
        8A      DAT120                          ILLEGAL IIX MSG
        8B      GETBC           MAIN            NO BUFFER ASSIGNED TO GET NEXT

        38                                                            HBOM10.04
        CRASH CODES FOR 3270 PBH INTERFACE                    September 1, 1987


                                                CHARACTER
        8D      DA.R11          MAIN            RAN OUT OF UNBUSY LINKS
        8D      DA.X11          MAIN            RAN OUT OF UNBUSY LINKS
        8E      FNTVH                           CAN'T FIND ASSOCIATED PRINTER
        98      CLBUG           CMDLST          BUG IN COMMAND LIST USAGE
        99      NOLNK           MAIN            NO LINK FOR MAP PROCESSING
        99      CLFULL          CMDLST          COMMAND LINK HAS NO FREE LINK
        D0      BUFERR          BBUFER          BIG BUFFERLET LISTS LOCKED WHEN
                                                 'GET'
        D0      PBB20           BBUFER          BIG BUFFERLET LISTS LOCKED WHEN
                                                 'PUT'
        D3      BBCKD                           BAD CHAIN ADDRESS
        0F      TPT2            TIMEOUT         TIMEOUT FREE LIST EXHAUSTED
        FF      PCRASH          BSCPTP          BISYNC LINE CRASH








































        39                                                            HBOM10.04
    = #