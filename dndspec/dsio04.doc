                                                                  July 23, 1990















                          SIO DIAGNOSTIC USER'S GUIDE


                                 VERSION 4.60








                                    TYMNET
                        NETWORK TECHNOLOGY DEVELOPMENT
                                 July 23, 1990










     ====================================================================
     |       THIS DOCUMENT IS THE SOLE PROPERTY AND CONFIDENTIAL        |
     |       INFORMATION OF BT TYMNET, INC., AND MAY  NOT BE COPIED     |
     |       IN  WHOLE OR IN PART  OR  DISCLOSED  TO  ANY  THIRD        |
     |       PARTY WITHOUT THE PRIOR WRITTEN CONSENT OF BT TYMNET, INC..|
     ====================================================================



   Copyright 1990 by BT TYMNET INC.






                              SIO Diagnostic User's Guide                DSIO04
                                                                  July 23, 1990







                                   TABLE OF CONTENTS

        Section                                                            Page



        1.   OVERVIEW                                                         1


        2.   APPLICABLE DOCUMENTS                                             3


        3.   EQUIPMENT                                                        4


        4.   CONFIGURATION CONSTRAINTS                                        7
          4.1   HDLC MICRO ENGINE CONSTRAINTS                                 8
          4.2   TYMNET ENGINE CONSTRAINTS                                     8
          4.3   TSI CONTROLLER CONSTRAINTS                                    8
          4.4   PICO ENGINE CONSTRAINTS                                       9


        5.   LOADING PROCEDURE                                               10
          5.1   LOADING PROCEDURE FOR TYMNET ENGINE/HDLC MICRO ENGINE        10
          5.2   LOADING PROCEDURES FOR TSI CONTROLLER                        11
          5.3   LOADING PROCEDURES FOR PICO ENGINE                           13


        6.   OPERATING PROCEDURES                                            16
          6.1   SETUP TEMPLATE FOR TSI CONTROLLER                            17
          6.2   SETUP TEMPLATE FOR PICO ENGINE                               19
          6.3   DEFAULT TESTS WITH ENGINE CONSOLE AND TERMINAL               23
          6.4   NONDEFAULT TESTS WITH ENGINE CONSOLE AND TERMINAL            26
          6.5   TESTING PROCEDURE WITH ENGINE CONSOLE ONLY                   27
             6.5.1    CHANGE TOTAL NUMBER OF CHANNELS ON ENGINE              29
             6.5.2    CHANGE SIO MOTHERBOARD ADDRESS ON ENGINE               30

          6.6   TESTING PROCEDURE WITH TERMINAL ONLY                         31
          6.7   RESTARTING THE DIAGNOSTIC                                    32
          6.8   CONSOLE DISPLAY                                              33
          6.9   WATCHDOG TIMER                                               34


        7.   COMMANDS                                                        35
          7.1   OPERATING COMMANDS                                           36
             7.1.1    ADDT: ADD TESTS AND SECTIONS                           36
             7.1.2    BOOT: LOAD ENGINE BOOTSTRAP                            37
             7.1.3    BRKP: BREAKPOINT                                       37

                              SIO Diagnostic User's Guide                DSIO04
                                                                  July 23, 1990


             7.1.4    DELT: DELETE TESTS AND SECTIONS                        38
             7.1.5    <ESC>: ESCAPE FROM CURRENT TEST                        39
             7.1.6    EXA: EXAMINE MEMORY                                    39
             7.1.7    GO: EXECUTE FROM ADDRESS                               39
             7.1.8    LOOP: SET LOOP COUNT                                   41
             7.1.9    MOD: MODIFY MEMORY                                     41
             7.1.10   RUN: RUN                                               42

          7.2   DISPLAY COMMANDS                                             43
             7.2.1    DOC: Display user guide source                         43
             7.2.2    HELP: DISPLAY LIST OF COMMANDS                         43
             7.2.3    NAME: DISPLAY TEST NAMES                               43
             7.2.4    OPTN: DISPLAY THE DIAGNOSTIC OPTIONS                   44
             7.2.5    STAT: LAST ERROR MESSAGE                               44

          7.3   ERROR AND MESSAGE CONTROL COMMANDS                           45
             7.3.1    BELL: SET BELL RING ON ERROR                           45
             7.3.2    ECON: ERROR CONTROL                                    45
             7.3.3    MESG: MESSAGE CONTROL                                  48
             7.3.4    NOBE: NO BELL RING ON ERROR                            49
             7.3.5    NOSP: DO NOT SUPPRESS ERROR MESSAGE                    49
             7.3.6    SPRS: SUPPRESS ERROR MESSAGE                           49

          7.4   EDITING COMMANDS                                             50
             7.4.1    CONTROL-Q or <ESC>: CANCEL COMMAND ENTRY               50
             7.4.2    CONTROL-A: DELETE SINGLE CHARACTER                     50
             7.4.3    CONTROL-W: DELETE WHOLE WORD                           51

          7.5   SIO diagnostic Command                                       52
             7.5.1    SELT : SELECT TEST PARAMETERS                          52
             7.5.2    RREG : Display Z80 SIO READ Registers                  54


        8.   TEST DESCRIPTIONS                                               55
          8.1   Test 1, Signalling Test                                      56
          8.2   Test 2, HDLC Features Test                                   57
          8.3   Test 3, SYNC I/O Emulation Status Test                       58
          8.4   Test 4, SYNC I/O Emulation Interrupt Test                    60
          8.5   Test 5, SYNC I/O Emulation Round Trip Test                   62
          8.6   Test 6, DMA Window Test                                      64
          8.7   Test 7, Relocation Command Test                              66
          8.8   Test 8, Cross Talk Test                                      68
          8.9   Test 9, ASYNC Channel Features Test                          70
          8.10   Test 10, ASYNC Block Test                                   72


        9.   DEFAULT TESTS DATA PATTERNS                                     74
          9.1   Test 2, HDLC Channel Features Test Data Patterns             74
          9.2   Test 5, SYNC I/O EMULATION ROUND TRIP TEST DATA PATTERNS     75
          9.3   Test 6, DMA WINDOW TEST DATA PATTERNS                        76
          9.4   Test 7, RELOCATION TEST DATA PATTERNS                        77
          9.5   Test 8, CROSS TALK TEST DATA PATTERNS                        78
          9.6   Test 9, ASYNC CHANNEL FEATURES TEST DATA PATTERNS            79

                              SIO Diagnostic User's Guide                DSIO04
                                                                  July 23, 1990


          9.7   Test 10, ASYNC BLOCK TEST DATA PATTERNS                      80


        10.  ERROR DESCRIPTIONS                                              87
          10.1  Unexpected System Errors                                     88
          10.2  Test 1, Signalling Test Error Codes                          89
          10.3  Test 2, HDLC Channel Features Test Error Codes               90
          10.4  Test 3, SYNC I/O Emulation Status Test Error Codes           91
          10.5  Test 4, SYNC I/O Emulation Interrupt Test Error Codes        92
          10.6  Test 5, SYNC I/O Emulation Round Trip Test Error Codes       96
          10.7  Test 6, DMA Window Test Error Codes                          97
          10.8  Test 7, Relocation Command Test Error Codes                  99
          10.9  Test 8, Cross Talk Test Error Codes                         102
          10.10 Test 9, ASYNC Channel Features Test Error Codes             103
          10.11 Test 10, ASYNC Block Test Error Codes                       105


                                     APPENDICES
                                     ==========


        I.   COMMAND SYNTAX                                                 108


        II.  DEDICATED MEMORY ALLOCATION                                    110





























                              SIO Diagnostic User's Guide                DSIO04
        OVERVIEW                                                  July 23, 1990






                                     1 -  OVERVIEW


             This diagnostic  examines the functional  operation of  the Serial
        Input and Output ( SIO ) subsystem of the Tymnet Engine, the HDLC Micro
        Engine, the PICO Engine and the Tymnet Spirit Interface ( TSI ).

             The  SIO  subsystem  is  used  to  interface  high   speed  serial
        communication  lines  to  the Tymnet  Engine,   the  Tymnet  HDLC Micro
        Engine, the PICO Engine and the Tymnet Spirit Interface ( TSI ).   Each
        SIO subsystem consists a DMA interface to the main memory (  except the
        HDLC Micro Engine ), scratch pads for buffering control information and
        data, an  interface circuitry  to the  SIO buses  where serial  data is
        transmitted  and received  of a  particular protocol  : HDLC,  ASYNC or
        BISYNC.

             The diagnostic is designed  to provide a capability for  testing a
        maximum of 16 channels ( 14 channels for HDLC Micro Engine,  8 channels
        for  PICO Engine  and 4  channels for  TSI )  concurrently  without any
        hardware modifications and to  allow the user to re-configure  ( select
        or  de-select  any channels  )  the SIO  subsystem  under  test without
        removing  the  boards from  the  subsystem in  field  and manufacturing
        environments.   The  diagnostic  is  intended  to  isolate  the  faulty
        channels in the SIO subsystem and  is to be operated in a  fashion that
        it will  run to  completion without user  intervention in  a standalone
        environment.

             The diagnostic is organized into two sections.  The  first section
        is  a set  of default  tests which  are designed  mainly to  verify the
        transmit and receive functions  of an appropriate protocol on  the same
        channel.  The  test will  run to  completion without  user intervention
        with a set of default  values ( test parameters ).  The  second section
        of the diagnostic provides  a set of the  test options to the  user, so
        that different test patterns, number of channels and channel speeds may
        be configured by the user to test the SIO subsystem.

             Table 1-1 lists all tests performed by this diagnostic.  Each test
        and/ or  test section  can be  selected and  run individually.  Tests 1
        through 10 comprised  the default test group for the HDLC  Micro Engine
        and the  Tymnet Spirit  Interface (TSI).   Test 1,  2, 6,  7 and  8 are
        comprised the default test group for the Tymnet Engine.  Test 9  and 10
        are optional test for the Tymnet Engine.








        1                     SIO Diagnostic User's Guide                DSIO04
        OVERVIEW                                                  July 23, 1990


                       Table 1-1.  Individual Diagnostic Tests

                Test                 Test Name

                   1        Signalling Test

                   2        HDLC Features Test

                   3        SYNC I/O Emulation Status Test

                   4        SYNC I/O Emulation Interrupt Test

                   5        SYNC I/O Emulation Round Trip Test.

                   6        DMA Window Test.

                   7        Relocation Test.

                   8        Cross Talk on a Single Zilog SIO Chip Test.

                   9        ASYNC Channel Features Test.

                   10       ASYNC Block Test






           NOTE : The fourth  release ( version 4.6  ) of this  diagnostic does
                  not provide the select options which allow the user to define
                  his/her own test patterns and channel speeds.  The diagnostic
                  is performed sequentially.

                  The signalling test ( test 1 ) should not be performed on the
                  standard  Tymnet  Engine  Optically Coupled  (  OCL  ) board,
                  since the  standard CTS,  RTS, DCD and  DTR signals  were not
                  used on the board.

                  This  SIO diagnostic  does  not support  the  standard Tymnet
                  Micro Engine.













        2                     SIO Diagnostic User's Guide                DSIO04
        APPLICABLE DOCUMENTS                                      July 23, 1990






                               2 -  APPLICABLE DOCUMENTS


                  The following documents are listed for reference :



                       Diagnostics User's Guide - Introduction

                       Tymnet SIO Diagnostic Design Objective
                                            -- Frank Wu,  March 12, 1985

                       Tymnet SIO Diagnostic General External Design
                                            -- Frank Wu,  May 8, 1985

                       Tymnet SIO Diagnostic General Internal Design
                                            -- Frank Wu,  September 17, 1985

                       Tymnet Engine Maintenance Manual
                                            -- Tymnet Publication Sept.28, 1984






























        3                     SIO Diagnostic User's Guide                DSIO04
        EQUIPMENT                                                 July 23, 1990






                                    3 -  EQUIPMENT


                  The SIO Diagnostic requires the following equipment:

           o  Either an  Engine display console  or a terminal  for controlling
              the diagnostic.  (A hard-copy terminal is recommended.)

           o  128K bytes of memory (minimum).

           o  Intrachannel Loopback Plugs

              1) HDLC Micro Engine

                 o Test Plug  630030-001 (25 pin) for HDLC/SYNC channels.

                 o Test Plug  630025-001 (37 pin) for HDLC/SYNC channels.

                 o Test Plug  630023-002 (37 pin) for ASYNC channels.



              2) Standard Tymnet Engine

                 - With Automatic Port Switch Module (APSS)

                 o Test Plug  630032-001 (50 pin) for V.24 HDLC/SYNC channels.

                 o Test Plug  630032-002 (50 pin) for V.35 HDLC/SYNC channels.

                 o Test Plug  630032-009 (50 pin) for ASYNC channels.

                 o Test Plug  630032-004 (50 pin) for OCL channels.

















        4                     SIO Diagnostic User's Guide                DSIO04
        EQUIPMENT                                                 July 23, 1990


                 - Old SIO Daughter-boards ( 2 channels per card )

                 o For V.24 HDLC/SYNC card

                   Breakout box

                     jumper pin 2 (TD)   <==> pin 3 (RD)

                     jumper pin 4 (RTS)  <==> pin 5 (CTS)

                     jumper pin 20 (DTR) <==> pin 6 (DSR)



                 o For V.35 HDLC/SYNC card

                   Breakout box

                     jumper pin  4  (RTS)  <==>  pin 5 (CTS)

                     jumper pin  6  (DSR)  <==>  pin 20 (DTR)

                     jumper pin  9  (XCLK) <==>  pin 23 (RCLK)

                     jumper pin 10  (XCLK) <==>  pin 24 (RCLK)

                     jumper pin 11  (DATA) <==>  pin 21 (DATA)

                     jumper pin 12  (DATA) <==>  pin 22 (DATA)



                 o For OCL card

                   Breakout Box

                     jumper pin 4  <==>  pin 11

                     jumper pin 5  <==>  pin 12



                 o For ASYNC card

                   - Test Plug  630031-002 ( 25 pin) for ASYNC channel.

              3) Tymnet Spirit Interface (TSI)


                 o For Channel 0 and 1 configured in V.24 channels


                   - Test Plug  630030-001 ( 25 pin)

        5                     SIO Diagnostic User's Guide                DSIO04
        EQUIPMENT                                                 July 23, 1990


                 o For Channel 0 and 1 configured in V.35 channels



                   pin 4 (RTS) <==> pin 5 (CTS)

                   pin 6 (DSR) <==> pin 20 (DTR)

                   pin 9 (XCLK) <==> pin 23 (RCLK)

                   pin 10 (XCLK) <==> pin 24 (RCLK)

                   pin 11 (XDATA) <==> pin 21 (RDATA)

                   pin 12 (XDATA) <==> pin 22 (RDATA)


                 o For Channel 2 and 3 V.24 channels ( 15 pin )



                   pin 2 (XDATA) <==> pin 3 (RDATA)

                   pin 4 (RTS) <==> pin 5 (CTS)

                   pin 12 (RCLK) <==> pin 15 (XCLK)

                   pin 6 (DSR) <==> pin 8 (DCD) <==> pin 14 (DTR)

              4) PICO Engine


                 o For all channels configured in V.24 mode


                   - Test Plug  630030-001 ( 25 pin)


















        6                     SIO Diagnostic User's Guide                DSIO04
        CONFIGURATION CONSTR                                 July 23, 1990






                            4 -  CONFIGURATION CONSTRAINTS


        Except for the SIO circuitry under test, the hardware must be  in known
        working order.  If there is  any doubt regarding  the condition  of the
        hardware, run the CPU, the  Memory and the MAC Diagnostics and  the TSI
        IOC Board power on self test first.  The SIO Diagnostic is  provided to
        isolate faulty channels.

        If a terminal is used,  it must be connected to the  terminal interface
        port on the  multifunction board of an  Engine or to  the multifunction
        port (labeled MULTIFN) on the rear panel  of a HDLC  Micro-Engine.  The
        setting of  the baud-rate  selector switch  for the  terminal interface
        must correspond to  the terminal baud rate.  A terminal is  needed when
        executingthis diagnostic on a TSI Controller or on a PICO Engine.


                              CAUTIONS

             The minimum amount of memory required to run this
             diagnostic is 128K bytes.

             The terminal Baud Rate should be set to 2400 BAUD or less
             because there have been terminal overruns when a 4800 BAUD
             terminal with auxiliary printer has been used.

























        7                     SIO Diagnostic User's Guide                DSIO04
        CONFIGURATION CONSTRAINTS                                 July 23, 1990


                          4.1  HDLC MICRO ENGINE CONSTRAINTS


        The SIO diagnostic  ( Version 4.6 )  performs on the HDLC  Micro Engine
        with the following constraints :

             1) Switches 1 to 10  ( baud rate switches  for channel 0 to  9) on
                the I/O board should be  set to position 4 for 9.6K  baud.  The
                ASYNC baud rate  jumpers E4 and E5  on the I/O board  should be
                set from E to R.







                            4.2  TYMNET ENGINE CONSTRAINTS


        The SIO diagnostic ( Version 4.6 ) performs on the Tymnet  Engine ASYNC
        daughter cards with the following constraints.

             1) For running the ASYNC Channel  Features Test ( test 9 )  on the
                engine  ASYNC  daughter  cards  (  Old  style  ASYNC  card, PSM
                unswitched SIO ASYNC card or PSM switched SIO ASYNC card ), the
                ASYNC baud rate  switch on the daughter  card should be  set to
                600 baud or above.  The ASYNC Channel Features Test should only
                be executed on ASYNC cards.

             The above is  true for running the  ASYNC Block Test (Test  10) as
                well.







                            4.3  TSI CONTROLLER CONSTRAINTS


        The SIO diagnostic ( Version 4.0 ) should  be only performed on   a TSI
        Controller with SIO firmware version 1.27 or up.










        8                     SIO Diagnostic User's Guide                DSIO04
        CONFIGURATION CONSTRAINTS                                 July 23, 1990


                             4.4  PICO ENGINE CONSTRAINTS


        The SIO diagnostic ( Version 4.01 ) should be only performed on  a PICO
        Engine with SIO firmware version 1.70 or up.

















































        9                     SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990






                                5 -  LOADING PROCEDURE







              5.1  LOADING PROCEDURE FOR TYMNET ENGINE/HDLC MICRO ENGINE


        The  SIO Diagnostic  can be  loaded  by any  one of  the  four standard
        loading procedures described in Diagnostics Introduction.


                                     NOTE

            Only a synchronous load (LOADII, BITS or ELF) will automatically
            start the diagnostic at memory location A00.
            Therefore, when testing a HDLC Micro-Engine
            without a console, use only a synchronous load.
            See Section 6.4, Testing Procedure with Terminal Only.




























        10                    SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990


                      5.2  LOADING PROCEDURES FOR TSI CONTROLLER


           1. User Action : power up the system

              System Response : TSI Engine Debugger   ver x.x  mm/dd/yy

                              : ENGbug>

           2. User Action : type "Control N"  (" is not part of the command.)

              System Response : TTY I/O :

           3. User Action : type "Control N"

              System Response : I/O Channel debugger version 1.00

                                IOCbug *>

           4. User Action : type "BF 800400 8FFFFE 0000"

              System Response : PHYSICAL ADDRESS=00800400 008FFFFE

                                IOCbug *>

           5. Use Action : type "rs"

              System Response : IOCbug *>

           6. User Action : type "tm!"

              System Response :  *TRANSPARENT* EXIT=$21 = !

           7. User Action : type "a"

              System Response : please log in:

           8. User Action : Logon System (PDP-10, UNIX or others)
                            (make sure the S-record file, DSIO03.SRE,
                             is in the system)

              System Response : system prompt


           9. User Action : type "!"

              System Response : IOCbug *>


           10. User Action : type "lo;x=type DSIO03.SRE"

               System Response : start loading
                                 xxxxxxxxx Error-Count=xxxx (This is normal)

        11                    SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990


                                 (where x is a hexdecimal number
                                 system prompt
                                 TIMEOUT
                                 IOCbug *>

           11. User Action : type "Control N"

               System Response : ENGbug>

           12. User Action : type "INI"

               System Response : ENGbug>

           13. User Action : type "gd a00"

               (If the user wants to TURN ON the WATCHDOG TIMER
                then type wd on)

               System Response : start running diagnostic
                                 the Console is displaying. (see Section

           14. User Action : type "Control N"

               System Response : display diagnostic program banner and
                                 system configuration messages.
                                 (see Section




























        12                    SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990


                        5.3  LOADING PROCEDURES FOR PICO ENGINE



        The  following  templates MUST  be  setup  if an  SIO  line  loading is
        performed on  channel 0 or  channel 1  of a PICO Engine.  NO   setup is
        necessary when loading is performed on channel 2 or channel 3 of a PICO
        Engine

           Note : For a PICO Engine, the bootstrap  scans channel 0 to  channel
              3 for  an SIO line  for  down line  loading only,  the  bootstrap
              also scans channel  2 and  channel 3 for  a SYNC  line  for  down
              line loading only.

        1. User Action : power up the system

           System Response : TSI Engine Debugger   ver x.x  mm/dd/yy

                           : ENGbug>

        2. User Action : type "INI"  (" is not part of the command.)

           System Response : ENGbug>

        3. User Action : SD 0 or SD 1 ( 0 for channel 0, 1 for channel 1 )

        4. System response :

           SCC channel 0 ASYNC Baud Rate Generator: 9600, WR11: 50.
           Receiver clock source: BRG, Transmitter Clock source: BRG.
           Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

           SCC channel 0 TYMSYNC Baud Rate Generator: 9600, WR11: 08.
           Receiver clock source: RTxC, Transmitter Clock source: TRxC.
           Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

           SCC channel 0 HDLC Baud Rate Generator: 9600, WR11 08.
           Receiver clock source: RTxC, Transmitter Clock source: TRxC.
           Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

           SCC channel 0 HDLC W/DMA Baud Rate Generator: 9600, WR11 08.
           Receiver clock source: RTxC, Transmitter Clock source: TRxC.
           Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

           Present active channel protocol is ASYNC.
           Which protocol are you interested in?
                 (A) ASYNC
                 (B) TYMSYNC
                 (C) HDLC
                 (D) HDLC With DMA Date Transfers
                 (E) Bail-Out with no changes
           Enter desired selection: D<cr>


        13                    SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990


           Baud Rates available are :
                 (A) 50 ( Not valid for SYNC modes )
                 (B) 75 ( Not valid for Sync Modes )
                 (C) 110 ( Not valid for SYNC Modes )
                 (D) 150 ( Not valid for Sync Modes )
                 (E) 300 ( Not valid for Sync Modes )
                 (F) 600 ( Not valid for Sync Modes )
                 (G) 1200
                 (H) 2400
                 (I) 4800
                 (J) 9600
                 (K) 14.4k
                 (L) 19.2k
                 (M) 38.4k
                 (N) 48k  (Not valid for Async Mode)
                 (O) 56k  (Not valid for Async Mode)
                 (P) 64k  (Not valid for Async Mode)
                 (Q) 72k  (Not valid for Async Mode)
                 (R) 128k (Not valid for Async Mode)
                 (S) 256k (Not valid for Async Mode)
          Enter desired selection: L<cr>

          Note: Transmit clock direction change also requires IOC jumpering
                correction. "Transmit Clock Line" and "Transmit Clock"
                usually are from the same source.

                Possibilities for Transmit Clock Line :
                   (A) Transmit Clock interface line is an input
                   (B) Transmit Clock interface line is an output
                Enter desired selection: A<cr>

                Possible source for SCC Transmit (TX) Clock:
                   (A) RTxC - Receive Clock line clocks SCC transmitter
                   (B) TRxC - Transmit Clock line clocks SCC Transmitter
                   (C) BRG  - Baud Rate Generator clocks SCC Transmitter
                   (D) DPLL - Digital Phase Locked loop clocks SCC Txer
                Enter desired selection: B<cr>

                Possible Source for SCC Receiver (RX) Clock:
                    (A) RTxC - Receive Clock line clocks SCC Receiver
                    (B) TRxC - Transmit Clock line clocks SCC Receiver
                    (C) BRG  - Baud Rate Generator clocks SCC Receiver
                    (D) DPLL - Digital Phase Locked loop clocks SCC Receiver
                Enter desired selection: A<cr>

        5. System response :  ENGbug>

        6. User Action :  type "INI"

           System reponse :  Engbug>

        7. User Action :  type "BOOT"


        14                    SIO Diagnostic User's Guide                DSIO04
        LOADING PROCEDURE                                         July 23, 1990


        8. System Response : Bootstrap is invoked by observing the
           emulated system console on the terminal.

        9. The diagnostic can be loaded by one of the standard loading
           methods described in the Diagnostic Introduction.

















































        15                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990






                               6 -  OPERATING PROCEDURES


        The SIO Diagnostic can be run using any one of the  following equipment
        options:

           o  Engine display console and terminal (recommended)

           o  Engine display console only

           o  Terminal only

        If an Engine display console is used alone, only the default  tests can
        be run.  If  a terminal is  used alone, the  program must be  loaded by
        either LOADII, BITS or ELF.


        A  separate  portion  of  the  program  called  the  Diagnostic Monitor
        controls how the program executes. The monitor allows the user to enter
        commands on a terminal, change command parameters, and run individually
        selected tests or  test sections. After a  command, test, or  series of
        tests is executed, the  monitor displays the diagnostic prompt  (*) and
        is ready to accept further commands.


        While  the diagnostic  is running,  the console  display  should change
        continually between the status and error display every two  seconds. If
        it  does  not, the  Diagnostic  has halted.  See  Section  6.6, Console
        Display.

           Note : A terminal is  needed when operating the SIO diagnostic  on a
               TSI Controller and a PICO Engine.


















        16                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                        6.1  SETUP TEMPLATE FOR TSI CONTROLLER


        For executing  the SIO  diagnostic on a  TSI Controller,  the following
        parameters MUST be set up for channel 0 and 1 (Not necessary  for other
        channels).

            * (Diagnostic Monitor Prompt)

            User type  "Control N"

            System Response : ENGbug>

            User type  SD 0 or  SD 1  (0 for channel 0, 1 for channel 1)

            System Response :

            SCC channel 0 ASYNC Baud Rate Generator: 9600, WR11: 50.
            Receiver clock source: BRG, Transmitter Clock source: BRG.
            Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 TYMSYNC Baud Rate Generator: 9600, WR11: 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 HDLC Baud Rate Generator: 9600, WR11 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 HDLC W/DMA Baud Rate Generator: 9600, WR11 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

            Present active channel protocol is ASYNC.
            Which protocol are you interested in?
                  (A) ASYNC
                  (B) TYMSYNC
                  (C) HDLC
                  (D) HDLC With DMA Date Transfers
                  (E) Bail-Out with no changes
            Enter desired selection: D<cr>

            Baud Rates available are :
                  (A) 50 ( Not valid for SYNC modes )
                  (B) 75 ( Not valid for Sync Modes )
                  (C) 110 ( Not valid for SYNC Modes )
                  (D) 150 ( Not valid for Sync Modes )
                  (E) 300 ( Not valid for Sync Modes )
                  (F) 600 ( Not valid for Sync Modes )
                  (G) 1200
                  (H) 2400
                  (I) 4800
                  (J) 9600

        17                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                  (K) 14.4k
                  (L) 19.2k
                  (M) 38.4k
                  (N) 48k  (Not valid for Async Mode)
                  (O) 56k  (Not valid for Async Mode)
                  (P) 64k  (Not valid for Async Mode)
                  (Q) 72k  (Not valid for Async Mode)
                  (R) 128k (Not valid for Async Mode)
                  (S) 256k (Not valid for Async Mode)
            Enter desired selection: J<cr>

            Note: Transmit clock direction change also requires IOC jumpering
            correction. "Transmit Clock Line" and "Transmit Clock"
            usually are from the same source.

            Possibilities for Transmit Clock Line :
                  (A) Transmit Clock interface line is an input
                  (B) Transmit Clock interface line is an output
            Enter desired selection: A<cr>

            Possible source for SCC Transmit (TX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC transmitter
                  (B) TRxC - Transmit Clock line clocks SCC Transmitter
                  (C) BRG  - Baud Rate Generator clocks SCC Transmitter
                  (D) DPLL - Digital Phase Locked loop clocks SCC transmitter
            Enter desired selection: C<cr>

            Possible Source for SCC Receiver (RX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC Receiver
                  (B) TRxC - Transmit Clock line clocks SCC Receiver
                  (C) BRG  - Baud Rate Generator clocks SCC Receiver
                  (D) DPLL - Digital Phase Locked loop clocks SCC Receiver
            Enter desired selection: C<cr>

            System Response : ENGbug>

            User Action  :  do next channel if necessary

            When all channels have been setup, do the following

            System Response : ENGbug>

            User Action : type "Control N"

            System Response : TTYIO

            User Response :  type "ESC" key

            System Response :   *   (Diagnostic Monitor Prompt)





        18                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                          6.2  SETUP TEMPLATE FOR PICO ENGINE


        For  performing the  SIO  Diagnostic on  a PICO Engine,   the following
        templates MUST be setup for channel 0 and channel 1 of the  PICO Engine
        (NOT necessary for channel 2 to channel 7).

            *  (Diagnostic Monitor )

            User type  "Control N"

            System Response :  ENGbug>

            User Action : type "SD 0" or  "SD 1" (0 for channel 0, 1 for
                          channel 1.  Each channel must be setup twice in
                          order to operate properly)

            System Response :

            SCC channel 0 ASYNC Baud Rate Generator: 9600, WR11: 50.
            Receiver clock source: BRG, Transmitter Clock source: BRG.
            Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 TYMSYNC Baud Rate Generator: 9600, WR11: 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 HDLC Baud Rate Generator: 9600, WR11 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

            SCC channel 0 HDLC W/DMA Baud Rate Generator: 9600, WR11 08.
            Receiver clock source: RTxC, Transmitter Clock source: TRxC.
            Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

            Present active channel protocol is ASYNC.
            Which protocol are you interested in?
                  (A) ASYNC
                  (B) TYMSYNC
                  (C) HDLC
                  (D) HDLC With DMA Date Transfers
                  (E) Bail-Out with no changes
            Enter desired selection: D<cr>

            Baud Rates available are :
                  (A) 50 ( Not valid for SYNC modes )
                  (B) 75 ( Not valid for Sync Modes )
                  (C) 110 ( Not valid for SYNC Modes )
                  (D) 150 ( Not valid for Sync Modes )
                  (E) 300 ( Not valid for Sync Modes )
                  (F) 600 ( Not valid for Sync Modes )
                  (G) 1200
                  (H) 2400

        19                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                  (I) 4800
                  (J) 9600
                  (K) 14.4k
                  (L) 19.2k
                  (M) 38.4k
                  (N) 48k  (Not valid for Async Mode)
                  (O) 56k  (Not valid for Async Mode)
                  (P) 64k  (Not valid for Async Mode)
                  (Q) 72k  (Not valid for Async Mode)
                  (R) 128k (Not valid for Async Mode)
                  (S) 256k (Not valid for Async Mode)
             Enter desired selection: J<cr>

             Note: Transmit clock direction change also requires IOC jumpering
             correction. "Transmit Clock Line" and "Transmit Clock"
             usually are from the same source.

             Possibilities for Transmit Clock Line :
                  (A) Transmit Clock interface line is an input
                  (B) Transmit Clock interface line is an output
             Enter desired selection: A<cr>  ( for Modem Loopback )
                                      B<cr>  ( for loopback plug )

             When "Transmit Clock interface line is an output" is selected,
             the following option is printed :

             Possible Source for V.24/V.35 Transmit Clock line:
                  (A) XTAL_OUTPUT - Crystal Oscillator drives Tx Clock line
                  (B) TRxC - Transmit Clock line drives Transmit line
                  (C) BRG - Baud Rate Generator drives Transmit line
                  (D) DPLL - Digital Phase Locked Loop drives Tx Clock line
             Enter desired selecteion: A<cr>

             Possible source for SCC Transmit (TX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC transmitter
                  (B) TRxC - Transmit Clock line clocks SCC Transmitter
                  (C) BRG  - Baud Rate Generator clocks SCC Transmitter
                  (D) DPLL - Digital Phase Locked loop clocks SCC transmitter
             Enter desired selection: C<cr> ( for loopback plug )
                                      B<cr> ( for modem loopback )

             Possible Source for SCC Receiver (RX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC Receiver
                  (B) TRxC - Transmit Clock line clocks SCC Receiver
                  (C) BRG  - Baud Rate Generator clocks SCC Receiver
                  (D) DPLL - Digital Phase Locked loop clocks SCC Receiver
             Enter desired selection: C<cr> ( for loopback plug )
                                      A<cr> ( for modem loopback )

             System Response :  ENGbug>

             User Action : type "INI"


        20                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


             Systen Response :  ENGbug>

             User Action :  type "SD 0" or "SD 1" ( setup for the same
                            channel the second time)

             System Response :

             SCC channel 0 ASYNC Baud Rate Generator: 9600, WR11: 50.
             Receiver clock source: BRG, Transmitter Clock source: BRG.
             Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

             SCC channel 0 TYMSYNC Baud Rate Generator: 9600, WR11: 08.
             Receiver clock source: RTxC, Transmitter Clock source: TRxC.
             Transmit Clock Line TRxC-input sourced by EXTERNAL SOURCE.

             SCC channel 0 HDLC Baud Rate Generator: 9600, WR11 08.
             Receiver clock source: RTxC, Transmitter Clock source: TRxC.
             Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

             SCC channel 0 HDLC W/DMA Baud Rate Generator: 9600, WR11 08.
             Receiver clock source: RTxC, Transmitter Clock source: TRxC.
             Transmit clock Line TRxC-input sourced by EXTERNAL SOURCE.

             Present active channel protocol is ASYNC.
             Which protocol are you interested in?
                  (A) ASYNC
                  (B) TYMSYNC
                  (C) HDLC
                  (D) HDLC With DMA Date Transfers
                  (E) Bail-Out with no changes
             Enter desired selection: B<cr>

             Baud Rates available are :
                  (A) 50 ( Not valid for SYNC modes )
                  (B) 75 ( Not valid for Sync Modes )
                  (C) 110 ( Not valid for SYNC Modes )
                  (D) 150 ( Not valid for Sync Modes )
                  (E) 300 ( Not valid for Sync Modes )
                  (F) 600 ( Not valid for Sync Modes )
                  (G) 1200
                  (H) 2400
                  (I) 4800
                  (J) 9600
                  (K) 14.4k
                  (L) 19.2k
                  (M) 38.4k
                  (N) 48k  (Not valid for Async Mode)
                  (O) 56k  (Not valid for Async Mode)
                  (P) 64k  (Not valid for Async Mode)
                  (Q) 72k  (Not valid for Async Mode)
                  (R) 128k (Not valid for Async Mode)
                  (S) 256k (Not valid for Async Mode)
             Enter desired selection: J<cr>

        21                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


             Note: Transmit clock direction change also requires IOC jumpering
             correction. "Transmit Clock Line" and "Transmit Clock"
             usually are from the same source.

             Possibilities for Transmit Clock Line :
                  (A) Transmit Clock interface line is an input
                  (B) Transmit Clock interface line is an output
             Enter desired selection: B<cr>

             When "Transmit Clock interface line is an output" is selected,
             the following option is printed :

             Possible Source for V.24/V.35 Transmit Clock line:
                  (A) XTAL_OUTPUT - Crystal Oscillator drives Tx Clock line
                  (B) TRxC - Transmit Clock line drives Transmit line
                  (C) BRG - Baud Rate Generator drives Transmit line
                  (D) DPLL - Digital Phase Locked Loop drives Tx Clock line
             Enter desired selecteion: A<cr>

             Possible source for SCC Transmit (TX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC transmitter
                  (B) TRxC - Transmit Clock line clocks SCC Transmitter
                  (C) BRG  - Baud Rate Generator clocks SCC Transmitter
                  (D) DPLL - Digital Phase Locked loop clocks SCC transmitter
             Enter desired selection: C<cr>

             Possible Source for SCC Receiver (RX) Clock:
                  (A) RTxC - Receive Clock line clocks SCC Receiver
                  (B) TRxC - Transmit Clock line clocks SCC Receiver
                  (C) BRG  - Baud Rate Generator clocks SCC Receiver
                  (D) DPLL - Digital Phase Locked loop clocks SCC Receiver
             Enter desired selection: C<cr>

             System Response :  ENGbug>

             User Response : type "INI"

             System Response :  ENGbug>  do next channel if necessary

             When the templates for both channels have been setup :

             System Response : ENGbug>

             User Response : type "Control N"

             System Response : TTYI/O

             User Response : type "ESC" key

             System Response :  *  ( Diagnostic Monitor Prompt)




        22                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                  6.3  DEFAULT TESTS WITH ENGINE CONSOLE AND TERMINAL


        The recommended  testing procedure requires  an Engine  display console
        and  a terminal  that is  connected to  the terminal  interface  of the
        machine under test.  The  procedure described in this  section executes
        the default test group, with all commands set to their  default values.
        Each of the following tests is executed once in numerical order  on all
        channels that can support the test.



           1) For HDLC Micro Engine, TSI Controller and PICO Engine :

             Test                   Test Name

                1         Signalling Test

                2         HDLC Features Test

                3         SYNC I/O Emulation Status Test

                4         SYNC I/O Emulation Interrupt Test

                5         SYNC I/O emulation Round Trip Test

                6         DMA Window Test

                7         Relocation Test

                8         Cross Talk on Single Zilog SIO Chip Test

                9         ASYNC Channel Features Test

                10        ASYNC Block Test



           2) For Tymnet Engine :

                1         Signalling Test

                2         HDLC Channel Features Test

                6         DMA Window Test

                7         Relocation Test

                8         Cross Talk on single Zilog SIO Chip Test





        23                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


        Before running the program, perform the following preliminary steps:

           1. Connect a terminal to the terminal interface of the machine under
              test.  Set  the baud-rate  selector switch  (SWT-9 on  the Engine
              multifunction board, I.C. location  10W and I.C. location  11W on
              the HDLC Micro  Engine I/O Board)  to correspond to  the terminal
              baud rate.

           2. Load the diagnostic by  one of the standard methods  described in
              Diagnostics Introduction.

           3. Connect the appropriate  set of loopback plugs to  the channel(s)
              under test, after first disconnecting the SIO download cable from
              the machine.

           4. Start the diagnostic by pressing the following keys on the Engine
              console:

                 DTA, A, 0, 0, ADR, RUN

           If a downline load was performed using LOADII,or BITS the
           diagnostic will initialize itself automatically after loading, and
           Step 3 can be ignored.

        When the diagnostic program  initializes, it checks several  aspects of
        the machine  under test.  It  then displays a  message on  the terminal
        consisting of the diagnostic title, Engine type determined, type of MAC
        board found, addresses of  available memory, and the  diagnostic prompt
        (*).   The prompt  indicates that  the diagnostic  monitor is  ready to
        accept commands.

        Example:

             SIO DIAGNOSTIC - VERSION 4.6 (07-15-1990)

             SYSTEM TYPE FOUND = NORMAL ENGINE

             MAC III FOUND

             SIO BOARD X'80' FOUND

             MEMORY FOUND
             000000 - 0FFFFF

             *

                             NOTE

        Most of the standard Tymnet Engines are configured with SIO board at
        X'80', but some of them also have SIO boards at X'81', X'82' and
        X'83'.  The HDLC Micro-Engine has the SIO at X'80' only, the regular
        Micro-Engine does not have the SIO board.


        24                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


        To run the default tests, enter this command on the terminal:

             RUN<CR>

        The monitor then executes the default tests in numerical  order.  While
        the program is  running, the test  number, section number,  and end-of-
        test messages (including error  counts) are displayed on  the terminal.
        When all  default tests  have been  completed, a  pass count  and error
        count are displayed, followed by the diagnostic prompt (*).



        The  program  can  be  restarted  and  reinitialized  at  any  time  by
        depressing the <ESC> key and typing : GO A00, <CR>

        To execute multiple iterations of the default tests, enter the Set Loop
        Count command (LOOP n) before entering the RUN command.


        To  execute the  default tests  with breakpoints,  see  Section 7.1.3.,
        Breakpoint.



        Total  Execution  Time  for  Default  Tests  (One  Pass,  no  baud rate
        calculation)


        HDLC Micro Engine ( 10 HDLC/SYNC I/O channels and 4 ASYNC channels )

             - 56 seconds ( Line speed 9.6k baud )


        Tymnet Engine ( 16 Channels ) :

             - 26 seconds


        (Execution times vary depending  on the total number of  channels under
        test and the channel baud rate. )


                                        NOTE


             The monitor  checks two  hardware items  to determine  what system
             type the program is running  on:  the type of MAC, and  the number
             of  synchronous  lines.   Four  system  types  are  distinguished:
             NORMAL ENGINE  (a full-size Engine  or a Mini-Engine),  HDLC MICRO
             ENGINE,  MICRO  ENGINE  and UNKNOWN.   If  a  hardware malfunction
             produces  incompatible  indications  that  result  in  the message
             SYSTEM TYPE FOUND = UNKNOWN, CHECK HARDWARE!!! is displayed on the


        25                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


             terminal and system error code F1 is displayed on the front panel,
             the diagnostic program will halt.








                6.4  NONDEFAULT TESTS WITH ENGINE CONSOLE AND TERMINAL


        The  procedure  for  selecting  and  running  individual  test sections
        involves entering on the terminal the delete tests command  (DELT), the
        add  tests command  (ADDT),  and the  RUN command.   The  default tests
        remain in  effect unless  the DELT or  ADDT command  is used  to select
        other tests.  For example, if only  section 2 of test 4 and test  7 are
        to be run,  and the default  tests are in  effect, the procedure  is as
        follows:

           1. At the prompt, enter:

           DELT 1,2,3,4,5,6,8,9<cr>

           this deletes all sections of tests 1 to 9 except test 7.

           2. At the prompt, enter:

           ADDT 402<cr>

           this selects section 2 of test 4.

           3. At the prompt, enter:

           RUN<cr>

           the monitor then executes sections 2 of test 4 and test 7.

        If additional tests or sections are to be run, repeat steps 2 and  3 by
        entering the necessary test and/or section numbers.













        26                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                    6.5  TESTING PROCEDURE WITH ENGINE CONSOLE ONLY


        When the diagnostic is run using a display console without  a terminal,
        only the  default test group  ( Tests  1 through 10  on the  HDLC Micro
        Engine and Tests 1, 2, 6, 7, 8, 9 and 10 on the Tymnet Engine )  can be
        executed.  There is  no system console on  both the TSI  Controller and
        PICO  Engine,  so  that  a  terminal  is  needed  when  performing this
        diagnostic on the TSI Controller or the PICO Engine.

        The operating procedure is as follows:

           1. Load  the  diagnostic  by one  of  the  standard  loading methods
              described in the Diagnostics Introduction.

           2. Connect the appropriate  set of loopback plugs to  the channel(s)
              under test, after first disconnecting the SIO download cable from
              the machine.

           3. Start  and  run the  diagnostic  by pressing  these  keys  on the
              display console:

              DTA, A, 0, 4, ADR, RUN

        The diagnostic initializes and executes the default tests  in numerical
        order.  The test sequence repeats continually until halted  manually by
        pressing the PSW key. (Note  that if the watchdog timer is  enabled and
        the PSW  is pressed,  the machine  will go  into boot),  therefore, the
        watchdog timer should be disabled before pressing the PSW key.

        If an  error is encountered,  the error count  is incremented,  and the
        error display on the front console is updated.  If the diagnostic finds
        an error, it  halts and the leftmost  digit on the front  console error
        display will be  a F.  (See section  6.6 Console Display).  The program
        may be restarted by  pressing the increment (INC)  followed immediately
        by the run (RUN) key  on the console.  When an unexpected  system error
        occurs, the  diagnostic will  resume execution  with the  first default
        test.


        Total execution time ( One Pass )

        HDLC Micro Engine ( 10 HDLC/SYNC I/O Channels and 4 ASYNC channels )

               - 13 seconds


        Engine ( 16 channels )

              - 6 seconds




        27                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


        ( Execution times vary depending on the total number of  channels under
        test and the channel baud rate. )

        Note: The  maximum  value  for  both  the  pass  and  error  counts  is
               4,294,967,295 (2 to the  32nd power, minus 1).  Only  the least-
               significant  two digits  for  are  displayed.  When  the maximum
               value  has been  reached, the  next event  resets that  count to
               zero, and the count starts over.


        A  terminal  is needed  when  executing  the SIO  diagnostic  on  a TSI
               Controller or on a PICO Engine.










































        28                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                    6.5.1  CHANGE TOTAL NUMBER OF CHANNELS ON ENGINE

        The default test sets the  total number of channels on a  Tymnet Engine
        to 16 (decimal).  However, if an Engine is configured with less than 16
        (decimal) channels, the number of channels for running  this diagnostic
        with Engine console only mode  can be modified by storing a  hex number
        in the  location DDC (  hex ) labeled  LASTCL.  The first  channel MUST
        start from channel 0.

        The  following example  shows an  Engine that  is configured  with  a 4
        channel V.24 SYNC card.

            Enter the following command sequence at the engine console  to test
            channel 0 to 3.

                  DTA, D, D, C, ADR, DTA, 3, WRT


              (Write 3 to location DDC)

             Execute the diagnostic by pressing the keys on the console display
             :

                   DTA, A, 0, 4, ADR, RUN


        Note : The above mentioned feature is ONLY applicable to Tymnet Engines
                with no terminal.


























        29                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                    6.5.2  CHANGE SIO MOTHERBOARD ADDRESS ON ENGINE

        The  default  test  sets  the  SIO  motherboard  address  to  80 (hex).
        However, if an  Engine is configured  with multi SIO  motherboards, the
        SIO motherboard address for running this diagnostic with Engine console
        only mode can be modified by storing a hex number in the location DDE (
        hex ) labeled SIOADD.

        The following  example shows an  Engine that is  configured with  2 SIO
        motherboards with addresses x'80 and x'81.  The user wants to  test the
        channels which are controlled by SIO motherboard address x'81.

            Enter  the  following command  sequence  at the  engine  console to
            select SIO motherboard address x'81.

                  DTA, D, D, E, ADR, DTA, 81, WRT


              (Write 81 to location DDE)

             Execute the diagnostic by pressing the keys on the console display
             :

                   DTA, A, 0, 4, ADR, RUN


        Note : The above mentioned feature is ONLY applicable to Tymnet Engines
                 with no terminal.


























        30                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                       6.6  TESTING PROCEDURE WITH TERMINAL ONLY


        Running the SIO diagnostic on an Engine or a HDLC  Micro-Engine using a
        terminal alone (that is,  without an engine console) has  the following
        disadvantage:

           o  there is no indication as to whether the the diagnostic  is still
              running or halted (Normaly displayed on the front console).

        The  procedure for  loading  and running  the diagnostic  using  only a
        terminal is essentially  the same as when  both a console  and terminal
        are used, except for the following:

           o  when the  machine under  test is booted,  there is  no indication
              that the bootstrap program is running, other than the report from
              LOADII , BITS or ELF that the object code is loading.

           o  only a synchronous load (LOADII, BITS or ELF)  will automatically
              start  the program  at memory  location A00  (the  terminal start
              address).  Therefore, use a synchronous load.

           o  if the  program halts  on an error  while testing  a mini-engine,
              depressing the  SYSCLR switch  on the cpu  board gives  a machine
              malfunction interrupt message and a prompt.





























        31                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                            6.7  RESTARTING THE DIAGNOSTIC


        The diagnostic  can be  restarted by  using the  GO command.  (Enter GO
        A00).

        The diagnostic can also be restarted manually by pressing the following
        keys on the console:

        DTA, F, 0, SET, A, 0, 0, ADR, RUN

        Note however that if the watchdog timer is enabled, the  above sequence
        should  be completed  as quickly  as possible,  in order  to  avoid the
        watchdog  timer loading  the boot.  (In about  1 second).  Instead, the
        operator should disable  the watchdog timer, or  use the GO  command to
        restart the diagnostic. (See Section 7.1.7).

        Restarting sets all the commands to their initial state.




































        32                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                                 6.8  CONSOLE DISPLAY


        The engine front console will alternate between a status display and an
        error display  when a  test is  executing. The  status display  has the
        following format:

                                      4.TTSS.XXPP

        where 4 indicates that this is the SIO diagnostic, and TT and  SS refer
        to the test and section number currently being run. PP is the number of
        passes  completed so  far.  XX  is the  channel number  currently being
        tested.

        The  status display  will alternate  with the  error display  every two
        seconds. The error display has this format:

                                      S.EECC.00XX

        where S indicates whether no errors have occurred (S is 0) or if errors
        have been found (S is E).  Any time the diagnostic halts because  of an
        error, S  will be F.   EE refers to  the error code  of the  last error
        found. When combined with TT and  SS, these six digits are the  same as
        the error code displayed on  a terminal and corresponding to  errors in
        the error descriptions section. CC refers to the last two digits of the
        error count. When CC is incrementing, errors are being found, and if CC
        remains the same, it is the error count at the time the last  error was
        found.  XX refers to the channel number where the last error was found.
        When no errors have been found, the error display will be  zeros.  When
        no  test is  being run,  only 4.0000.00PP  is displayed  in  the status
        display.

        Each display  is updated  every half second,  and alternates  after two
        seconds.


        The HANDHELD  front  console or the  PXL Engine front  console displays
        ten digits. The  left most digit is  always zero during  the diagnostic
        execution.















        33                    SIO Diagnostic User's Guide                DSIO04
        OPERATING PROCEDURES                                      July 23, 1990


                                  6.9  WATCHDOG TIMER


        This diagnostic will  run with the  watchdog timer enabled  in terminal
        mode.  Because  of this, it  is not possible  to halt  the diagnostic's
        execution (with the  PSW switch on the  front console) for  longer than
        one second.  When this happens,  the engine will load and run  the boot
        program. If the operator wants to use the engine front console, causing
        the program to be halted, the watchdog timer should be disabled.

        ( For detailed information on how to disable the watchdog  timer, refer
        to  the  Engine  Maintenance  Manual,  Tymnet  publication  number 282,
        Multifunction Board section for  Engine or Mini-Engine or refer  to the
        Micro-Engine  Maintenance Manual  with Diagnostics,  Tymnet Publication
        number 651, Multifunction  Logic section for regular  Micro-Engine. For
        the HDLC Micro-Engine, turn off switch at I.C. location 10W, position 4
        on the I/O  board to disable the  watchdog timer. For a  TSI Controller
        and a PICO Engine, the user  may issue "WD ON" and "WD OFF"  command to
        turn on and turn off the watchdog timer.)

        Because the watchdog timer  must be toggled frequently,  the diagnostic
        never actually  halts. All options  which specify that  execution cease
        (for example, ECON),  causes the diagnostic  to loop  in  one position.
        This  allows  the watchdog  timer  to  be toggled  by  a  routine which
        interrupts the loop to  toggle the timer. When this happens,  the front
        console error display will have a F as a first digit. The  operator can
        resume diagnostic execution by pressing the INC followed immediately by
        the RUN key on the front console.


























        34                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990






                                     7 -  COMMANDS


        Operator control of  this diagnostic is  provided by means  of commands
        entered on  the terminal.  These  commands are described  in subsequent
        sections according to the following categories:

             o  operating commands
             o  display commands
             o  error and message control commands
             o  editing commands
             o  SIO diagnostic command


        A  special  portion  of the  program,  called  the  diagnostic monitor,
        interprets operator input from  the terminal and passes  valid commands
        to  the  program for  execution.   When the  diagnostic  prompt  (*) is
        displayed on  the terminal, the  monitor is ready  to accept  a command
        (which may be entered in  either upper or lower case).  If  the monitor
        receives  an  error in  command  syntax, it  responds  with  an invalid
        command or invalid parameter  message and another prompt (*).   See the
        Diagnostics Introduction for a general discussion of command format and
        syntax.

        In the following command descriptions, "syntax" shows the  command word
        and correct format; "initial state" shows the condition in  effect when
        the program is first started; "default action" shows the effect  of not
        entering optional  parameters; and "values"  shows the value  range for
        parameters.  The commands  are listed  alphabetically by  "SYNTAX".  If
        "initial  state",  "default  action",  and/or  "value"  have  not  been
        specified for a command, then the command does not use them.

        Note that each command line  must end with a carriage return  <cr>, and
        only one command can be entered per line. There must be a space between
        a command  word and  its parameters.   There must  be spaces  or commas
        between  parameters  themselves.   Parameters  shown  in  brackets  are
        optional.   (For  example,  [YY]  in  the  ADDT  command.)   All  other
        parameters are mandatory.  (For  example, XX in the ADDT  command.) Any
        one of the following cancels a command line if entered before the <cr>:
        a control-q, or an escape <esc>.

        This Diagnostic does not provide  CKSM and NOCK commands.

        Note a summary of commands for all tests is presented in Appendix I.






        35                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                                7.1  OPERATING COMMANDS


        The  operating  commands  initiate testing  (RUN),  add  tests  or test
        sections  (ADDT),  delete  tests or  test  sections  (DELT),  cause the
        program to loop (LOOP), and allow up to 16 breakpoints to be set in the
        program  (BRKP).  Also,  they will  cause the  system to  go  into boot
        (BOOT), examine and  modify memory (EXA  and MOD), and  begin execution
        from a specific location (GO).





                    7.1.1  ADDT: ADD TESTS AND SECTIONS

        SYNTAX:  ADDT xx[yy],...

        INITIAL STATE: All tests (1 to 10) are selected on HDLC Micro Engine,
                       TSI Controller and PICO Engine.
                       Tests 1, 2, 6, 7, 8, 9 and 10 are selected on the
                       Engine.


        DEFAULT ACTION:  yy (all sections of test xx are added)

        VALUES:  xx = 01 to 10 for HDLC Micro Engine, TSI Controller and
                 PICO Engine.
                 xx = 01, 02, 06, 07, 08, 09, 10 for Engine.
                 yy = 01 to 04 ( see individual test )


        This command selects the tests and sections to be executed, where xx is
        the test number (in decimal) and yy is the section number (in decimal).
        When a  test number only  is specified, all  sections of that  test are
        selected.  If both a test and a section number are specified,  only the
        specified section of that test is selected.  Any number of tests and/or
        sections may  be specified on  the same command  line, but  the command
        line must not exceed 80 characters.

        The test number  (xx) can be  entered as either  a one- or  a two-digit
        number, but  the section  number (yy)  must be  entered as  a two-digit
        number, with one leading zero.

        Example:

                *ADDT 402<cr>
                *ADDT 901<cr>


        Note: If  any parameter  in a  command string  is invalid,  the monitor
              ignores the  invalid parameter and  any subsequent  parameters in


        36                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


              the string.   Only the valid  parameter(s) preceding  the invalid
              one are added to the selected test(s) or section(s).





                    7.1.2  BOOT: LOAD ENGINE BOOTSTRAP

        SYNTAX:  BOOT

        BOOT  will halt  the diagnostic  execution, causing  an engine  with an
        enabled  watchdog  timer to  load  the  boot from  its  PROM's.  If the
        watchdog timer is disabled, the diagnostic will halt. (The  program can
        be restarted using the RUN  switch on the front console).  This command
        will  have  more  significance  in  a  latter  implementation  of  this
        diagnostic.





                    7.1.3  BRKP: BREAKPOINT

        SYNTAX:  BRKP [xx,yyyyy],...

        DEFAULT ACTION:  Displays current breakpoints.

        VALUES:     xx = 01 to 16 (in decimal)
                 yyyyy = any memory location in the program


        This  command  lists the  breakpoint  settings currently  in  effect if
        entered without parameters.  When  entered with parameters, it  sets up
        one  or  more new  breakpoints,  where xx  is  the number  of  each new
        breakpoint  to be  set  (from 1  to 16  in  decimal) and  yyyyy  is the
        physical address corresponding to each breakpoint.

        When  a  breakpoint is  reached  during execution,  the  program halts,
        restores  the  original  instruction  for  that  memory  location,  and
        displays the following message:

        breakpoint   xx found at yyyyy

        Enter an escape to halt testing, or a c/r to continue.

        If a carriage return <cr> is entered, that breakpoint is reset to 0000,
        and the program continues executing.  If the user presses escape <esc>,
        the program returns to the monitor, resets that breakpoint to 0000, and
        displays the  diagnostic prompt;  all unencountered  breakpoints remain
        set.  To reset an undesired breakpoint, use location 0000.

        Example:

        37                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                *BRKP 01,34A4,02,3614,03,7B36<cr>

                *BRKP 02,0,03,0<cr>


        Note: The aforesaid values 34A4, 3614 and 7B36 are for sample purposes.
              They  are not  necessarily  consistent with  the  current program
              listing.

              Use of this command requires a program listing to ensure that the
              breakpoints  are  set at  the  start of  the  instructions  ( see
              Diagnostics Introduction  for the procedure to create a listing).
              Note  also  that  each  breakpoint is  reset  to  0000  as  it is
              encountered  during program  execution, so  that  new breakpoints
              must be set after each pass.





                    7.1.4  DELT: DELETE TESTS AND SECTIONS

        SYNTAX:  DELT xx[yy],...

        INITIAL STATE: All tests (1 - 10) are selected on HDLC Micro Engine,
                       TSI Controller and PICO Engine.
                       Tests 1, 2, 6, 7, 8, 9 and 10 are selected on the
                       Engine.

        DEFAULT ACTION:  yy (all sections of test xx are deleted)

        VALUES:  xx = 01 to 10 for the HDLC Micro Engine, TSI Controller
                     and PICO Engine.
                 xx = 01, 02, 06, 07, 08, 09  and 10 for the Engine.
                 yy = 01 to 04 (see individual tests)


        This command deletes tests and sections from execution, where xx is the
        test number  (in decimal) and  yy is the  section number  (in decimal).
        When a  test number only  is specified, all  sections of that  test are
        deleted.  If both a test  and a section number are specified,  only the
        specified section of that test is deleted.  Any number of  tests and/or
        sections may  be specified on  the same command  line, but  the command
        line must not exceed 80 characters.

        The test number  (xx) can be  entered as either  a one- or  a two-digit
        number, but  the section  number (yy)  must be  entered as  a two-digit
        number, with one leading zero.

        Example:

                *DELT 402<cr>


        38                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                *DELT 902<cr>


        If any parameter  in a command string  is invalid, the  monitor ignores
        the  invalid parameter  and any  subsequent parameters  in  the string.
        Only the valid parameter(s) preceding the invalid one are  deleted from
        the selected test(s) or section(s).

        If all tests are deleted  and the RUN command is entered  without tests
        being  added  by the  ADDT  command,  the message  no  test  or section
        selected to be run is displayed.





                    7.1.5  <ESC>: ESCAPE FROM CURRENT TEST

        SYNTAX:  <ESC>



        Will interrupt current  test and return  to the '*'  prompt (diagnostic
        monitor level).





                    7.1.6  EXA: EXAMINE MEMORY


        SYNTAX:  EXA A,C

        VALUES:  A is any memory address,  C is a count of number  of halfwords
                 to display.  Both parameters A and C must be hexdecimal.

        Reads and displays C number of halfwords starting at the location  A in
        memory.





                    7.1.7  GO: EXECUTE FROM ADDRESS

        SYNTAX:  GO A

        VALUES:  A should be a valid instruction address.


        The CPU will begin to execute from the address specified.  Be cautioned


        39                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


        that  an  invalid  address will  simply  cause  an  illegal instruction
        interrupt.




















































        40                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.1.8  LOOP: SET LOOP COUNT

        SYNTAX:  LOOP [N]

        INITIAL STATE: 1

        DEFAULT ACTION:  Displays current loop value.

        VALUES:  0 to 32,768 (in decimal)


        This command specifies the number of times the selected tests  and test
        sections are to  be executed, where n  is the number of  iterations (in
        decimal)  ranging from  0 to  32,768.  All  selected test  sections are
        executed  in numerical  order  (by the  RUN command),  before  the next
        iteration starts.

        If  a  loop  value  of  zero  is  entered,  the  selected  sections run
        continually until halted manually, by a hardware malfunction, or  by an
        error  (see section  7.3.2,  error control).   If the  LOOP  command is
        entered without a parameter, the monitor outputs the current loop value
        (n).

        If a loop value greater than 32,768 is entered, the monitor divides the
        entered value by 32,768 and uses the remainder as the value of  n.  For
        example, if the decimal number 65,537 were entered as parameter  n, the
        monitor would convert that number to a loop value of 1.






                    7.1.9  MOD: MODIFY MEMORY

        SYNTAX:  MOD A,C,D

        DEFAULT ACTION:  None


        VALUES:  A is any memory address,  C is a count of halfwords  to store,
                 and D is C number of halfwords. Note that all parameters  A, C
                 and D must be hex.

        This command stores the specified number of halfwords at  the requested
        location.  The  data  is  stored  halfword  at  a  time.  Any  halfword
        containing  a  non   hexadecimal  character  will  abort   all  further
        modifications specified on that line.

        For example, MOD D6E 1 20 will write 20 at memory address D6E.

        The halfwords specified in D are separated by a comma or a space.


        41                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.1.10  RUN: RUN

        SYNTAX:  RUN

        INITIAL STATE: All tests from test 1 to 10 on HDLC Micro Engine,

        TSI Controller and PICO Engine.
                       Tests 1, 2, 6, 7, 8, 9 and 10 on Engine.


        This command  starts execution  of the default  tests and  sections, or
        those  tests and  sections  previously selected  by the  add  tests and
        sections  command  (ADDT) and  the  delete tests  and  sections command
        (DELT).  When  the diagnostic  is first started  or restarted,  the RUN
        command  executes the  default  tests (tests  1 - 9 on  the  HDLC Micro
        Engine, tests 1,  2, 6, 7  and 8 on  the Tymnet Engine).   The selected
        tests and  sections are executed  in numerical order  as many  times as
        specified by the LOOP command.

        If  the RUN  command is  entered, but  no tests  or sections  have been
        selected,  the message  NO TEST  OR SECTION  IS SELECTED  TO BE  RUN is
        displayed on the terminal.
































        42                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                                 7.2  DISPLAY COMMANDS


        These commands are informational commands, provided to aid the operator
        determine the overall status of the diagnostic. The HELP  command lists
        all commands  for the  diagnostic, while OPTN  displays the  setting of
        current  diagnostic  options. Test  titles  are listed  using  the NAME
        command.  DOC displays the current user guide source.





                    7.2.1  DOC: Display user guide source

        SYNTAX:  DOC

        The on-line  source of the  current user guide  for this  diagnostic is
        displayed.





                    7.2.2  HELP: DISPLAY LIST OF COMMANDS

        SYNTAX: HELP



        All  the  commands,  plus  a  brief  explanation  of  each  command are
        displayed.





                    7.2.3  NAME: DISPLAY TEST NAMES

        SYNTAX:  NAME

        The number and title of each test is displayed.












        43                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.2.4  OPTN: DISPLAY THE DIAGNOSTIC OPTIONS

        SYNTAX:  OPTN

        The following diagnostic options are displayed: default and non default
        test  and section  numbers, and  whether they  are selected  to  be run
        (indicated by an '*'), the loop option value, error and message control
        and whether  BELL or  error suppression are  in effect  or not  and the
        selected channel number(s) where the diagnostic is to be performed.





                    7.2.5  STAT: LAST ERROR MESSAGE

        SYNTAX:  STAT

        This command causes the last error encountered to be displayed.

        Note  that  the  error  will be  displayed  even  if  error  control or
        suppression prevented its being printed at the time the error occurred.
































        44                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                        7.3  ERROR AND MESSAGE CONTROL COMMANDS


        Two commands are provided that together determine what the monitor will
        do when an error is encountered (ECON) and how much information will be
        displayed on the terminal (MESG). In addition, a bell can be sounded or
        suppressed on error (BELL or NOBE).





                    7.3.1  BELL: SET BELL RING ON ERROR

        SYNTAX:  BELL

        INITIAL STATE: No bell will ring on error.

        This command has no parameters.  It causes a bell to sound  whenever an
        error is  found (regardless of  whether the error  is printed  or not).
        This option is reversed by entering NOBE , the no bell command.





                    7.3.2  ECON: ERROR CONTROL

        SYNTAX:  ECON [x],[y],[n]

        INITIAL STATE: x = 0 (continue after an error)
                 n = 0 (parameter y is ignored)

        DEFAULT ACTION:  Resets x and n to initial state.

        VALUES:  x = 0 to 5
                 y = 0 to 7
                 n = 0 to 2,147,483,647 (in decimal)

        This  command  controls error  handling  by the  monitor  in  two ways.
        First, it sets up what  action the monitor will take (parameter  x) for
        the first N errors encountered.  Second, it permits a  different action
        (parameter  y)  to be  selected  for subsequent  errors.   When entered
        without parameters, the initial  state of continuing after an  error (x
        equal to zero) is selected.

        Each time the RUN command is entered, the error count is reset to zero.
        As  errors  are  encountered  during  execution,  the  error  count  is
        incremented  and compared  to n.   (Note that  unexpected  system error
        messages are not affected by this command.)

        Parameter n is  a positive number ranging  from 0 to  2,147,483,647 (in


        45                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


        decimal).  If the value for n is greater than 2,147,483,647 the monitor
        divides the entered number by 2,147,483,647, and uses the  remainder as
        the  value of  n.  Note  that if  zero is  entered as  the value  of n,
        parameter y is ignored.

        Any  one of  the three  parameters can  be omitted,  provided  that all
        appropriate commas are entered  before the last parameter.   Any commas
        after the last parameter are  ignored.  If parameter n is  not entered,
        parameter y is ignored.

        The values and their meanings for parameters x and y are as follows:

        0  continues the diagnostic after  encountering an error (will  not re-
           enable error messages when used with parameter y).

        1  Halts the  diagnostic after encountering  an error and  printing the
           error  message.   The  program  may  be  restarted  by  pressing the
           increment (INC)  followed immediately  by the run  (RUN) key  on the
           console.  The halt can be  interrupted by pressing the <ESC>  key on
           the terminal to return control to the monitor.

        2  Returns  control  to the  monitor  after encountering  an  error and
           printing the error message [see message control command (MESG)].

        3  Continues the diagnostic  after displaying the first  error message,
           but  does  not  display   error  messages  if  further   errors  are
           encountered.

        4  Loops on the section where the error was encountered.   The operator
           may stop the diagnostic by pressing the PSW key on the console (will
           not re-enable error messages when used in parameter y).  If  the PSW
           key is used, the watchdog timer must be disabled.

        5  Loops on the section where  the error was encountered, but  does not
           display further  error messages;   the first  error message  will be
           displayed, if enabled by  the MESG command.  (The diagnostic  can be
           halted  by pressing  the PSW  key, but  the watchdog  timer  must be
           disabled.)

        6  Continues  the diagnostic  after  an error  is  encountered; further
           error messages  are displayed  if any  errors are  encountered (when
           enabled by the MESG command).  Use this value for parameter y to re-
           enable error messages when values  3 or 5 are entered  for parameter
           x.

        7  Loops on the  section where the  error was encountered  and displays
           error messages (when enabled by the MESG command) if any  errors are
           encountered.   Use this  value for  parameter y  to  re-enable error
           messages when values 3 or 5 are entered for parameter x.





        46                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


        Note: Values of 6 and 7 are  valid only for parameter y.  If  either of
              these values  is entered  for parameter  x, an  invalid parameter
              message will be displayed.  If any entered parameter  is invalid,
              the entire command is ignored.


        The MESG command also enables and disables error messages.  if the ECON
        and  MESG commands  have  selected different  message  display options,
        error messages will not be displayed.

        When the message suppression  of consecutive errors is in  effect, ECON
        parameters are ignored.

        If  a loop  on section  option is  selected, the  program loops  on the
        section encountering  the error,  but the  header and  trailer messages
        will not be displayed in subsequent passes.






































        47                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.3.3  MESG: MESSAGE CONTROL

        SYNTAX:  MESG x

        DEFAULT: 1

        VALUES:  1 to 6

        This command controls which types of diagnostic messages  are displayed
        on the  terminal.  Values for  parameter x  can range from  1 to  6 (in
        decimal) with the following meanings:



          1  displays all messages

          2  displays only error messages

          3  displays no messages

          4  displays only periodic error and pass counts

          5  displays only error messages and periodic error and pass counts

          6  displays  all messages  except  error messages  (test  and section
             headings, and test and section ending messages are  displayed with
             error and pass counts)

        Periodic error and pass  counts are messages displayed  during multiple
        passes of  selected tests.   These messages  are displayed  after every
        pass (for passes 1 to 10),  after every tenth pass (passes 11  to 100),
        after  every  hundredth pass  (passes  101 to  1001),  and  after every
        thousandth  pass (for  passes 1001  and up).   options 4  and  5, which
        control periodic messages, must be used in conjunction with appropriate
        values of the LOOP command.  Each time the RUN command is  entered, the
        pass count  is reset to  zero, and the  process of  displaying periodic
        messages starts over.

        Note: The  MESG command  controls  the display  of  diagnostic messages
              only,  and  not those  of  the monitor.   The  ECON  command also
              enables and disables the display of error messages.  If  the ECON
              and MESG commands have selected different error  message options,
              then error messages will not be displayed.











        48                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.3.4  NOBE: NO BELL RING ON ERROR

        SYNTAX:  NOBE

        INITIAL STATE: No bell will ring on error.

        This command will ensure that no bell rings when an error occurs. It is
        used to switch off the BELL command.





                    7.3.5  NOSP: DO NOT SUPPRESS ERROR MESSAGE

        SYNTAX:  NOSP

        INITIAL STATE : Will suppress error messages with the same error code.

        All errors  occuring with the  same error code  will be handled  in the
        manner specified by the ECON command.





                    7.3.6  SPRS: SUPPRESS ERROR MESSAGE

        SYNTAX:  SPRS

        INITIAL STATE:  Error messages are suppressed.

        After five  consecutive error  messages with the  same error  code have
        been printed, subsequent messages are suppressed.  If the test, section
        or portion  of a test  changes, message suppression  for the  new test,
        section or portion of a test will take effect after it too has had five
        consecutive errors with the same error code.

















        49                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                                 7.4  EDITING COMMANDS


        Editing commands provide the operator with a means of  correcting input
        errors on the terminal before  they have been entered, that  is, before
        they  have  been passed  to  the monitor.   These  commands  cancel the
        command  line  (control-q  or  <esc>),  delete  the  previous character
        (control-a), and delete the previous word (control-w).





                    7.4.1  CONTROL-Q or <ESC>: CANCEL COMMAND ENTRY

        SYNTAX:  CONTROL-Q or <ESC>

        A control-q or  an escape <ESC> entered  in the command  string cancels
        the command  being entered and  causes the monitor  to display a  ? and
        another prompt.  Each form of this command has the same effect  and may
        be entered anywhere  in the command  string before the  carriage return
        <cr>.   Once a  <cr> has  been entered,  however, a  command  cannot be
        cancelled.





                    7.4.2  CONTROL-A: DELETE SINGLE CHARACTER

        SYNTAX:  CONTROL-A

        This command deletes the immediately preceding character in the command
        line.   If entered  more  than once,  the next  preceding  character is
        deleted  for  each  control-a  entered.   The  command  can  be entered
        anywhere  in the  command line  before the  carriage return  <cr>.  The
        deleted character(s) are displayed on the terminal after slash (/).  If
        all characters in a command line are deleted, a line feed  and carriage
        return result, and the monitor prompts for a new command.















        50                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                    7.4.3  CONTROL-W: DELETE WHOLE WORD

        SYNTAX:  CONTROL-W

        This command deletes the immediately preceding word in the command line
        (a word being any series of characters preceded by a space).  it can be
        entered anywhere in the  command line before the carriage  return <cr>.
        If more than one control-w is entered, the next preceding word  will be
        deleted  for  each  entry  of the  command.   The  deleted  word(s) are
        displayed on the terminal after  slash (/).  If all words in  a command
        line  are deleted,  a line  feed and  carriage return  result,  and the
        monitor prompts for a new command.










































        51                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


                              7.5  SIO diagnostic Command


        The command  is provided  to allow a  user to  define his/her  own test
        patterns,  the total  number  of channels  under test  and  the channel
        speeds.






                    7.5.1  SELT : SELECT TEST PARAMETERS


        SYNTAX:  SELT

        INITIAL STATE: (1) HDLC Micro Engine :  00 - 0D channels.
                       (2) Tymnet Engine : 00 - 0F channels.
                       (3) TSI Controller : 00 - 03 channels.
                       (4) PICO Engine : 00 - 07 channels.


        DEFAULT ACTION: None

        VALUES: (1) HDLC Micro Engine :   00 to 0D
                (2) Tymnet Engine : 00 to 0F
                (3) TSI Controller : 00 to 03
                (4) PICO Engine : 00 - 07

        When this command is invoked,  it will report the existent  channels on
        the system under test to the user.  Then it will ask the user  to input
        the first and the last  channel numbers which the user wishes  to test.
        If the number  entered is invalid, an  error message will be  output to
        the terminal and the user has to input the correct channel number, only
        hex numbers are allowed.  If the system under test is a  Tymnet engine,
        it also allows the user to direct his/her test(s) to any channels under
        the  control  of  a  specified SIO  motherboard  (  default  is  to SIO
        motherboard address x'80 ) if  the system is configured with  mutli SIO
        motherboards ( x'80, x'81, x'82 or x'83 ).

        Example :  HDLC Micro Engine, TSI Controller or PICO Engine :

             *SELT<CR>
              EXISTENT CHANNEL = XX
              EXISTENT CHANNEL = XX
              EXISTENT CHANNEL = XX
                      .
                      .
                      .

              SELECT INTERFACE CARD :
              SYNC V.24 OR V.35 - TYPE : S

        52                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


              OCL               - TYPE : O
              ASYNC             - TYPE : A
              >S<cr>

              ENTER STARTING CHANNEL NUMBER : ( Use one hex digit )
              >0<cr>

              ENTER LAST CHANNEL NUMBER : ( Use one hex digit )
              >3<cr>

             *

            The above example selects the SIO diagnostic to be performed
            on channel 0 through channel 3 under the control of SIO
            motherboard address x'80 with all SYNC protocal tests (test
            1, 2, 6, 7, 8)



        Example :  Tymnet Engine

             *SELT<CR>
              SELECT SIO ADDRESS :
              (SIO ADDRESS 80, 81, 82, OR 83)
              >80<cr>

              EXISTENT CHANNEL = XX
              EXISTENT CHANNEL = XX
              EXISTENT CHANNEL = XX
                      .
                      .
                      .

              SELECT INTERFACE CARD :
              SYNC V.24 OR V.35 - TYPE : S
              OCL               - TYPE : O
              ASYNC             - TYPE : A
              >S<cr>

              ENTER STARTING CHANNEL NUMBER : ( Use one hex digit )
              >0<cr>

              ENTER LAST CHANNEL NUMBER : ( Use one hex digit )
              >3<cr>

             *

            The above example selects the SIO diagnostic to be performed
            on channel 0 through channel 3 under the control of SIO
            motherboard address x'80 with all SYNC protocal tests (test
            1, 2, 6, 7, 8)



        53                    SIO Diagnostic User's Guide                DSIO04
        COMMANDS                                                  July 23, 1990


        Note : Test 8 ( Cross  Talk Test ) must be executed with  both channels
               of the same Z80 SIO chip, e.g. channel 0 and 1, channel 8  and 9
               etc.






                    7.5.2  RREG : Display Z80 SIO READ Registers


        SYNTAX:  RREG
        This command displays the contents of the Z80 SIO READ registers  0 and
        1 after the last read status ( SIO I/O command op code 5 ) operation.


        Note  : Refer  to  Zilog Z80  SIO  technical manual  for  detailed Read
               registers information.



































        54                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990






                                8 -  TEST DESCRIPTIONS


        After  the  diagnostic has  been  loaded and  started,  the  monitor is
        automatically invoked.  If the default tests are run without alteration
        of   any  command  parameters,  the  diagnostic  performs  a functional
        verification of the SIO channels without user intervention.

        The individual tests and  the functions that they verify  are discussed
        in the following sections.








































        55                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                             8.1  Test 1, Signalling Test


        PURPOSE :

        This test verifies that the CTS and DCD signals toggle when setting and
        resetting the control signals of RTS and DTR.

        DESCRIPTION :

        The test is performed in four separate portions :  The first portion of
        this test verifies  that when both the  control signals of DTR  and RTS
        are reset, the CTS and DCD signals are reset.

        The second portion  of the test verifies  that when the  control signal
        RTS is set and DTR is reset,  the CTS signal is set and the  DCD signal
        is reset.

        The third portion of the test verifies that when the control signal DTR
        is set and the control signal RTS is reset, the DCD signal is reset and
        the signal CTS is reset.

        The  last portion  of  the test  verifies  that when  both  the control
        signals of DTR and RTS are set, the DCD and CTS signals are set.

        PROCEDURE :

           1. Send Start  Channel Output  and output  command pair  commands to
              setup the SIO chip ( Output command pair command writes a command
              to the registers in the Z80 SIO chip ).

           2. Set  control registers  by enabling  receive bit,  enable receive
              CRC,  set  HUNT  bit,  set AUTO  enable,  set  HDLC  flag, enable
              transmit  bit, set  HDLC mode,  initialize CRC  generator, enable
              transmit CRC and set transmit word length.

           3. Reset both the  RTS and DTR bits  of the control register  of the
              addressed channel.

           4. Read status to verify that both CTS and DSR are reset.

           5. Set RTS bit of the control register of the addressed channel.

           6. Read status to verify that the CTS is set and the DSR is reset.

           7. Set DTR bit of the control register of the addressed channel.

           8. Read status to verify that the DSR is set and the CTS is reset.

           9. Set both RTS and DTR bits of the control register of  the address
              channel.

           10. Read status to verify that both CTS and DSR bits are set.

        56                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                            8.2  Test 2, HDLC Features Test


        PURPOSE :

        This test verifies the  basic HDLC channel features that  are generated
        by a Zilog Z80 SIO chip on a selected channel.

        DESCRIPTION :

        The test  verifies that when  both the transmit  CRC generator  and the
        receive CRC checker are initialized, no CRC/FRAMING error will occur.

        This  test  also  computes  the  channel  speed  each  time  after  the
        initialization of the diagnostic.

        PROCEDURE :

            1. Send channel input  and input to  buffer commands to  a selected
               channel.

            2. Send channel output and output command pair commands.

            3. Set  control  registers  of  selected  channel  by  enabling the
               transmit  enable bit,  set receive  enable bit,  set  HDLC mode,
               initialize CRC generator, enable transmit CRC, set RTS, set DTR,
               set enter HUNT mode, set auto enable, set HDLC flag, set address
               search mode and enable receive CRC checker.

            4. Read status of selected  channel to verify status and  to verify
               that the CRC error counter is reset.

            5. Start outputting a HDLC record. (5 frames chaining).

            6. Read status of selected  channel to verify status and  to verify
               that the CRC counter is reset.

            7. Compare and verify test patterns.
















        57                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                      8.3  Test 3, SYNC I/O Emulation Status Test


        PURPOSE :

        This  test verifies  the DCD  and  CTS status  of a  selected  SYNC I/O
        emulation channel on a HDLC Micro Engine.

        DESCRIPTION :

        The test is performed in two portions :  The first portion of  the test
        sets  a selected  channel into  the SYNC  I/O Emulation  mode  and then
        verifies the DCD  and CTS status  of the addressed  channel immediately
        before the test is performed on another channel.

        The second  portion of the  test begins by  setting all  channels under
        test into the SYNC I/O emulation mode and then verifies the DCD and CTS
        status of all addressed channels.

        PROCEDURE :

           1. Send START OUTPUT  (I/O command type  1) and output  command pair
              (channel output command 6 ) commands to the selected channel.

           2. Send Store DCD and CTS Status command (I/O command type 8) to the
              channel.

           3. Verify that there is a CCW error in response to an interrupt.

           4. Initialize the  channel to emulate  the operation of  an enhanced
              SYNC I/O by resetting the channel and the CRC checker,  set clock
              rate, set 16 bit SYNC character, set enabling SYNC  mode, disable
              parity, reset transmit  CRC generator, disable both  transmit and
              receive interrupts,  reset the external  status interrupt,  set x
              bit  per  character   for  transmit  and  receive,   disable  CRC
              calculation  on transmit  data, reset  DTR and  RTS,  disable CRC
              calculation on receive data, disable DCD and CTS, set inhibit the
              loading of leading SYNC  character into the receiver  and disable
              the receiver.

           5) Set both DTR and RTS to enable data transmission.

           6) Set both DCD and CTS to enable data reception.

           7) Send  Emulate SYNC  I/O  command (  I/O  command type  8)  to the
              selected channel.

           8) Send Store DCD and CTS status command (I/O command type 8) to the
              selected channel.

           9) Read and verify that the status of DCD and CTS have  been written
              into a specified the address in the main memory.


        58                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


             10) Repeat step 1 to 9 until the last selected channel.

             11) Clear the  memory locations  where the status  of DCD  and CTS
                 have been written into.

             12) Wait for more than 15 milliseconds.

             13) Read and verify that the  status of DCD and CTS have  been re-
                 written into the specified locations in the memory.

             14) Reset a  SYNC I/O  emulation channel for  the second  phase of
                 this test.

             15) Repeat step 1 to 7.

             16) Repeat step 14 and 15 for all selected channels.

             17) Send Store DCD and CTS status command to a channel.

             18) Read and verify  the status of DCD  and CTS have  been written
                 into the specified locations in the memory.

             19) Clear the memory location where the status of DCD and CTS have
                 been written into.

             20) Wait for more than 15 milliseconds.

             21) Read and verify the status of DCD and CTS have been re-written
                 into the specified locations in the memory.

























        59                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                    8.4  Test 4, SYNC I/O Emulation Interrupt Test


        PURPOSE :

        This test verifies how a selected SYNC I/O Emulation  channel generates
        interrupt under various conditions.

        DESCRIPTION :

        This test checks that a selected SYNC I/O emulation channel  handles an
        interrupt under the following conditions :


             a) When  the  input index  is  positive and  the  output  index is
                positive.

             b) When  the  input index  is  positive and  the  output  index is
                negative.

             c) When  the  input index  is  negative and  the  output  index is
                positive.

             d) When  the  input index  is  negative and  the  output  index is
                negative.

        This test  is performed in  four sections :   The first  section checks
        that when both the input  index and the output index are  positive, the
        transmitter  transfers  to the  receiver  the number  of  halfword data
        patterns of x'ffff that is  equal to the contents of the  output index.
        This section also checks the incoming data read will be stored  into an
        input  ring buffer  pointed by  the input  pointer (  plus 2  )  of the
        microcoded line  descriptor.  This  section of  the test  also verifies
        that when the output index  has decremented to a zero, an  interrupt is
        generated and this  interrupt is handled  by branching to  an interrupt
        vector at the location ( D0x + 2 * pseudo device address ).

        The second section  of the test verifies  that when the input  index is
        positive and the output index  is negative, the outputting data  can be
        accessed from an output buffer in the main memory and the incoming data
        read will  be stored  into an input  ring buffer  pointed by  the input
        pointer ( plus 2 ) of the microcoded line descriptor.  This  section of
        the test also verifies that when the output index has incremented  to a
        zero,  an  interrupt  is  generated and  the  interrupt  is  handled by
        branching to an  interrupt vector at  the location (  D0x + 2  * pseudo
        device address ).

        The third  section of  this test checks  that when  the input  index is
        negative and the output index is positive, the output index is  used as
        a counter containing the number of halfwords with pattern x'ffff  to be
        output.  When the output index has decremented to a zero,  an interrupt
        is generated and the interrupt is handled by branching to  an interrupt


        60                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


        vector at location (D0x + 2 * pseudo device address).  Since  the input
        index is  negative, no  data will be  stored in  the input  ring buffer
        which is pointed by the input pointer ( plus 2 ) of the microcoded line
        descriptor.

        The last section of this  test verifies that when both the  input index
        and  the  output  index  are negative,   the  first  outputting  data (
        halfword )  can be accessed  from an output  buffer in the  main memory
        and the  output index  is incremented  by 2  for each  halfword output.
        This section also checks that when the output index has  incremented to
        a  zero, an  interrupt is  generated and  the interrupt  is  handled by
        branching to  an interrupt  vector at the  location (D0x  + 2  * pseudo
        device address ) and that no data is stored into the input  ring buffer
        which is pointed by the input pointer ( plus 2 ) of the microcoded line
        descriptor.

        PROCEDURE :


           1) Perform step 14 to 18 in section 8.3 ( Sync I/O  Emulation Status
              Test  )  with the  exception  that the  loading  of  leading SYNC
              characters  into   the  receiver   buffer  after   the  character
              synchronization is enabled.

           2) Send INPUT SYNC I/O command  ( channel input command type 6  ) to
              the selected channel.

           3) Send output data to  SYNC I/O command (  I/O command type 9  ) to
              the selected channel.

           4) Verify  that  an  interrupt is  generated  and  the  interrupt is
              handled by branching to a location  at ( D0x + 2 *  pseudo device
              address ).

           5) Compare test patterns and frame lengths against expected values.

           6) Repeat step 2 to 5 for section 2, 3, and 4 of this test.

           7) Repeat step 2 to 6 for all selected channels.















        61                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                    8.5  Test 5, SYNC I/O Emulation Round Trip Test


        PURPOSE :

        To verify  the transmission  and reception  of a  set of  test patterns
        grouped in BISYNC  message formats on an  emulated SYNC line of  a HDLC
        Micro Engine.

        DESCRIPTION :

        This test is performed in three portions :  The first  portion verifies
        that when both the input index  and the output index of the  line micro
        coded descriptor are  positive and the  PAD address of  the micro-coded
        line descriptor is  a zero (halfword), all  zeros will be found  in the
        input ring buffer of a selected SYNC I/O Emulation channel.

        The second portion of this test verifies that when both the input index
        and the output  index of the  micro-coded line descriptor  are positive
        and  the PAD  address  of the  micro-coded line  descriptor  is  x'FFFF
        (halfword),  no zeros  will be  found  in the  input ring  buffer  of a
        selected SYNC I/O Emulation channel.

        The last portion of this test verifies that when the input index of the
        micro-coded line  descriptor is  positive and the  output index  of the
        micro-coded line descriptor is negative, then the output index  is used
        as the negative byte count and is used as the negative offset  from the
        output  end pointer  for  fetching the  data pattern  (halfword)  to be
        output.  The data pattern received in the input ring buffer is compared
        against the expected data patterns.

        The selection of the test patterns and the byte counts for each  of the
        SYNC  I/O Emulation  channels are  mainly for  easy recognition  by the
        diagnostic to identify  each of the  channels, since the  diagnostic is
        designed to test all the channels concurrently.



















        62                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


        PROCEDURE :


             1) Perform  step 14  to 18  in section  8.3 (  SYNC  I/O Emulation
                Status  Test  )  except  that  the  loading  of   leading  SYNC
                characters  into  the  receiver  buffer  after   the  character
                synchronization is enabled.

             2) Send INPUT SYNC I/O command ( channel input command type 6 ) to
                the selected channel.

             3) Send output data to SYNC I/O command ( I/O command type 9  ) to
                the selected channel.

             4) Verify that all zeros is found in the input ring buffer.

             5) Setup PAD address of the micro-coded line descriptor to x'FFFF.

             6) Repeat step 1 to 3.

             7) Verify that no zeros is found in the input ring buffer.

             8) Setup  output index  of the  micro-coded line  descriptor  to a
                negative value.

             9) Repeat step 1 to 3.

             10) Compare and verify data pattens.


























        63                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                             8.6  Test 6, DMA Window Test


        PURPOSE :

        To verify  the set  LOWER LIMIT and  set DMA  WINDOW SIZE  commands for
        selected channels.

        DESCRIPTION :

        The test is performed in  2 sections.  The first section  verifies that
        when  a lower  limit and  a DMA  window size  for a  channel  have been
        defined, a memory  access inside the DMA  window will not cause  an I/O
        command error.  This section of the test begins by setting a relocation
        value (  not equal to  zero ) for  a channel in  the main  memory, then
        setting  a  lower  limit  and  a  DMA  window  for  that  channel.  The
        diagnostic then outputs a valid HDLC frame with known test  pattern and
        record length.  The addresses of  the INPUT and OUTPUT BUFFERS  are set
        inside the boundary of the DMA window.  The test then verifies that the
        HDLC frame is received correctly  and no I/O command error  and Channel
        Command error (CCW) will occur.

        The second section of the test  verifies that when a lower limit  and a
        DMA window for  a channel had been  defined, any memory  access outside
        the lower limit  of the DMA window  results an I/O command  error.  The
        last part  of this section  checks that  when a lower  limit and  a DMA
        window for a  channel had been defined,  any memory access  outside the
        upper limit of the DMA window results an I/O command error.

        PROCEDURE :


            1. Send a relocation command  with the data portion (  bit<16:31> )
               of the command not equal to zero.

            2. Send set  lower limit and  set DMA window  size commands  to the
               selected channel  (  the address of  the lower limit  is greater
               than the relocation value in the main memory ).

            3. Send start channel input and input to buffer commands.

            4. Send start  channel output and  output command pair  commands to
               the SIO chip.

            5. Set control registers  of selected channel by  enabling transmit
               bit, set  HDLC mode, initialize  CRC generator,  enable transmit
               CRC,  set RTS,  set DTR,  set transmit  word length,  set enable
               receive bit, enable receive  CRC, set enter HUNT mode,  set AUTO
               enable mode, set HDLC flag and set address search mode.

            6. Output a HDLC record.



        64                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


            7. Read and verify that there is no I/O command error or  CCW error
               in response to an interrupt.

            8. Repeat step 4 for the second section of the test.

            9. Send channel input  to buffer command   ( The address,  which is
               specified in the second half word of the command, is outside the
               lower limit of the DMA window for the channel ).

           10. Repeat step 5-6.

           11. Read and verify that there  is an I/O command error  in response
               to an interrupt.

           12. Repeat step 4 for the last section of the test.

           13. Send channel  input to  buffer command (  The address,  which is
               specified in the second half word of the command, is outside the
               upper limit of the DMA window of the channel ).

           14. Repeat step 5-6.

           15. Read and verify that there  is an I/O command error  in response
               to an interrupt.






























        65                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                         8.7  Test 7, Relocation Command Test


        PURPOSE :

        To verify the relocation capability  of selected channels.

        DESCRIPTION :

        This test verifies that  the relocation function can be  performed when
        the relocation command is invoked.  In order to accomplish  the purpose
        of this test, the test is performed in three sections.

        The first section of  the test verifies that  when a lower limit  and a
        DMA window size for a channel has been defined and when  the relocation
        value  is equal  to zero,  the  addresses of  the input  buffer  can be
        located inside the DMA window and the contents of the input  buffer can
        be read and be compared against the expected value.

        The second section checks that when a lower limit and a DMA  window for
        a channel has been  defined and when the  relocation value is set  to a
        postive value,  the starting address of the input buffer can be located
        by adding the relocation value to the original starting address  of the
        input buffer.  The contents of the input buffer can also be read and be
        compared against the expected values.

        The last section  of this test  is a replication  of section 1  of this
        test.  The  purpose of this  section is to  verify that  the relocation
        value can be reset to zero.

        PROCEDURE :

            1. Send set lower limit and DMA window commands.

            2. Send start channel input and input to buffer commands.

            3. Send start  channel output and  output command pair  commands to
               the SIO chip.

            4. Set  control  registers  of  selected  channel  by  enabling the
               transmit enable  bit, set HDLC  mode, initialize  CRC generator,
               enable  transmit  CRC, set  RTS,  set DTR,  enable  receive bit,
               enable receive CRC,  set enter HUNT  mode, set AUTO  enable, set
               HDLC flag and set address search bit.

            5. Start outputting a HDLC record.

            6. Read status of selected channel and verify status and CRC.

            7. Compare data patterns  ( from INPUT  BUFFER ) and  record length
               against expected values.



        66                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


            8. Issue a Relocation  command, with relocation  value > 0  for the
               second section of the test.

            9. Repeat step 2-6 for the second section of the test.

           10. Compare data patterns ( from the location equal to  the original
               INPUT to BUFFER location plus the relocation value )  and record
               lengths against expected values.

           11. Repeat step 2-7 for section 3 of the test ( relocation value = 0
               ).











































        67                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                             8.8  Test 8, Cross Talk Test


        PURPOSE :

        To verify that there is  no interference between the two channels  on a
        single Z80 SIO chip ( The  Z80 SIO chip is a dual channel,  full duplex
        channel peripheral device ).

        DESCRIPTION :

        The following  description about  this test assumes  that there  are 16
        HDLC channels in the SIO subsystem under test.

        This test checks for possible interference between the two  channels on
        a single Z80 SIO chip.  To do this, the test is performed in two parts.
        The first part tests  the transmission of a  HDLC frame on channel  A (
        even channel ) of the chip  while holding channel B ( odd channel  ) of
        the  same chip  in an  idle  state.  To  do this  step,  the diagnostic
        program sends 8 HDLC frames to channel 0, 2, 4, 6, 8, 10, 12 and  14 of
        the SIO  subsystem.  Each  frame carries a  different test  pattern and
        record  length, so  the diagnostic  will be  able to  differentiate the
        frames by recognizing their unique patterns and record  lengths.  After
        receiving the frame on the receiver of the channel, the diagnostic will
        verify  the test  patterns,  record lengths  and  the CRC  on  all even
        channels while all the odd channels will be checked for idleness.

        The second part of the test proceeds in a similar fashion,  except that
        a HDLC  frame is tested  on channel B  against expected  data patterns,
        records lengths and CRC, while channel A is tested for idleness.
























        68                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


        PROCEDURE :

            1. Send  start  input  and input  to  buffer  commands  to selected
               channel.

            2. Send start  channel output and  output command pair  commands to
               the channel.

            3. Set control registers  of selected channel by  enabling transmit
               enable bit,  set receive enable  bit, set HDLC  mode, initialize
               CRC generator,  enable transmit  CRC, set  RTS, set  DTR, enable
               receive  CRC, set  enter HUNT  mode, set  AUTO enable,  set HDLC
               flag, set transmit word length and set address search mode.

            4. Start outputting a HDLC record.

            5. Read status of channel and verify status and CRC.

            6. Compare  data  patterns  and  record  lengths  against  expected
               values.

            7. Read the other channel of the same Z80 SIO chip for idleness.

            8. Repeat step 1-7 for all HDLC records.

            9. Repeat step 1-8 for testing an odd channel of the  SIO subsystem
               for the second part of the test.



























        69                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                       8.9  Test 9, ASYNC Channel Features Test


        PURPOSE :

        (1) To verify that the proper interrupt is generated by the SIO when an
            INPUT ASYNC command is completed.

        (2) To verify that a proper  interrupt is generated by the SIO  after a
            delay  of  approximately  25  milliseconds  since  the  last  ASYNC
            character was input.

        (3) To verify that when the SEND BREAK is issued to  selected channels,
            the BREAK/ABORT bit will set.

        DESCRIPTION :

        There are  two sections in  this test.  The  first section of  the test
        verifies that  after an  INPUT ASYNC  command is  issued to  a selected
        channel, an interrupt  ( with interrupt code  1 ) is generated  after 8
        ASYNC characters are input to the channel.

        The second section of the test checks that after an INPUT ASYNC command
        is issued to a selected channel, an interrupt ( with interrupt code 1 )
        is generated after a  delay of approximately 25 milliseconds  since the
        last ASYNC character is  input.  This section also verifies  that after
        an INPUT ASYNC command is  issued to a selected channel,  a BREAK/ABORT
        bit of the Z80 SIO READ register 0 will set/reset after the  SEND BREAK
        bit of the  Z80 SIO WRITE  register 5 is  set/reset.  The last  part of
        this section verifies when a BREAK character is received.

        PROCEDURE :

            1. Send channel output and output command pair commands to selected
               channels.

            2. Set control registers by enabling transmit enable bit, set ASYNC
               mode, set x 1 clock rate (x 16for TSI), set 1 stop bit/char, set
               no parity,  set receive enable,  set RTS, set  DTR and  set auto
               enable.

            3. Send output ASYNC record command to output 8 ASYNC characters.

            4. Do a sense status command  to verify that a correct  ASYNC INPUT
               command completion interrupt is generated.

            5. Repeat step 2 for the second section of the test.

            6. Send output ASYNC record command to output 1 ASYNC character.

            7. Wait approximately 1 second ( as approved in the DRB meeting ).



        70                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


            8. Do a sense  status command to check  that a correct  ASYNC INPUT
               command complete interrupt is generated.

            9. Repeat step 2 for the last part of the second section.

           10. Send BREAK command to the selected channel.

           11. Read and verify that the BREAK/ABORT bit is set.

           12. Reset SEND BREAK bit of WRITE REGISTER 5.

           13. Read and verify that the BREAK/ABORT bit is reset.

           14. Read and verify that the BREAK character is received.



        Note : This  test runs on channel  A to D on  the HDLC Micro  Engine by
               default.   To  select other  channels  for this  test,  use SELT
               command.


































        71                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


                           8.10   Test 10, ASYNC Block Test


           PURPOSE :

           (1) To verify that the proper interrupt is generated by the SIO when
              an INPUT ASYNC command is completed.

           (2) To verify that a proper interrupt is generated by the SIO  after
              a delay of about 25 milliseconds since the last  ASYNC  character
              was input.

           (3) To verify  that the SIO  is capable of  chaining 38 CCWs  with 4
              output buffers, into one input buffer.

           (4)  To verify  that the  correct number  of characters  per  output
              buffer  was transmitted.   Output  buffer one  has  8 characters,
              output buffer two has 256 characters, output buffer three has  32
              characters, and output buffer  four has 7 characters for  a total
              of 303 characters.

           (5) To verify that the correct byte count was received.   The number
              of characters per output buffer.

        DESCRIPTION :

        There is one section in  this test.  The test  verifies that  after  an
        INPUT ASYNC command is issued to a selected channel, an interrupt (with
        interrupt code  1) is  generated after 8  ASYNC characters are input to
        the  channel.  Then after 256 ASYNC characters, then 32 characters, and
        finally with 7  characters.  For a total of 303 ASYNC characters with a
        total of four interrupts.

        The total INPUT buffer area (for up to 16 ports) is loaded with a back-
        ground pattern of (AFAF).

        Hint - if an  error occurs  and  the actual data is AFAF - data was not
        transfered.

        PROCEDURE :

             1.   Send  channel  output and  output  command  pair  commands to
              selected channels.

            2.   Set control  registers by  enabling transmit  enable  bit, set
              ASYNC mode, set x 1 clock rate (x 16 for TSI), set 1 stop bit per
              char, set no  parity, set receive enable,  set RTS, set  DTR, and
              set AUTO enable.

            3.   Send  output  ASYNC   record  command  to  output   304  ASYNC
              characters.



        72                    SIO Diagnostic User's Guide                DSIO04
        TEST DESCRIPTIONS                                         July 23, 1990


            4.  Do  a sense  status   command to  verify  that a  correct ASYNC
              INPUT command completion interrupt is generated.




















































        73                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990






                           9 -  DEFAULT TESTS DATA PATTERNS


        The default test data pattens are listed  below : ( Test 1, 3 and  4 do
        not transfer test patterns, so they will not be listed )






                 9.1  Test 2, HDLC Channel Features Test Data Patterns


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
                     0202 0000   0303 0303   0404 0404   0505 0505  0606 0606
                                             0404 0000   0505 0505  0606 0606
                                                                    0606 0000

          ch 6        ch 7        ch 8        ch 9        ch 10       ch 11
         ----------  ---------   ---------   ---------   ---------  ----------
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                     0808 0000   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                                 0909 0909   0A0A 0000   0B0B 0B0B  0C0C 0C0C
                                                         0B0B 0B0B  0C0C 0000


          ch 12        ch 13      ch 14       ch 15   
         ---------   ---------  ----------  ----------- 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0000   0F0F 0F0F   0000 0000
                                 0F0F 0F0F   0000 0000



        74                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


             9.2  Test 5, SYNC I/O EMULATION ROUND TRIP TEST DATA PATTERNS


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0123 4567   1234 5678   2345 6789   3456 789A   4567 89AB  5678 9ABC
                     9ABC DEF0   ABCD EF00   BCDE F012   CDEF 0123  DEF0 1234
                                 1234 6789   3456 789A   4567 89AB  5678 9ABC
                                             BCDE F012   CDEF 1357  DEF0 2468
                                                         2468 9BDE  ACE1 3579
                                                                    BDF1 3579

          ch 6        ch 7        ch 8        ch 9    
         ----------  ---------   ---------   ---------
         6789 ABCD   789A BCDE   09AB CDEF   1ABC DEF0
         EF01 2345   F012 3456   0123 4567   1234 5678
         6789 ABCD   789A BCDE   89AB CDEF   9ABC DEF0
         EEFF 0011   F012 3456   0123 4567   1234 5678
         2233 4455   7788 99AA   8899 FFEE   1467 2323
         6677 8899   BBCC DDEE   DDCC BBAA   D423 9872
         AABB CCDD   FF00 1122   9988 7766   AB34 7788   
                     3344 5566   5544 3322   9012 4569
                                 1100 FEDC   9532 1467
                                             0982 D438




























        75                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


                      9.3  Test 6, DMA WINDOW TEST DATA PATTERNS


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
                     0202 0000   0303 0303   0404 0404   0505 0505  0606 0606
                                             0404 0000   0505 0505  0606 0606
                                                                    0606 0000

          ch 6        ch 7        ch 8        ch 9        ch 10       ch 11
         ----------  ---------   ---------   ---------   ---------  ----------
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                     0808 0000   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                                 0909 0909   0A0A 0000   0B0B 0B0B  0C0C 0C0C
                                                         0B0B 0B0B  0C0C 0000


          ch 12        ch 13      ch 14       ch 15   
         ---------   ---------  ----------  ----------- 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0000   0F0F 0F0F   0000 0000
                                 0F0F 0F0F   0000 0000


















        76                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


                      9.4  Test 7, RELOCATION TEST DATA PATTERNS


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
                     0202 0000   0303 0303   0404 0404   0505 0505  0606 0606
                                             0404 0000   0505 0505  0606 0606
                                                                    0606 0000

          ch 6        ch 7        ch 8        ch 9        ch 10       ch 11
         ----------  ---------   ---------   ---------   ---------  ----------
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                     0808 0000   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                                 0909 0909   0A0A 0000   0B0B 0B0B  0C0C 0C0C
                                                         0B0B 0B0B  0C0C 0000


          ch 12        ch 13      ch 14       ch 15   
         ---------   ---------  ----------  ----------- 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0000   0F0F 0F0F   0000 0000
                                 0F0F 0F0F   0000 0000


















        77                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


                      9.5  Test 8, CROSS TALK TEST DATA PATTERNS


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
                     0202 0000   0303 0303   0404 0404   0505 0505  0606 0606
                                             0404 0000   0505 0505  0606 0606
                                                                    0606 0000

          ch 6        ch 7        ch 8        ch 9        ch 10       ch 11
         ----------  ---------   ---------   ---------   ---------  ----------
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                     0808 0000   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
                                 0909 0909   0A0A 0000   0B0B 0B0B  0C0C 0C0C
                                                         0B0B 0B0B  0C0C 0000


          ch 12        ch 13      ch 14       ch 15   
         ---------   ---------  ----------  ----------- 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
         0D0D 0D0D   0E0E 0000   0F0F 0F0F   0000 0000
                                 0F0F 0F0F   0000 0000


















        78                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


                9.6  Test 9, ASYNC CHANNEL FEATURES TEST DATA PATTERNS


        The test patterns :

           ch 0        ch 1        ch 2        ch 3        ch 4       ch 5
         ---------   ---------   ---------   ---------   ---------  ---------
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606
         0101 0101   0202 0202   0303 0303   0404 0404   0505 0505  0606 0606

          ch 6        ch 7        ch 8        ch 9        ch 10       ch 11
         ----------  ---------   ---------   ---------   ---------  ----------
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C
         0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B  0C0C 0C0C


          ch 12        ch 13      ch 14       ch 15   
         ---------   ---------  ----------  ----------- 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000 
         0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000


































        79                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


                     9.7  Test 10, ASYNC BLOCK TEST DATA PATTERNS


        The test patterns for the first output buffer :

        ch 0           ch 1        ch 2        ch 3        ch 4        ch 5
        ---------   ---------   ---------   ---------   ---------   ---------
        0101 0101   0202 0202   0303 0303   0404 0404   0505 0505   0606 0606
        0101 0101   0202 0202   0303 0303   0404 0404   0505 0505   0606 0606

        ch 6           ch 7        ch 8        ch 9        ch 10       ch 11
        ---------   ---------   ---------   ---------   ---------   ---------
        0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B   0C0C 0C0C
        0707 0707   0808 0808   0909 0909   0A0A 0A0A   0B0B 0B0B   0C0C 0C0C

        ch 12       ch 13          ch 14       ch 15
        ---------   ---------   ---------   ---------
        0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000
        0D0D 0D0D   0E0E 0E0E   0F0F 0F0F   0000 0000



































        80                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        The test patterns for the second output buffer :


        ch 0           ch 1        ch 2        ch 3        ch 4        ch 5
        ---------   ---------   ---------   ---------   ---------   ---------
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0303 0303   0404 0404   0505 0505   0606 0606   0707 0707
        0202 0202   0000 0000   0404 0404   0505 0505   0606 0606   0000 0000
        0202 0202   0000 0000   0404 0404   0505 0505   0606 0606   0000 0000
        0202 0202   0000 0000   0404 0404   0505 0505   0606 0606   0000 0000
        0202 0202   0000 0020   0404 0404   0505 0505   0606 0606   0000 0020
        0202 0202   0404 0404   0404 0404   0505 0505   0606 0606   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0606 0606   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0606 0606   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0606 0606   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0000 0000   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0000 0000   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0000 0000   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0000 0020   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0123 4567   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   89AB CDEF   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   FEDC BA98   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   7654 3210   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0404 0404   0404 0404   0505 0505   0707 0707   0606 0606

        81                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        0202 0202   0000 0000   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0000 0000   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0000 0000   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   0000 0007   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   1234 5600   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   9ABC DEFC   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   ABCD 9876   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   2244 1358   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   1234 0908   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   9ABC DEAC   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   AAAA 9876   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   2345 1357   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   1234 8765   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   9AB0 DEFC   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   ABCD 9876   0404 0404   0505 0505   0707 0707   0606 0606
        0202 0202   2222 1357   0404 0404   0505 0505   0707 0707   0606 0606

        ch 6           ch 7        ch 8        ch 9        ch 10       ch 11
        ---------   ---------   ---------   ---------   ---------   ---------
        0808 0800   0909 0909   0A0A 0A00   0B0B 0B0B   0C0C 0C0C   0D0D 0D0D
        0000 0000   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0000 0000
        0000 0000   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0000 0000
        0000 0020   0909 0909   0000 0020   0B0B 0B0B   0C0C 0C0C   0000 0020
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0B0B 0B0B   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0007   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   ABCD 0987   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   7654 5434   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   0000 0060   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   FFEE DDCC   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   BBAA 9988   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   7766 5544   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   3322 1100   0B0B 0B0B   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   1234 5678   0000 0000   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   9876 EF01   0000 0000   0C0C 0C0C   0E0E 0E0E

        82                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        0909 0909   0909 0909   3456 789A   0000 0000   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   BCDE 0980   0000 0020   0C0C 0C0C   0E0E 0E0E
        0909 0909   0909 0909   FFEE DDCC   0123 4567   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   BBAA 9988   89AB CDEF   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   7766 5544   0000 0000   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   3322 1100   0000 0007   0C0C 0C0C   0000 0007
        0909 0909   0909 0909   1234 5678   1234 0987   0C0C 0C0C   AABB CCDD
        0909 0909   0909 0909   9876 EF01   ACDE 8765   0C0C 0C0C   EEFF 1100
        0909 0909   0909 0909   3456 789A   9876 DEFA   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   BCDE 0980   BBBB 5566   0C0C 0C0C   0000 0020
        0909 0909   0909 0909   FFEE CCDD   0000 0000   0C0C 0C0C   0987 6543
        0909 0909   0909 0909   AABB 8899   0000 0000   0C0C 0C0C   2101 3451
        0909 0909   0909 0909   7766 5544   0000 0000   0C0C 0C0C   9BDE BBBB
        0909 0909   0909 0909   3322 0011   0000 0003   0C0C 0C0C   0980 4444
        0909 0909   0909 0909   4612 5677   0987 6500   0C0C 0C0C   0987 0000
        0909 0909   0909 0909   9872 EF01   0000 0000   0C0C 0C0C   2102 AAAA
        0909 0909   0909 0909   3456 CACA   0000 0000   0C0C 0C0C   9BDE BBBB
        0909 0909   0909 0909   BCDF 0980   0000 0001   0C0C 0C0C   0980 8888
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   0000 0000   0B0B 0B0B   0C0C 0C0C   0000 0000
        0909 0909   0909 0909   0000 0001   0B0B 0B0B   0C0C 0C0C   0000 0001
        0909 0909   0909 0909   0A0A 0A0A   0B0B 0B0B   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0A0A   0B0B 0B0B   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0A0A   0B0B 0B0B   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0A0A   0000 0100   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0A0A   0C0C 0C0C   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0A0A   0C0C 0C0C   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0A0A 0000   0C0C 0C0C   0C0C 0C0C   0D0D 0D0D
        0909 0909   0909 0909   0000 0080   0C0C 0C0C   0C0C 0C0C   0D0D 0D0D


        ch 12       ch 13          ch 14       ch 15
        ---------   ---------   ---------   ---------
        0E0E 0E0E   0F0F 0F0F   0101 0101   0404 0404
        0E0E 0E0E   1200 0000   0101 0101   0404 0404
        0E0E 0E0E   0000 0000   0101 0101   0000 0000
        0E0E 0E0E   0000 0020   0101 0101   0000 0020
        0E0E 0E0E   0101 0101   0101 0101   0505 0123
        0E0E 0E0E   0101 0101   0101 0101   3456 7890
        0E0E 0E0E   0101 0101   0101 0101   2333 EEEE
        0E0E 0E0E   0101 0101   0101 0101   ACDE 3456
        0E0E 0E0E   0101 0101   0101 0101   3344 6787
        0E0E 0E0E   0101 0101   0101 0101   2345 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0E0E 0E0E   0101 0101   0101 0101   0505 0505
        0000 0000   0101 0101   0000 0000   0505 0505
        0000 0000   0101 0101   0000 0000   0505 0505
        0000 0000   0101 0101   0000 0000   0505 0505

        83                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        0000 0020   0101 0101   0000 0020   0505 2345
        0F0F 0F0F   0101 0101   0204 0608   4444 5555
        0F00 0000   0101 0101   ABCD EF00   0505 1234
        0000 0000   0101 0101   0000 0000   1234 7656
        0000 0007   0101 0101   0000 0007   9999 1234
        3453 8789   0101 0101   AAAA C547   0505 0505
        5437 CB23   0101 0101   9987 2345   1234 3456
        A345 000D   0101 0101   AAAA 9878   4567 6789
        3451 BBBB   0101 0101   0906 0705   0987 0000
        3453 8789   0101 0101   0000 0000   0000 1234
        5437 CB23   0101 0101   0000 0000   0123 0345
        A345 000D   0101 0101   0000 0000   0980 4567
        3451 BBBB   0101 0101   0000 0080   0980 4567
        3453 8789   0101 0101   AABB 0000   0505 1234
        5437 CB23   0101 0101   2341 6666   0000 0505
        A345 000D   0101 0101   8787 ABAB   4444 5555
        3451 BBBB   0101 0101   0555 1212   6666 7777
        3453 8789   0101 0101   AABB 0998   0000 0000
        5437 CB23   0101 0101   2341 6666   0000 0000
        A345 000D   0101 0101   8787 ABAB   0000 0000
        3451 BBBB   0101 0101   D985 1212   0000 0007
        3453 8789   0101 0101   AABB 0088   ABCD EF00
        5437 CB23   0101 0101   2341 6666   0000 0000
        A345 000D   0101 0101   8787 ABAB   0000 0000
        3451 BBBB   0101 0101   D985 1212   0000 0010
        3453 8789   0101 0101   AABB 0088   1234 5678
        5437 CB23   0101 0101   2341 6666   9ABC DEFE
        A345 000D   0101 0101   8787 ABAB   ACF3 0987
        3451 BBBB   0101 0101   D985 1212   6542 0980
        3453 8789   0101 0101   AABB 0088   0123 4567
        5437 CB23   0101 0101   2341 6666   0000 1234
        A345 000D   0101 0101   8787 ABAB   5678 9ABC
        3451 0000   0101 0101   D985 1212   DEF0 0000
        3211 8789   0101 0101   AABB 8888   2345 6789
        5467 CB23   0101 0101   2347 7777   ABCD EF00
        A345 000D   0101 0101   8787 ABAB   1234 6789
        3451 BCDE   0101 0101   D985 0651   0000 3456
        0000 0000   0101 0101   AADB 0088   789A BCDE
        0000 0000   0101 0101   2341 6666   F012 3456
        0000 0000   0101 0101   8787 ABAB   789A BCDE
        0000 0010   0101 0101   D985 1212   F012 0000
        BBBB CCCC   0101 0101   FFEE DEDC   4567 89AB
        DDDD FEEE   0101 0101   0909 6789   CDEF 0123
        0945 9321   0101 0101   8765 ABAB   4567 89AB
        8767 5438   0101 0101   0FE5 7890   CDEF 1357









        84                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        The test patterns for the third output buffer :

        ch 0            ch 1        ch 2        ch 3       ch 4        ch 5
        ---------   ---------   ---------   ---------   ---------   ---------
        0303 0333   0404 0404   0000 1111   0678 0000   0123 4567   0606 0606
        0000 0000   0404 0404   2222 3333   0000 0000   89AB CDEF   0606 0606
        0222 3210   0404 0404   4444 5555   0000 0000   FEDC BA98   0606 0606
        0234 8979   0404 0404   6666 7777   0000 0000   7654 3210   0606 0606
        7777 0234   0404 0404   8888 9999   2345 6789   0707 0707   0606 0606
        0234 0000   0404 0404   AAAA BBBB   EFAD EF12   0707 0707   0606 0606
        2345 4567   0404 0404   CCCC DDDD   3456 789A   0707 0707   0606 0606
        5436 0000   0404 0404   EEEE FFFF   BCDE F013   0707 0707   0606 0606


        ch 6           ch 7        ch 8        ch 9        ch 10       ch 11
        ---------   ---------   ---------   ---------   ---------   ---------
        0909 0909   0A0B 0C0D   0B0B 0B0B   0123 4567   0123 1234   0E0E 0E0E
        0909 0909   1200 0000   0B0B 0B0B   89AB CDEF   2345 3456   0E0E 0E0E
        0909 0909   0000 0000   0B0B 0B0B   0000 0000   4567 5678   0E0E 0E0E
        0909 0909   0000 0007   0B0B 0B0B   0000 0007   6789 789A   0E0E 0E0E
        0909 0909   FEDC BA98   0B0B 0B0B   1234 0987   89AB 9ABC   0E0E 0E0E
        0909 0909   9876 1234   0B0B 0B0B   ACDE 8765   ABCD BCDE   0E0E 0E0E
        0909 0909   7777 9999   0B0B 0B0B   9876 DEFA   CDEF DEF0   0E0E 0E0E
        0909 0909   2468 ACF2   0B0B 0B0B   BBBB 5566   0000 0007   0E0E 0E0E
                

        ch 12       ch 13          ch 14       ch 15
        ---------   ---------   ---------   ---------
        0F0F 0F0F   0101 0101   0204 0608   0505 0123
        0F00 0000   0101 0101   ABCD EF00   3456 7890
        0000 0000   0101 0101   0000 0000   2333 EEEE
        0000 0007   0101 0101   0000 0007   ACDE 3456
        3453 8789   0101 0101   AAAA C547   3344 6787
        5437 CB23   0101 0101   9987 2345   2345 0505
        A345 000D   0101 0101   AAAA 9878   0505 0505
        3451 BBBB   0101 0101   0906 0705   0505 0505


















        85                    SIO Diagnostic User's Guide                DSIO04
        DEFAULT TESTS DATA PATTERNS                               July 23, 1990


        The test patterns for th fourth output buffer :


        ch 0           ch 1        ch 2        ch 3        ch 4        ch 5
        ---------   ---------   ---------   ---------   ---------   ---------
        0123 4567   1234 5600   9876 0876   2345 6789   ABCD EF00   ABCD EF01
        0000 00xx   9ABC DExx   5400 00xx   EFAD EFxx   0000 00xx   2300 00xx

        ch 6           ch 7        ch 8        ch 9        ch 10       ch 11
        ---------   ---------   ---------   ---------   ---------   ---------
        FED3 1234   FEDC BA98   ABCE 0987   1234 0987   ABCD EF00   AABB CCDD
        C431 98xx   9876 12xx   7654 54xx   ACDE 87xx   0000 00xx   EEFF 11xx

        ch 12       ch 13          ch 14       ch 15
        ---------   ---------   ---------   ---------
        3453 8789   FEFC 0987   AAAA C547   ABCD EF00
        5437 CBxx   3456 ACxx   9987 23xx   0000 00xx

        Where xx = not used

        Note:  the input buffer has AFAF (the back ground patterns) loaded in 
               the last byte (304) because it is not used, this byte is not 
               tested for.































        86                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990






                               10 -  ERROR DESCRIPTIONS


        Error messages  displayed on  the terminal  consist of  combinations of
        the following lines, in the following order:

        ERROR xxyyzz        ERROR COUNT xxxx        PASS COUNT xxxx

        CHANNEL NUMBER = xx
        DATA READ       xxxxxxxx
        DATA EXPECTED   xxxxxxxx
        EXPLANATION OF THIS ERROR:
        explanation text


        Table 10-1 lists the information  contained in each field of  the error
        message.

                         Table 10-1.  Error Message Fields


        Field                             Content

        ERROR                    xx = test number, yy = section number,
                                 zz = error code.

        ERROR COUNT              xxxx = number of errors (in decimal) found
                                 since entry of the last RUN command.

        PASS COUNT               xxxx = number of passes (in decimal) since
                                 the last RUN command was entered.
                                 If the number of passes is greater than
                                 9999, only the four least-significant
                                 digits are displayed.

        CHANNEL NUMBER           xx = Faulty channel number

        EXPLANATION OF ERRORS:   An explanation of this error is displayed.












        87                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                            10.1  Unexpected System Errors


        When the diagnostic is run with a terminal, an unexpected  system error
        will  cause the  monitor to  display an  error message  and  prompt for
        another  command.   If  the  error  occurs  while  no  test  section is
        executing, the test and section portions of the error code  (xxyy) will
        be  0000.  If  the  diagnostic is  being  run without  a  terminal, the
        default tests are automatically restarted.

        Unexpected system errors have the following error codes:

                xxyyF2  Illegal instruction interrupt

                xxyyF5  Unexpected MAC interrupt

                xxyyF9  Unexpected trace interrupt

        The following error messages may also be generated:

           ILLEGAL PROGRAM TERMINATION - A program or hardware error
                                         occurred that does not
                                         allow the Diagnostic to run

           UNEXPECTED I/O INTERRUPT OCCURRED - An unexpected I/O
                                               device interrupted.

           INVALID TEST SELECTED - An attempt was made to run a
                                   nonexistent test.

           UNEXPECTED SVC EXECUTED - An unexpected SVC instruction
                                     Supervisor Call) was executed.

           UNEXPECTED MACHINE MALFUNCTION INTERRUPT - An unexpected machine
                                                      malfunction interrupt
                                                      occurred, caused by
                                                      one of the following:

             o  Recovery from a power failure (same as cold start)

             o  Pressing the front console INI key (which simulates a
                power-fail condition)

             o  A memory parity error

             o  Depressing the SYSCLR switch on the CPU board








        88                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                       10.2  Test 1, Signalling Test Error Codes

        Error
        Number                           Cause

        010101       Read Status command is not completed within
                     a specified time.

        010102       CTS or DSR signal is not reset.

        010103       Read Status command is not completed within
                     a specified time.

        010104       CTS signal is not set.

        010105       Read Status command is not completed within
                     a specified time.

        010106       DSR signal is not set.

        010107       Read Status command is not completed within
                     a specified time.

        010108       CTS or/and DSR signal(s) is/are not set.






























        89                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                 10.3  Test 2, HDLC Channel Features Test Error Codes

        Error
        Number                           Cause

        020101       Read Status command is not completed within
                     a specified time.

        020102       Output HDLC record completion error

        020103       Output HDLC record completion error

        020104       Read Status command is not completed within
                     a specified time.

        020105       CRC error

        021006       Byte count error ( 1st frame )

        021007       Data pattern error ( 1st frame )

        021008       Byte count error ( 2nd frame )

        021009       Data pattern error ( 2nd frame )

        021010       Byte count error ( 3rd frame )

        021011       Data pattern error ( 3rd frame )

        021012       Byte count error ( 4th frame )

        021013       Data pattern error ( 4th frame )

        021014       Byte count error ( 5th frame )

        021015       Data pattern error ( 5th frame )

        021016       Output HDLC record completion error
















        90                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


               10.4  Test 3, SYNC I/O Emulation Status Test Error Codes

        Error
        Number                           Cause


        030101    Un-expected SIO interrupt was not generated.

        030102    Un-expected interrupt from other channels.

        030103    Incorrect interrupt code generated.

        030104    SYNC I/O Emulation DCD status error.

        030105    SYNC I/O Emulation CTS status error.

        030106    Un-expected SIO interrupt was not generated.

        030107    Un-expected interrupt from other channels.

        030108    Incorrect interrupt code generated.

        030115    Expected interrupt from transmit address
                  did not generate.

        031125    Expected interrupt from receive address
                  did not generate.

        030120    SYNC I/O emulation DCD status is not restored.

        030121    SYNC I/O Emulation CTS status is not restored.

        030140    Modified output command pair command
                  completion error.

        030150    Incorrect I/O device interrupted.

        030151    Unrecognizable interrupt code generated.

        030160    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        030170    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.










        91                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


              10.5  Test 4, SYNC I/O Emulation Interrupt Test Error Codes

        Error
        Number                           Cause

                                       Section 1

        040101    Expected SIO interrupt was not generated.

        040102    Un-expected interrupt from other channels.

        040103    Incorrect interrupt code generated.

        040115    Expected interrupt from the transmit address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040120    SYNC I/O Emulation DCD status error.

        040121    SYNC I/O Emulation CTS status error.

        040125    Expected interrupt from the receive address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040140    Modified Output Command Pair command
                  completion error.

        040150    Incorrect I/O device interrupted.

        040151    Unrecognizable interrupt code generated.

        040160    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        040170    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.

















        92                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                                       Section 2

        040101    Expected SIO interrupt was not generated.

        040202    Un-expected interrupt from other channels.

        040203    Incorrect interrupt code generated.

        040215    Expected interrupt from the transmit address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040220    SYNC I/O Emulation DCD status error.

        040221    SYNC I/O Emulation CTS status error.

        040225    Expected interrupt from the receive address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040240    Modified Output Command Pair command
                  completion error.

        040250    Incorrect I/O device interrupted.

        040251    Unrecognizable interrupt code generated.

        040260    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        040270    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.






















        93                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                                       Section 3

        040301    Expected SIO interrupt was not generated.

        040302    Un-expected interrupt from other channels.

        040303    Incorrect interrupt code generated.

        040315    Expected interrupt from the transmit address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040320    SYNC I/O Emulation DCD status error.

        040321    SYNC I/O Emulation CTS status error.

        040325    Expected interrupt from the receive address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040340    Modified Output Command Pair command
                  completion error.

        040350    Incorrect I/O device interrupted.

        040351    Unrecognizable interrupt code generated.

        040360    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        040370    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.






















        94                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                                       Section 4

        040401    Expected SIO interrupt was not generated.

        040402    Un-expected interrupt from other channels.

        040403    Incorrect interrupt code generated.

        040415    Expected interrupt from the transmit address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040420    SYNC I/O Emulation DCD status error.

        040421    SYNC I/O Emulation CTS status error.

        040425    Expected interrupt from the receive address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        040440    Modified Output Command Pair command
                  completion error.

        040450    Incorrect I/O device interrupted.

        040451    Unrecognizable interrupt code generated.

        040460    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        040470    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.






















        95                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


             10.6  Test 5, SYNC I/O Emulation Round Trip Test Error Codes

        Error
        Number                           Cause


        050101    Expected SIO interrupt was not generated.

        050102    Un-expected interrupt from other channels.

        050103    Incorrect interrupt code generated.

        050104    All ones found in the input ring buffer.

        050105    All ones (FFFF'x) found in the input ring buffer.

        050106    Data pattern did not match against expected pattern.

        050115    Expected interrupt from the transmit address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        050120    SYNC I/O Emulation DCD status error.

        050121    SYNC I/O Emulation CTS status error.

        050125    Expected interrupt from the receive address
                  of an addressed SYNC I/O Emulation channel
                  is not generated.

        050140    Modified Output Command Pair command
                  completion error.

        050150    Incorrect I/O device interrupted.

        050151    Unrecognizable interrupt code generated.

        050160    Incorrect SYNC I/O emulation pseudo transmit
                  address interrupted.

        050170    Incorrect SYNC I/O emulation pseudo receive
                  address interrupt.












        96                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                       10.7  Test 6, DMA Window Test Error Codes

        Error
        Number                           Cause

                                       Section 1


        060101       Read Status command is not completed within
                     a specified time.

        060102       Output HDLC record completion error

        060103       Read Status command is not completed within
                     a specified time.

        060104       CRC error

        060105       Data pattern did not match against expected pattern



































        97                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


        Error
        Number                      Cause

                                   Section 2


        060201       Read Status command is not completed within
                     a specified time.

        060202       Expected SIO interrupt was not generated.

        060203       Un-expected interrupt from other channels.
                     (Lower limit DMA window error)

        060204       Incorrect interrupt code generated.
                     (Lower limit DMA window error)

        060205       Expected SIO interrupt was not generated.

        060206       Un-expected interrupt from other channels.
                     (Upper limit DMA window error)

        060207       Incorrect interrupt code generated.
                     (Upper limit DMA window error)






























        98                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                   10.8  Test 7, Relocation Command Test Error Codes

        Error
        Number                           Cause
                                   Section 1

        070101       Read Status command is not completed within
                     a specified time.

        070102       Output HDLC record completion error

        070103       Read Status command is not completed within
                     a specified time.

        070104       CRC error

        070105       Data pattern did not match against expected pattern





































        99                    SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


        Error
        Number                           Cause

                                      Section 2


        070201       Read Status command is not completed within
                     a specified time.

        070202       Output HDLC record completion error

        070203       Read Status command is not completed within
                     a specified time.

        070204       CRC error

        070205       Data pattern did not match against expected pattern





































        100                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


        Error
        Number                           Cause

                                      Section 3


        070301       Read Status command is not completed within
                     a specified time.

        070302       Output HDLC record completion error

        070303       Read Status command is not completed within
                     a specified time.

        070304       CRC error

        070305       Data pattern did not match against expected pattern





































        101                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                       10.9  Test 8, Cross Talk Test Error Codes

        Error
        Number                           Cause

        080101       Read Status command is not completed within
                     a specified time.

        080102       Output HDLC record completion error

        080103       Read Status command is not completed within
                     a specified time.

        080104       CRC error

        080105       Data patterns did not compare against expected
                     data patterns.





































        102                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                10.10  Test 9, ASYNC Channel Features Test Error Codes

        Error
        Number                           Cause

                                      Section  1
        090101       Read Status command is not completed within
                     a specified time.

        090102       Output ASYNC record completion error

        090103       Input to ASYNC completion error
                     (Expected SIO interrupt was not received)

        090104       Output ASYNC record completion error

        090105       Input to ASYNC completion error
                     (Expected SIO interrupt was not received)

        090106       Incorrect channel interrupted.

        090107       Incorrect interrupt code received.

        090108       Incorrect channel interrupted.

        090109       Incorrect interrupt code received.

        090110       Read Status command is not completed within
                     a specified time.

        090111       ASYNC parity error.

        090112       Data pattern did not compare against expected pattern.





















        103                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


        Error
        Number                           Cause

                                      Section  2


        090201       Read Status command is not completed within
                     a specified time.

        090202       Output ASYNC record completion error

        090203       Input to ASYNC completion error
                     (Expected SIO interrupt was not received)

        090204       Incorrect channel interrupt

        090205       Incorrect interrupt code generated

        090206       Read Status command is not completed within
                     a specified time.

        090207       ASYNC parity error.

        090208       Modified command output completion error.

        090209       Read Status command is not completed within
                     a specified time.

        090210       BREAK sequence not detected.

        090211       Read Status command is not completed within
                     a specified time.

        090212       BREAK sequence detected.

        090213       Input to ASYNC record completion error.

        090214       Incorrect channel interrupted.

        090215       Incorrect interrupted code received.

        090216       BREAK character not received.












        104                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


                     10.11  Test 10, ASYNC Block Test Error Codes

        Error
        Number                  Cause

        0A0101      Read Status command is not completed within a
                    specified time.

        0A0102      Output ASYNC record completion error.

        0A0103      Input ASYNC completion error
                    (Expected SIO interrupt was not received).

        0A0104      Output ASYNC record completion error (2nd output buffer).

        0A0105      Input ASYNC completion error
                    (Expected SIO interrupt was not received).

        0A0106      Output ASYNC record completion error (3rd output buffer).

        0A0107      Input ASYNC completion error
                    (Expected SIO interrupt was not received).

        0A0108      Output ASYNC record completion error (4th output buffer).

        0A0109      Input ASYNC completion error
                    (Expected SIO interrupt was not received).

        0A0110      Incorrect channel interrupted.

        0A0111      Incorrect interrupt code received.

        0A0112      Incorrect channel interrupted.

        0A0113      Incorrect interrupt code received.

        0A0114      Incorrect channel interrupted.

        0A0115      Incorrect interrupt code received.

        0A0116      Incorrect channel interrupted.

        0A0117      Incorrect interrupt code received.

        0A0118      Read Status command is not completed within a
                    specified time.

        0A0119      ASYNC parity error.

        0A0120      Incorrect byte count received.

        0A0121      Incorrect data pattern received (odd byte).


        105                   SIO Diagnostic User's Guide                DSIO04
        ERROR DESCRIPTIONS                                        July 23, 1990


        0A0122      Incorrect data pattern received (even byte).

        0A0123      Incorrect byte count received (2nd output buffer).

        0A0124      Incorrect data pattern received (odd byte).

        0A0125      Incorrect data pattern received (even byte.

        0A0126      Incorrect byte count received (3rd output buffer).

        0A0127      Incorrect data pattern received (odd byte).

        0A0128      Incorrect data pattern received (even byte).

        0A0129      Incorrect byte count received (4th output buffer).

        0A0130      Incorrect data pattern received (odd byte).

        0A0131      Incorrect data pattern received (even byte).



































        106                   SIO Diagnostic User's Guide                DSIO04
                                                                  July 23, 1990



























                      *   ****  ****  ***** *   * ****  ***** *   *
                     * *  *   * *   * *     **  * *   *   *    * * 
                    ***** ****  ****  ****  * * * *   *   *     *  
                    *   * *     *     *     *  ** *   *   *    * * 
                    *   * *     *     ***** *   * ****  ***** *   *
























        107                   SIO Diagnostic User's Guide                DSIO04
        COMMAND SYNTAX                                            July 23, 1990






                             APPENDIX I.   COMMAND SYNTAX





        COMMAND SYNTAX                   FUNCTION

        ADDT xx[yy],...                  adds tests or test sections
                                         default:  yy (all sections)

        BELL                             sounds bell on error message
                                         display

        BOOT                             load engine boot

        BRKP [xx,yyyyy],...              sets 1 to 16 breakpoints

             default:  lists current
                       breakpoints


        control-a                        deletes previous character

        control-q                        cancels command entry

        control-w                        deletes previous word

        DELT xx[yy],...                  deletes tests or sections

             default:  yy (all sections)

        DOC                              Display source of the current
                                         user's guide

        ECON [x],[y],[n]                 controls  error  handling  by  the
                                         monitor
             defaults:  x = 0
                        n = 0

        escape key <esc>                 return to monitor prompt

        EXA  addr, n  halfwords          display memory

        GO addr                          execute from address

        HELP                             displays list of valid commands

        LOOP [n]                         sets number of iterations executed

        108                   SIO Diagnostic User's Guide                DSIO04
        COMMAND SYNTAX                                            July 23, 1990


                                         by the RUN command

             default:  gives current
                       loop value

        MESG x                           controls diagnostic messages

        MOD addr, n halfwords,data       modify memory

        NAME                             print test titles

        NOBE                             sound no bell on error message

        NOSP                             do not suppress error message

        OPTN                             display diagnostic options

        RUN                              executes selected tests or test
                                         sections

        SELT                             user defined parameters

        SPRS                             suppress error message

        STAT                             print last error message





























        109                   SIO Diagnostic User's Guide                DSIO04
        DEDICATED MEMORY ALLOCATION                               July 23, 1990






                      APPENDIX II.   DEDICATED MEMORY ALLOCATION



        The  first  96KB of  memory  contains  the code  for  the  program This
        diagnostic uses the following dedicated memory allocations:


        Label     Address                    Contents

                  A00      Starting address, terminal connected to
                           the terminal interface.

                  A04      Alternate starting address, terminal not
                           connected to the terminal interface.

        CURSEC    C1C      The number of the test section currently
                           running (1 byte).

        CURTST    C1D      The number of the test currently running
                           (1 byte).

        EBUF01    C1E      The error code of the last error for which
                           error information was displayed on the
                           terminal (6 bytes).

        EBUF02    C24      The error count at the time the last error
                           occurred (1 fullword).

        EBUF03    C28      The pass count at the time the last error
                           occurred (1 fullword).

        EBUF04    C2C      The data read at the time the last error
                           occurred (2 fullwords).

        EBUF05    C34      The data expected at the time the last error
                           occurred (2 fullwords).

        EBUF06    C3C      The device address at the time the last error
                           occurred (1 fullword).

        EBUF07    C40      The device status at the time the last error
                           occurred (1 fullword).

        EBUF08    C44      The read buffer address at the time the
                           last error occurred (6 bytes).

        EBUF09    C4A      The write buffer address at the time the
                           last error occurred (6 bytes).

        110                   SIO Diagnostic User's Guide                DSIO04
        DEDICATED MEMORY ALLOCATION                               July 23, 1990


        EBUF10    C50      The read and write buffer length in bytes
                           at the time the last error occurred (6 bytes).

        EBUF11    C56      The offset from the start of
                           the buffer to where the first bad data was
                           found (6 bytes).

        EBUF12    C5E      The OTHER TEXT field at the time the last
                           error occurred (hexadecimal format, 102 bytes).

        ECOUNT    D60      The current error count, which is set to
                           zero each time that a RUN command is executed
                           (1 fullword).

        ERRCNT    D64      The current option selected for control
                           of the error message format (1 halfword).

        ERROPT    D66      The current option selected for specifying
                           what action will be taken when an error is
                           detected (1 halfword).

        FORCE     D68      The current value of force error message
                           option: 0 = do not force error messages,
                           1 = force error message 1 byte, not
                           yet implemented).

        LOPOPT    D6A      The current value of the Loop command
                           (1 halfword).

        MACTYP    D6C      The type of MAC in the system, 1 = MAC I,
                           2 = MAC II, 3 = MAC III, 4 = TSI MAC and
                           6 = MAC V (1 byte).

        MAP       D70      The amount of memory available to the system,
                           one bit is set for each 32K bytes of memory
                           (4 fullwords).

        MSGDEV    D80      The current value of the message device option:
                           <0 = use only line printer, 0 = use only
                           terminal, >0 = use both terminal and line
                           printer (1 halfword, not yet implemented).

        MSGFLG    D82      The current option selected for indicating
                           which types of messages will be displayed
                           on the terminal (1 halfword).

        PCOUNT    D84      The current pass count, which is set to zero
                           when the RUN command is executed (1 fullword).

        SECADR    D88      The starting address of the test section being
                           executed.  If no section is being executed,
                           it contains the starting address of the last
                           section executed (1 fullword).

        111                   SIO Diagnostic User's Guide                DSIO04
        DEDICATED MEMORY ALLOCATION                               July 23, 1990


        TERADD    D8C      The terminal device address (1 byte).

        TERFLG    D8D      The terminal available flag:
                           0 = terminal not available,
                           1 = terminal available,
                           set by the start address (1 byte).

        TERRED    D90      The Read command of the terminal (1 byte).

        TERWRT    D91      The Write command of the terminal (1 byte).

        TEST      D92      A table indicating which tests are selected
                           and the section number of the first section
                           in each test (20 halfwords).

        TRCADR    DD4      The address of optional trace interrupt
                           routine if TRCOPT = 1 (1 fullword, not
                           implemented).

        TRCOPT    DD8      The trace option flag:  0 = trace interrupts
                           disabled, 1 = trace interrupts enabled
                           (1 byte, not yet implemented).

        TYPENG    DD9      The type of Engine the program is running on:
                           0 = UNKNOWN, 1 = NORMAL (Engine or Mini-Engine)
                           , 2 = MICRO, 3 = HDLC Micro-Engine and 4 =
                           TSI Controller (1 byte).

        LASTCL    DDC      Last channel number for running default tests
                           with console only mode on Engine.

        SIOADD    DDE      SIO motherboard address for running default
                           tests with console only mode on Engine.

        CMDTBL    DE0      The name of each command and the starting
                           address of the routine for that command.


















        112                   SIO Diagnostic User's Guide                DSIO04

  &ZX}s