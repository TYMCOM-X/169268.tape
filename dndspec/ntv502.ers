



















                  Netval External Reference Specification

                            Netval Version 5.02
                             NVDM Version 5.02

                              July 12, 1988 







                                       Tymnet

                            Network Technology Division




        
         ^                                                                ^
         ^   MDC-Tymnet's proprietary rights are included in the infor-   ^
         ^   mation disclosed herein.  The recipient, by receiving this   ^
         ^   document,  agrees  that  neither  this  document  nor  the   ^
         ^   information disclosed herein nor any part thereof shall be   ^
         ^   reproduced or  transferred to other  documents or  used or   ^
         ^   disclosed to  others for  manufacturing or  for any  other   ^
         ^   purpose except  as specifically  authorized in  writing by   ^
         ^   MDC-Tymnet.                                                  ^
         ^                                                                ^
         ^                                                                ^






                          CONTENTS


 1.  Document Overview  		       			 1

 2.  Netval Concepts  		       				 2

 3.  CUD MUD Contents  		       				 6

 4.  Configuration Parameters  		      		        15
     4.1    BEFORE_SUP_V43  		      		        15
     4.2    Force Password Change  		      	        16
            4.2.1    Define MINIMUM_GANPASS_PERIOD  	        16
            4.2.2    Define MAXIMUM_GANPASS_PERIOD  	        17
     4.3    Global Password Only Login  		        17
            4.3.1    Defining Global Password Only Login Name   17
            4.3.2    Defining Global Password Only Limits       18
            4.3.3    Defining GPO Attempt Max  		        18
            4.3.4    Defining GPO Timeout  		        18
     4.4    Defining Passtable Size  		      	        19
     4.5    Logical Volumes  		      	      	        19
     4.6    No Self Password Change  		      	        21
     4.7    REFORMAT Command  		      	      	        21
     4.8    Validate X.25 Names  		      	        22

 5.  Command Information  		      		        25
     5.1    Command Format  		      		        25
     5.2    Command Syntax  		      		        26
     5.3    Value Formats  		      		        26
            5.3.1    Usernames  		                26
            5.3.2    Lists  		                        27
            5.3.3    Control Options  		                27
            5.3.4    Access Entries  		      	        29
 6.  Password Only Validators  		      		        32
     6.1    GPO and FPC Users  		      		        35
     6.2    Use GPO to Check Password Information  	        35
     6.3    Use GPO to Perform Password Change  	        35
     6.4    GPO and Non FPC Users  		      	        36
     6.5    Use GPO to Check Password Information  	        36
     6.6    Use GPO to Perform Password Change  	        36

 7.  AUDITOR  		      				        37












				i











 8.  OPERATOR Commands  		     		        38
     8.1    ARCHIVE Command  		     		        39
     8.2    CLEAR Command  		     		        39
            8.2.1    CLEAR CONSISTENCY  		        40
            8.2.2    CLEAR GANPASS  		      	        41
            8.2.3    CLEAR GPOGAN  		     	        42
            8.2.4    CLEAR PASSCHANGER  		        43
     8.3    CONSISTENCY Command  		     	        43
     8.4    COPY Command  		     	                45
     8.5    DISPLAY Command  		     		        46
            8.5.1    DISPLAY FILTER Command  		        46
            8.5.2    DISPLAY PARAMETERS Command  	        47
            8.5.3    DISPLAY UPDATES Command  		        47
            8.5.4    DISPLAY VOLUMES  		     	        51
     8.6    HOST Command  		     	      	        52
            8.6.1    HOST SHUT Command  		        52
            8.6.2    HOST STATUS Command  		        53
            8.6.3    HOST UP Command  		                53
            8.6.4    Filter Command  		                54
            8.6.5    MESSAGE Command  		                64
            8.6.6    SCHEDULE Command  		                65
            8.6.7    SET Command  		                67
            8.6.8    STATISTICS Command  		        69
            8.6.9    STOP Command  		     	        70
     8.7    Archive Sub System  		     	        71
            8.7.1    ASSIGN Command  		     	        73
            8.7.2    ATTACH Command  		     	        73
            8.7.3    DEASSIGN Command  		     	        74
            8.7.4    DETACH Command  		     	        74
            8.7.5    DISPLAY Command  		     	        74
            8.7.6    DUMP Command  		     	        76
            8.7.7    RETURN Command  		     	        77
            8.7.8    REWIND Command  		     	        77
            8.7.9    STORE Command  		     	        78














                            ii 











 9.  Account Supervisor Commands  		     	        80
     9.1    CHANGE Command  		     	      	        80
            9.1.1    CHANGE ACCESS Command  		        80
            9.1.2    CHANGE CONTROL Command  		        85
            9.1.3    CHANGE DISTRICT Command  		        87
            9.1.4    CHANGE NAME Command  		        88
            9.1.5    CHANGE PASSWORD Command  		        89
            9.1.6    CHANGE UUN Command  		        90
     9.2    CHECK Command  		                        90
     9.3    DATE Command  		                        91
     9.4    DELETE Command  		                        91
            9.4.1    DELETE ACCESS Command  		        91
            9.4.2    DELETE USER Command  		        92
     9.5    DISPLAY Command  		                        93
            9.5.1    DISPLAY CLASS Command  		        93
            9.5.2    DISPLAY DIRECTORY Command  		94
            9.5.3    DISPLAY GANPASS  		    	       100
            9.5.4    DISPLAY GANPASS with Empty Passtable      101
            9.5.5    DISPLAY Undefined GANPASS  	       102
            9.5.6    DISPLAY GPOGAN  		               103
            9.5.7    DISPLAY GROUP Command  		       104
            9.5.8    DISPLAY HOSTLIST Command  		       104
            9.5.9    DISPLAY HOSTLIST DESCRIPTIONS Command     105
            9.5.10   DISPLAY HOSTLIST NAMES Command  	       106
            9.5.11   DISPLAY NODELIST Command  		       106
            9.5.12   DISPLAY NODELIST DESCRIPTIONS Command     107
            9.5.13   DISPLAY NODELIST NAMES Command  	       107
            9.5.14   DISPLAY SELECT Command  		       108
            9.5.15   DISPLAY USER Command  		       109
     9.6    HELP Command  		                       113
     9.7    NEW Command  		                       114
            9.7.1    NEW ACCESS Command  		       114
            9.7.2    NEW USER Command  		               119
     9.8    QUIT Command  		                       126
     9.9    SELECT Command  		                       126
            9.9.1    SELECT ALL Command  		       127
            9.9.2    SELECT ACCESS Command  		       127
            9.9.3    SELECT CONTROL Command  		       130
            9.9.4    SELECT DISTRICT Command  		       133
            9.9.5    SELECT ENTRYDATE Command  		       134
            9.9.6    SELECT PASSWORDDATE Command  	       135
            9.9.7    SELECT UUN Command  		       137
     9.10   VERSION Command  		                       138





				iii











10.  Network Administrator Commands  		               139
     10.1   CHANGE Command  		                       139
            10.1.1   CHANGE CLASS Command  		       139
            10.1.3   CHANGE GAN Command  		       143
            10.1.4   CHANGE GROUP Command  		       144
            10.1.5   CHANGE HOSTLIST Command  		       146
            10.1.6   CHANGE HOSTLIST DESCRIPTION Command       148
            10.1.7   CHANGE NODELIST Command  		       149
            10.1.8   CHANGE NODELIST DESCRIPTION Command       151
     10.2   DELETE Command  		    		       152
            10.2.1   DELETE DNIC Command  		       152
            10.2.2   DELETE HOSTLIST Command  		       153
            10.2.3   DELETE NODELIST Command  		       154
     10.3   DISPLAY DNIC Command  		               154
     10.4   NEW Command  		                       156
            10.4.1   NEW DNIC Command  		               156
	    10.4.2   NEW HOSTLIST Command  		       158
            10.4.3   NEW NODELIST Command  		       159
     10.5   READ Command  		    		       160
            10.5.1   READ DNIC Command  		       161
            10.5.2   READ TABLE Command  		       163
            10.5.3   SELECT GAN Command  		       164
     10.6   SEND Command  		                       165
            10.6.1   SEND DNIC Command  		       165
            10.6.2   SEND TABLE Command  		       166
     10.7   SET GANPASS Command  		               167
     10.8   SET GPOGAN Command  		               169

11.  Pro gram mer Commands  		    		       171
     11.1   CHANGE CUD Command  		    	       171
     11.2   COMPARE Command  		    		       172
     11.3   DISPLAY Command  		    		       172
     11.4   GET Command  		    		       174
     11.5   READ Command  		    		       174
     11.6   UNLOCK Command  		    		       175
     11.7   WRITE Command  		    		       175












				iv











12.  Disk Maintenance Commands  		    	       177
     12.1   ARCHIVE Command  		    		       179
     12.2   CHECK Command  		    		       180
     12.3   COMPARE Command  		    		       181
     12.4   CONSISTENCY Command  		    	       182
     12.5   DATE Command  		    		       184
     12.6   COPY Command  		    		       184
     12.7   DISPLAY Command  		    		       185
            12.7.1   DISPLAY CONFIG Command  		       186
            12.7.2   DISPLAY PAGE Command  		       188
            12.7.3   DISPLAY VOLUMES Command  		       189
     12.8   HELP Command  		    		       190
     12.9   INITIALIZE Command  		    	       191
            12.9.1   INITIALIZE ALL Command  		       191
            12.9.2   INITIALIZE CONFIG Command  	       192
            12.9.3   INITIALIZE CUD Command  		       193
            12.9.4   INITIALIZE OPER LOG Command  	       193
            12.9.5   INITIALIZE DNIC Command  		       194
            12.9.6   INITIALIZE MUDUPDATE Command  	       194
            12.9.7   INITIALIZE NODE Command  		       195
            12.9.8   INITIALIZE PARAMETERS Command  	       195
            12.9.9   INITIALIZE PASSTABLE  		       196
            12.9.10  INITIALIZE SCHEDTABLE  		       196
     12.10  QUIT Command  		                       197
     12.11  REGENERATE Command  		               197
            12.11.1  REGENERATE CUD Command  		       198
            12.11.2  REGENERATE PARAMETERS Command  	       198
     12.12  STATISTICS Command  		               199
     12.13  VERSION Command  		                       199
     12.14  Archive Sub System  		    	       200
            12.14.1  ATTACH Command  		    	       201
            12.14.2  DETACH Command  		    	       201
            12.14.3  DISPLAY Command  		    	       202
            12.14.4  RESTORE Command  		    	       202
            12.14.5  RETURN Command  		    	       205
            12.14.6  REWIND Command  		    	       205












				v











13.  Netval Error Messages  		    	               207
     13.1   Login Error Messages  		               207
     13.2   Validation Errors  		    	               207
     13.3   Command Error Messages  		    	       216
     13.4   Device Messages  		    	     	       217
     13.5   Circuit Build Error Messages  		       218
     13.6   Operator Log Errors  		               221

14.  Netval Disk File Formats  		                       222
     14.1   CUD File Format  		                       222
     14.2   CUD Parameter File Format  		               230
     14.3   Configuration File  		               231
     14.4   Node Host File  		                       236
     14.5   Class/Group Table  		                       241
     14.6   Operator Log File Format  		               243
     14.7   MUD Update File  		                       245
     14.8   DNIC Files  		                       250
     14.9   PASSTABLE File  		                       253
     14.10  SCHEDTABLE File  		                       255

15.  Netval Archive Tape Format  		               257
     15.1   General Description  		               257
     15.2   Record Descriptions  		               259

16.  ASCII Dump Tape Format Description  		       265
     16.1   General Description  		               265
     16.2   Record Description  		               265





















                           	vi











                      1.  Document Overview

Netval is a multiple-user system that provides network validation
functions, including user validation and various administrative
operations.  This manual describes the NETVAL commands for all
levels of users.

The second Section explains some general Netval concepts.

The third Section describes the CUD/MUD contents.

The fourth Section describes some Netval configuration parame-
ters.

The fifth Section is a discussion of the Netval command syntax
and value formats.

The sixth Section describes the procedure for validators who may
only change their own password.

The seventh Section describes additional functions available to
auditor validators.

The eighth Section describes commands available for validators
who are also operators, including archive sub-system commands.

The ninth Section describes Account Supervisor commands.

The tenth Section describes Network Administrator commands.

The eleventh Section describes Programmer commands.

The twelfth Section describes Netval Disk Maintenance (NVDM) pro-
gram commands.

The thirteenth Section describes Netval error messages.

The fourteenth Section describes the format of the Netval disk.

The fifteenth Section describes the format of the Netval Archive
tape.







                        Document Overview                  Page 1-1







Netval External Reference Specification             July 12, 1988



                       2.  Netval Concepts

The CUD, or Controlling User Directory, is a file which contains
an entry for each valid user in the network.  When changes are
made via Netval, they are made directly to the CUD file.  A
record of each change is also appended to the MUDUPDATE file.

Each Supervisor in the network has its own copy of the CUD on its
disk, referred to as the MUD, or Master User Directory.  In order
for the Supervisors to be accessing up-to-date data, Netval uses
the information in the MUDUPDATE file to notify each Supervisor
of all the CUD changes.  There is an automatic process for each
Supervisor that notices CUD changes, and notifies the appropriate
Supervisor of the change.



USER refers to a valid username in the network.  Some networks
also group users into accounts according to a GAN, or Global
Account Number.



A VALIDATOR is a person or program that logs in to Netval to per-
form a validation function.

Users may use Netval to change their own password if they have:


     - the IGNORE DESTINATION option off; if the IGNORE DESTINA-
       TION option is on, the user must have the Netval host
       specifically included in their access profile
     - the NO PASSWORD option off
     - access to Netval in their access profile

A validator is an ACCOUNT SUPERVISOR if the CUD entry for the
validator has the account supervisor license set.  Account super-
visors may change CUD entry information for all users in their
account, i.e., users with the same Global Account Number or GAN.

Validators with NETWORK ADMINISTRATOR license in their CUD entry
may, in addition to being able to perform all validation func-
tions for users in any GAN, change the GAN of a user, assign a
user network administrator license, and perform various Netval
utility functions.  The utility functions include archiving



                         Netval Concepts                  Page 2-2







Netval External Reference Specification             July 12, 1988



files, defining class and group definitions, initiating system
check functions, etc.

Validators who login in under a special name defined in the Net-
val configuration file (default is "NETPRIV"), are considered to
have PROGRAMMER license, and may, in addition to the above, per-
form actual reads and writes to the CUD and Supervisor MUDs.


The above describes validation licenses, i.e.,


        - password only validators (may only modify their own
          password)
        - account supervisor validators (may modify users in
          their own account)
        - network administrator validators (may modify any users
          plus perform system utility functions)
        - programmer validators (may perform all available func-
          tions)


AUDITOR license is available with version 2.02 and later; audi-
tors may READ any user's CUD entry, but may only make modifica-
tions according to their validation license (as listed above).  A
password only validator with auditor license may display informa-
tion about any users CUD entry, but may only change their own
password (with the CHANGE PASSWORD command); an account supervi-
sor validator with auditor license may display information about
any users CUD entry, but may only change users in their own GAN;
network administrator and programmer validators may already
display information about any users, so auditor license is mean-
ingless for those types of users.

OPERATOR license is able with version 2.02 and later; in
addition to the commands available according to their validation
license, operators may execute commands to control the operation
of Netval, including all ARCHIVE commands.  A password only vali-
dator with operator license may change their own password with
the CHANGE PASSWORD command.  Network administrators and program-
mer validators automatically have operator license.



There is a Class and Group table on Netval's disk and on each



                         Netval Concepts                  Page 2-3







Netval External Reference Specification             July 12, 1988



Supervisor host, which describes the system classes and groups
(refer to Network and Supervisor documentation and Section 3 for
further information on classes and groups).

Netval uses named lists of hosts and nodes (referred to as host-
lists and nodelists, respectively) to describe classes and
groups.  Lists are described by a name, an optional description,
and a list of values.  List names are a string of alphanumeric
characters with no embedded spaces; the underline character ("_")
may be used to enhance readability, for example:

                        SOUTH_TEXAS_NODES

If Netval is compiled with the configuration flag
INCLUDE_LIST_DESCRIPTIONS enabled, Netval node and host lists
will include list descriptions.  List descriptions are a string
of any alphanumeric characters, for example:

                        ALL HOUSTON NODES

List values for hostlists and nodelists are host numbers and node
numbers respectively.

There are commands to modify classes, groups, hostlists and
nodelists, but  the  Class and Group table is  NOT AFFECTED
UNTIL THE SEND TABLE COMMAND (Section 10.6.2) IS EXECUTED.  There
is an automatic process which transmits the Netval Class and
Group table, (once "SENT") to any Supervisor that has an out-of-
date table.



Normally, Netval updates all Supervisors with CUD change informa-
tion.  However, in order to insure the integrity of the MUDs,
Netval may be used to perform a complete check (referred to as
"consistency") of all CUD and MUD data.  A CONSISTENCY check may
be performed, automatically, once per day, or by user command;
the consistency compares the checksum of each CUD block against
the checksum of each MUD block, and overwrites any mismatched MUD
block.

The automatic consistency is run during a specified period only.
The period is defined by a start time of day and stop time of
day.  The consistency may not run concurrently with MUD updates.
During the defined period, if there are no pending MUD updates



                         Netval Concepts                  Page 2-4







Netval External Reference Specification             July 12, 1988



for a Supervisor, Netval periodically attempts to start the
automatic consistency.  If it fails, Netval will keep trying
until the end of the defined period.  If a "manual" consistency
has been run (one that has been initiated by command), the
automatic consistency will not also run during the same day.

Netval includes commands to define and display the schedule for
the running of the automatic consistency, and to display informa-
tion about current and previous runs of the consistency.



There is a LOG file, (OPERATOR LOG) in which is recorded, all
login's, logout's, and significant Netval events.  Netval
includes a command to list information from the LOG file.  If
Netval is compiled with the configuration flag
CHANGES_TO_OPER_LOG enabled, information about the specific CUD
changes made will also be recorded in the log.



If the configuration parameter LOGICAL_VOLUMES is enabled, Netval
maintains two copies of all the Netval files; two disk drives are
required to use this option.
























                         Netval Concepts                  Page 2-5







Netval External Reference Specification             July 12, 1988



                     3.  CUD - MUD Contents


This Section describes the contents of the MUD (Master User
Directory, residing on Supervisor disks) and the CUD (Controlling
User Directory), which is located on NETVAL's disk.

Refer to Supervisor and Network documentation for a more complete
explanation of the use of classes, groups, and users's access
profiles.

A CLASS is a system defined set of originating hosts and/or ori-
ginating nodes, which are used to define the locations from which
a user may access the network.  An EXCEPTION CLASS, or negative
class, represents a set of hosts or nodes from which the user may
NOT access the network.  In this document, CLASS refers to both
regular classes and exception classes.  The number of system
defined classes is established when the system is generated.  In
the class (or exception class), hosts are stored before nodes.
Class 0 is the universal class, i.e., all hosts and nodes may be
used for access.

A GROUP is a system defined set of host numbers.  Groups are used
to define the set of hosts to which a user may build a circuit.
An EXCEPTION GROUP, or negative group, represents a set of desti-
nation host numbers that a user may NOT access.  In this docu-
ment, GROUP refers to both regular groups and exception groups.
The number of groups is established when the system is generated.
Group 0 is the universal group, i.e., all hosts are valid desti-
nations.

A HOSTLIST is a named list of host numbers, defined by the net-
work administrator for ease of reference, (the Supervisors know
nothing about hostlists).  Hostlists are used in class and group
definitions.  NETVAL includes options to sort the lists, either
for display purposes, or for use in class and group definitions.
Sorted lists are significant in the way that the Supervisor
checks a user's access in the network.

A NODELIST is a named list of node numbers, defined by the net-
work administrator for ease of reference (the Supervisors know
nothing about nodelists).  Nodelists are used in class defini-
tions.  NETVAL includes options to sort the lists, either for
display purposes, or for use in class definitions.  Sorted lists
are significant in the way that the Supervisor checks a user's



                       CUD - MUD Contents                  Page 3-6







Netval External Reference Specification             July 12, 1988



access to the network.  The supervisor's MUD entry when NETVAL is
configured with BEFORE_SUP_V43 enabled is identical to the CUD
entry.  A CUD entry for MUD II type, consists of the user's MUD
entry and the user's NUD entry.  For MUD II type, the data stored
in the NUD entry is not copied to the supervisor's MUD.


A CUD (MUD and NUD, if MUD II) ENTRY may consist of:


USERNAME
     A username may be up to 20 characters.  The acceptable char-
     acters consist of:

        - all alpha-numeric characters
        - the characters:  # $ * & , . - /
        - if MUD I a <space> may also be included
     Please note the following:

        - the dash "-" is ignored on auxilliary circuits
        - the dash "-" for MUD II has significant meaning, use
          with caution
        - the comma "," is used as a field separator in CCITT
          protocol and should not be included in usernames that
          will be used through X gateways



ENTRY CHANGE DATE
The entry change date is the date that the entry was last changed
(except for a password change), and may not be modified directly.
For MUD II, the entry change date is stored in the NUD entry.



PASSWORD CIPHER
The password may be up to 30 characters.  Any character other
than a semicolon, null, rub-out, escape, or carriage return may
be used within a password.  All lower case characters are
translated to upper case.  Note that commas ",", plus signs "+",
colons ":", and control characters are used in CCITT protocol and
should not be included in passwords that will be used through X
gateways.





                       CUD - MUD Contents                  Page 3-7







Netval External Reference Specification             July 12, 1988



PASSWORD CANCELATION DATE - optional by network
The password cancelation date is only available for MUD II.  The
password cancelation date is a field reserved in the MUD entry
for entry type 1 only, but is not currently used.  MUD entry type
0 never contains the password cancelation date field.



PASSWORD CHANGE DATE
The password change date is the date that the password was last
changed, and may not be modified directly.  Note that the pass-
word change date is not updated unless the password is changed to
a NEW value.  A change in the NO PASSWORD option (below) also
causes a change to the password change date.  For MUD II, the
password change date is stored in the NUD entry.



USERNAME FLAG
If the username flag is 1, the MUD entry is a username entry.



UNIVERSAL USER NUMBER (UUN)
The UUN is a number in the range 0 to 37777777777 (octal) which
uniquely identifies a user.  The UUN for an entry can never
change.



GLOBAL ACCOUNT NUMBER (GAN) - optional
The GAN is a number in the range 0 to 37777777777 (octal) and is
used to group users together under a single account.  For MUD II,
the GAN is stored in the NUD entry.



CONTROL OPTIONS










                       CUD - MUD Contents                  Page 3-8







Netval External Reference Specification             July 12, 1988



  ACCOUNT SUPERVISOR - optional
  Account supervisor license specifies that the user may perform
  validation changes to users in its own GAN.  For MUD II, the
  account supervisor license is stored in the NUD control word in
  the NUD entry.  The NUD control word is not copied to the
  supervisor and is only used by NETVAL.



  AUDITOR
  If the auditor option is ON, the user may display CUD informa-
  tion about any user.  For MUD II, the account supervisor
  license is stored in the NUD control word in the NUD entry.
  The NUD control word is not copied to the supervisor and is
  only used by NETVAL.



  AUX PASSWORD REQUIRED
  For MUD II the aux password required option is included, this
  option is not in the CUD or MUD for supervisor versions prior
  to 43.  If the auxiliary password required option is ON, the
  user must enter a password when building an auxiliary circuit
  ot this name.



  DESTINATION_NAME FLAG
  For MUD II the destination entry name option is included, this
  option is not in the CUD or MUD for versions prior to 43.  If
  the destination name flag is 1, the MUD entry is a destination
  name.




  IGNORE DESTINATION
  If the ignore destination is ON, any destination entered when
  building a circuit is ignored, i.e., the home information (in
  access profile below) specifies the default destination.  An
  exception to this is if the user also has the TRANSPARENT LOGIN
  (see below) option set.  If a TARGET PROFILE name is used (see
  Supervisor documentation), the ignore host option is, itself,
  ignored.




                       CUD - MUD Contents                  Page 3-9







Netval External Reference Specification             July 12, 1988



  NETWORK ADMINISTRATOR
  Network administrator license specifies that the validator may
  perform validation changes to users in any GAN, and various
  NETVAL utility functions.  For MUD II, the network administra-
  tor license is stored in the NUD control word in the NUD entry.
  The NUD control word is not copied to the supervisor and is
  only used by NETVAL.



  NO PASSWORD
  If the no password option is ON, the user is not required to
  input a password when logging in.  This option forces the
  ignore destination option (this may change).



  OPERATOR
  If the operator option is ON, the user may perform NETVAL
  operational and tape archive functions.  For MUD II, the net-
  work administrator license is stored in the NUD control word in
  the NUD entry.  The NUD control word is not copied to the
  supervisor and is only used by NETVAL.



  SHUT OVERRIDE
  If the shut override option is ON, the user may access a host
  even if it is shut.  For MUD I, the shut override option
  applies to the entire user and applies to all hosts which the
  user has access to.  For MUD II, the shut override option is
  contained in each access profile entry and only pertains to
  host destinations in that access profile entry.



  TRANSPARENT LOGIN
  If the transparent login option is ON, when the user logs in,
  the circuit is built through the home, which has been set up to
  be a gateway, and the login continues in the other network.
  The username, any destination input and possibly a password is
  passed to be the login string to the other network.






                       CUD - MUD Contents                  Page 3-10







Netval External Reference Specification             July 12, 1988



DISTRICT - optional
The district, a number in the range 1 - 4095, is another way to
group users.  For MUD II, the district is stored in the NUD
entry.



HOME
A home is a default termination point for a circuit if no termi-
nation destination is included in the login string or if the user
has the ignore destination option.  Homes are specified in the
access profile, below.  A single host may be a home; a set of
hosts, or a group in an access profile (below) may be homes.
Group 0 and exception groups may not be used as a home.



HOST
A host number is an addressable entity in the network from (or
to) which a circuit can be built.



ACCESS PROFILE
The access profile is used to restrict a user's circuits in the
network.  Network access is restricted by defining one or more
mappings, referred to as ACCESS ENTRIES, which describe the cir-
cuits a user may build in the network.  An access entry includes
a set of locations from which the user may enter the network and,
if entered from one of these locations, the corresponding set of
hosts at which the user's circuit may terminate.  The set of
hosts and nodes from which the user may enter the network are
called the ORIGIN of the access entry.  The set of network hosts
at which a circuit may terminate from each origin, is the DESTI-
NATION of the access entry.













                       CUD - MUD Contents                  Page 3-11







Netval External Reference Specification             July 12, 1988



     ACCESS PROFILE ENTRY CONTROL BITS:  For MUD II, the access
          profile contains an access control word which further
          restricts usage of the access profile entry for access
          to the network.


          AUXILIARY CIRCUIT  Default:  ON

               If the auxiliary circuit option is ON, the user
               may request an auxiliary circuit for a destination
               specified in the access profile entry.

          ALLOW COLLECT CALL AS DESTINATION_NAME
          ALLOW REGULAR CALL AS DESTINATION_NAME
          ALLOW COLLECT CALL AS USERNAME
          ALLOW REGULAR CALL AS USERNAME  Default:  Accept Regu-
               lar Call Only

               The collect call control determines the restric-
               tion on collect calls.  The collect call control
               is set for each access profile entry for use as a
               username and as a destination name.  If accept
               collect call as a username is set, this access
               profile entry is processed for collect calls if
               the entry is used as a username.  If accept col-
               lect call as a destination is set, this access
               profile entry is processed for collect calls if
               the entry is used as a destination.  The collect
               call option may have the following values:

                  - accept collect calls only (receiver pays the
                    charge)
                  - accept regular call only
                  - accept all calls


     DESTINATION_NAME OK  Default:  OFF

          If the destination name ok flag is ON, this APE is pro-
          cessed by the supervisor when the MUD entry is used as
          a destination name during login, otherwise this APE is
          skipped.

     NORMAL CIRCUIT  Default:  ON




                       CUD - MUD Contents                  Page 3-12







Netval External Reference Specification             July 12, 1988



          If the normal circuit option is ON, the user may
          request a normal circuit.


     REQUIRE DESTINATION_NAME  Default:  OFF

          If the require destination name option is ON, circuit
          requests are restricted to use a destination name,
          rather than a host number in the login string.

     SHUT OVERRIDE  Default:  OFF

          If the shut override option is ON, the user may access
          any destination or home host in the access profile
          entry even if it is shut.


     USERNAME OK  Default:  OFF

          If the username O.K. flag is ON, when the MUD entry is
          used as a username the APE will be processed, otherwise
          the APE will be skipped.



     ORIGIN
     The Origin for an access entry is the set of originating
     hosts and/or originating nodes from which the user may enter
     the network.  The origin may be described explicitly by
     individual hosts and/or nodes or may refer to a system
     defined class.  In an explicitly described list, hosts are
     located before nodes.  An explicitly described list may be
     specified to be an EXCEPTION LIST, or negative list, which
     represents hosts and nodes from which the user may NOT enter
     the network.  An explicitly described origin may include up
     to five hosts and/or nodes.












                       CUD - MUD Contents                  Page 3-13







Netval External Reference Specification             July 12, 1988



     DESTINATION
     The destination for an access entry is the set of hosts to
     which a user may build a circuit.  The destination may be
     described by individual hosts and/or system defined groups.
     Each destination may specify up to six hosts or groups (five
     if the origin is explicitly described).



     ACCESS ENTRY POSITION
     Access entry position refers to the placement of the access
     entry in the access profile.  The first access entry is
     referred to as position one, the second access entry is
     referred to as position two, etc.  Refer to Network and/or
     Supervisor documentation for an explanation of placements of
     access entries.  Access entry positions are used in the
     DISPLAY USER, CHANGE ACCESS and DELETE ACCESS commands.































                       CUD - MUD Contents                  Page 3-14







Netval External Reference Specification             July 12, 1988



                  4.  Configuration Parameters

This section describes additional details about some of the con-
figuration parameters for Netval.

The parameters MAXIMUM_ACCESS_ENTRY and
MAXIMUM_ORIGIN_DESTINATION select the structure for the access
profiles of entries in the CUD.  The parameter
MAXIMUM_ACCESS_ENTRY determines the maximum number of access pro-
file entries (i.e. positions) each CUD entry may contain.  The
parameter MAXIMUM_ORIGIN_DESTINATION determines the maximum
number of origin and destinations which may be in each access
profile entry.


4.1  BEFORE_SUP_V43

The flag BEFORE_SUP_V43 determines if NETVAL will maintain a MUD
I type or a MUD II type of CUD.  If BEFORE_SUP_V43 is enabled,
NETVAL will maintain a MUD I type CUD and a supervisor MUD I.  If
BEFORE_SUP_V43 is disabled, NETVAL will maintain a MUD II type
CUD and a supervisor MUD II.  This flag can only be disabled if
the supervisor is version 43 or later and the MUD II/LOG II
option is set on in the supervisor.  This flag must match the
supervisor in order for NETVAL to update the supervisors.  If
BEFORE_SUP_V43 is disabled, the parameter MUD_SUP_VERSION must be
set and must match the version of supervisor code.  When
BEFORE_SUP_V43 is disabled, the parameter NETVAL_CUD_IS_MUD is
not used.

The flag INCLUDE_DNIC provides NETVAL with commands to update a
DNIC table and copy the DNIC table to the supervisors.  If the
flag INCLUDE_DNIC is enabled and BEFORE_SUP_V43 is disabled, NET-
VAL will include the commands to maintain the DNIC tables.

There are several conditional compilation flags which should be
set in the configuration file if BEFORE_SUP_V43 is disabled.
These flags determine which access profile options are to be
entered by the validator and which options are to be set at the
default values.








                    Configuration Parameters                  Page 4-15







Netval External Reference Specification             July 12, 1988



The following conditional compilation flags should be set in the
configuration file before compiling NETVAL 5.00 for supervisor
version 43:

   - REQUEST_AUX_OR_NORMAL_CIRCUIT, if enabled, the access con-
     trol bits for normal and auxiliary circuits will be set by
     the validator, otherwise, the default value (ON) will be
     set.
   - REQUEST_COLLECT_CALL, if enabled, the validator will set the
     collect call as destination name and as username for each
     access profile, otherwise, the default (OFF, regular calls
     only) will always be set.
   - REQUEST_REQUIRE_DESTINATION_NAME, if enabled, the validator
     will set the require destination name control bit for each
     access profile, otherwise, the default value (OFF) will be
     set.
   - REQUEST_USER_DESTINATION_OK, if enabled, the validator will
     set the destination name ok and the username ok for each
     access profile, otherwise, the default (ON) will be set.



4.2  Force Password Change

The conditional compilation flag named FORCE_PASSWORD_CHANGE is
enabled to implement the force paasword change code.

When force password change is enabled the size of Passtable must
also be defined by declaring a value for PASSTABLE_SIZE.

Schedtable size definition is not required because it is always
one (1) sector.

4.2.1  Define_MINIMUM_GANPASS_PERIOD

The minimum password validity period is defined by the setting of
MINIMUM_GANPASS_PERIOD.

If FORCE PASSWORD CHANGE is ENABLED, MINIMUM_GANPASS_PERIOD
defines the smallest number a SET GANPASS command will accept for
a password validity period definition. Defining a gasssword vali-
dity period of zero (0) will result in a password life which only
lasts until the next scheduled run of PASSCHANGER.





                    Configuration Parameters                  Page 4-16







Netval External Reference Specification             July 12, 1988



4.2.2  Define_MAXIMUM_GANPASS_PERIOD

The maximum password validity period is defined by the setting of
MAXIMUM_GANPASS_PERIOD.

If FORCE PASSWORD CHANGE is ENABLED, MAXIMUM_GANPASS_PERIOD
defines the largest number a SET GANPASS command will accept for
a password validity period definition.

4.3  Global Password Only Login

If GLOBAL_PASSWORD_ONLY_LOGIN is ENABLED, any user will be able
to login to the password only part of Netval using the
GLOBAL_PASSWORD_ONLY_LOGIN_NAME defined below.  All the user will
be able to do is change his own password, after which he will be
automatically logged off. GLOBAL_PASSWORD_ONLY_NAME and
GLOBAL_PASSWORD_ONLY_NAME_SIZE need definition below.


4.3.1  Defining_Global_Password_Only_Login_Name

In addition to the conditional compilation flag being enabled,
GPO requires definition of both the
GLOBAL_PASSWORD_ONLY_LOGIN_NAME and its SIZE.

If GPO is ENABLED, GLOBAL PASSWORD ONLY NAME must be a password
only name in the CUD.  This is the name all users can login to in
order to change their password.  This is irrelevant unless
GLOBAL_PASSWORD_ONLY_LOGIN is enabled above.

GLOBAL_PASSWORD_ONLY_NAME_SIZE defines the number of characters
to feed into the username block selection hash algorithym.
                                                         The glo-
bal password only login name must be in UPPER case, and there
must be USERNAME_TEXT_MAX (usually 20) character positions
between the opening and closing quotes.  The pad charaters are
used to make all username strings the same length so PASCAL can
perform comparisons with them.










                    Configuration Parameters                  Page 4-17







Netval External Reference Specification             July 12, 1988



4.3.2  Defining_Global_Password_Only_Limits


GPO has two login attempt limits, timeout and retry count.  Both
GPO login limits must be defined prior to compilation. The limits
are concurrent and independent. A retry does not reset the timer.
Likewise, users do not have an unlimited number of retries within
the specified timeout limit. Hitting either limit will result in
immediate termination of session.

The retry count and timeout must both be defined whenever GPO is
enabled.


4.3.3  Defining_GPO_Attempt_Max

If GPO is ENABLED, GPO_ATTEMPT_MAX is the number of login
attempts GPO users get before Netval terminates an unsuccessful
login attempt.  This is a simple total error count, a bad user-
name entry is counted the same as a bad password entry.  Setting
the count to "3" means the user will be returned to the Supervi-
sor Login Prompt upon the third login failure.

4.3.4  Defining_GPO_Timeout

If GPO is ENABLED,                                      *) GPO
Timeout defines the number of seconds a user has    *) in which
to complete a successfull login to GPO by      *) entering a
validated username and password.             *)
                                                        *) The
timer starts as soon as GLOBAL_PASSWORD_ONLY_NAME   *) is used to
start the GPO process.                       *)
















                    Configuration Parameters                  Page 4-18







Netval External Reference Specification             July 12, 1988



4.4  Defining Passtable Size

Passtable size definition is in terms of the number of GANPASS
definitions the configurer thinks the network will ever need.
Code will take care of converting this to the appropriate number
of disc sectors.

If either FPC or GPO are ENABLED, PASSTABLE_SIZE defines the
number of Ganpass definitions in allowed the network.  This
parameter is irrelevant unless FORCE_PASSWORD_CHANGE is enabled.
Each word in PASSTABLE contains: GAN, control bits for GPO, NSP,
FPE, and password validity period.

Once Netval is up and running the size of Passtable can be
increased with the NVDM EXPAND command, but this is a

4.5  Logical Volumes

The facility of logical volumes maintains identical copies of
Netval files on separate physical drives; one copy is on drive 0,
the other is on drive 1.  It is implemented by compiling Netval
with the parameter LOGICAL_VOLUMES enabled in the configuration
file.

Each drive will have a logical volume I/O state associated with
it, which indicates the I/O operations which are currently sent
to it.  Under normal conditions, both drives should indicate the
read/write state.  If the system has been unable to complete a
read or write operation to a drive, it will change the drive's
state to down.  The system will send no further I/O requests to
the drive and will continue to run as long as the other drive
remains in the read/write state.

When Netval comes up, it guarantees that the data on its two
drives is identical by attempting an automatic copy operation.
If it is not certain which disk to copy FROM, it only allows an
operator or programmer to login.  (Operator and Programmer are
defined within the configuration file.) Upon logging in the user
is prompted to confirm the direction of the copy operation, i.e.,
the drive to copy FROM and the drive to copy TO.  The information
displayed is identical to that displayed by the COPY Command;
however, the source Netval disk may not be "current".  It's "age"
will indicate the amount of time since the disk received a time
stamp.  For a further explanation of time stamps refer to the
DISPLAY VOLUMES Command (Section 8.5.4).



                    Configuration Parameters                  Page 4-19







Netval External Reference Specification             July 12, 1988



There is also an option to come up with one disk, i.e., not to
perform the copy operation.  This is only a correct procedure if
the operator knows that one drive is unusable and it is impracti-
cal to keep the system down until the problem is correctistence in starting the
copy operation, a sample response sequence is:

logical volumes have not been initialized, current status is:

drive 0   legal: yes   state: unknown     time stamp: 1/23/85 06:35
drive 1   legal: yes   State: unknown     time stamp: 1/23/85 08:40

the direction of the copy will be from drive 1 to drive 0
the source Netval disk is 1 hour(s) 22.25 minute(s) old
continue? y
Netval initializing

copying to unit: 0
10000 20000 30000 . . . (etc.)

copying to unit: 1
10000 20000 30000 . . . (etc.)

Copy complete
Netval initialized

please login:


If LOGICAL_VOLUMES is enabled, the DISPLAY VOLUMES, SET DRIVE
OFFLINE and the COPY Commands are available to the operator for
maintaining the drives.

The DISPLAY VOLUMES Command types current logical volume informa-
tion.  It can be used to monitor the current drive states.

The SET DRIVE OFFLINE Command should be used by an operator when
a drive is to be removed from the system; this may be due to the
fact that it is known to be faulty, or the data on a disk is
suspect.  Normally, the system will detect such conditions and









                    Configuration Parameters                  Page 4-20







Netval External Reference Specification             July 12, 1988



respond by bringing the problem drive down.  It is important not
to physically remove disk packs once the system is up without
using the SET DRIVE OFFLINE command.

The SET DRIVE OFFLINE command is also used as a step in acquiring
a backup disk.  To create a backup disk, a drive is set offline,
the pack on the drive is switched with another and a COPY Command
is executed.  IT IS VERY IMPORTANT TO SET A DRIVE OFFLINE BEFORE
REMOVING ITS DISK PACK.

It is not possible to set a drive offline if the other drive is
already down or offline.  If the system brings a second disk down
or offline, Netval will crash.

The COPY Command is the only way to upgrade a drive state from
offline or down back to read/write.  If the system has brought a
drive down or it was necessary for the operator to set a drive
offline because it was faulty, the drive should first be
inspected for hardware problems.  When it is ready to be brought
back into the system a COPY Command should be executed.


During a COPY, the FROM drive will be in the read/write state;
the TO drive will be in the write only state, and no time stamps
will be recorded on either drive.  Once the operation is com-
plete, the drives will have identical Netval data and both will
be in the read/write state.

4.6  No Self Password Change

If No Self Password Change (NSP) is ENABLED Network Administra-
tors and Account Supervisors will be able to use the CHANGE
OPTIONS command to set the "ns" user option which will prevent
the user from changing their own password.  DISPLAY DIRECTORY,
DISPLAY USER and (GLOBAL) PASSWORD ONLY LOGIN can be used to
determine if a user has NSP set.

4.7  REFORMAT Command

The configuration file, NVALvv.Arr, has two flags which are
necessary for the user to set in order for the REFORMAT command
to be included in the NVDM archive sub-system.  The REFORMAT com-
mand will only be included if these flags are set appropriately.
The RESTORE command will not be included when the REFORMAT com-
mand is available.  The two flags are BEFORE_SUP_V43 and



                    Configuration Parameters                  Page 4-21







Netval External Reference Specification             July 12, 1988



CONVERT_TO_MUD_II.

The following steps need to be completed in order to compile NVDM
with the REFORMAT command and to reformat the CUD.

        - Set the conditional compilation flag BEFORE_SUP_V43 to
          disabled in the configuration file.
        - Set the conditional compilation flag CONVERT_TO_MUD_II
          to enabled.
        - After the configuration file has been changed, compile
          and load NVDM version 5.00.
        - When NVDM 5.00 is loaded, run the init config command
          to store the new configuration to disk
        - Be sure the NETVAL tape, with the version 42 CUD for-
          mat, is mounted.
        - Then enter the ARCHIVE sub_system and enter the refor-
          mat command to start the conversion.
        - After the command is complete return to the system com-
          mand level and quit.

Once the reformat is complete, NETVAL 5.00 must be compiled with
both CONVERT_TO_MUD_II and BEFORE_SUP_V43 disabled in the confi-
guration file.  The CUD will not be readable by any other version
of NETVAL and will not be readable by NETVAL 5.00 if
BEFORE_SUP_V43 is enabled.  Also, in order for NETVAL to be able
to update the supervisor MUDs, the supervisors must be upgraded
to supervisor version 43.  Versions of NETVAL before NETVAL 5.00
will not be able to update supervisor MUDs for supervisor version
43.

4.8  Validate X.25 Names

Usernames generated by X.25 interfaces are formed by appending
the link host number (associated with a link from the host com-
puter to the X.25 interface) to a one to four character string,
the network username prefix.  Refer to the X.25/X.75 Interface
Reference  Manual for a discussion of the Link Host Number State-
ment and Network Username Prefix Statement for additional infor-
mation.

When the X.25 interface builds a circuit, it uses a "null" pass-
word.  A null password is different from NO password.  Users with
null passwords must enter a carriage return or a semi-colon in
the login string to represent the password.




                    Configuration Parameters                  Page 4-22







Netval External Reference Specification             July 12, 1988



Many networks define the configuration parameter
MINIMUM_PASSWORD_SIZE as non zero; this insures that users have
non null passwords.

If the configuration parameter VALIDATE_X25_NAMES is enabled in
the configuration file, Netval will allow validators to perform
special validations for X.25 names.  When Netval validates an
X.25 username, it assigns a null password, regardless of what the
MINIMUM_PASSWORD_SIZE parameter is set to.  To provide security
against misuse of these names, Netval forces the access profile
entry origin(s) of the names to be only the link host.  This
means that these usernames may only originate circuits into the
network from the specified host.

In addition, if the name is changed, Netval requires a non null
password to be entered, and any time an access profile entry is
being defined, (NEW ACCESS and CHANGE ACCESS commands) the
origin(s) are set to be the link host only.

The commands affected if the configuration parameter
VALIDATE_X25_NAMES is enabled are:


                            NEW USER

The NEW USER command has an option, "X25" that specifies that the
username to be validated is an X.25 interface constructed user-
name.  Instead of being prompted for a username, Netval prompts
for both the prefix and the link host number.  The username added
to the CUD is the link host number appended to the prefix.

The control option "password required" is not prompted for.

The username will be assigned a null password, and the validator
will be notified, "assigning null password."

During the entering of access profile information, the user will
only be prompted for destinations.  ALL ACCESS PROFILE ORIGINS
WILL BE DEFINED AS THE LINK HOST NUMBER ONLY.









                    Configuration Parameters                  Page 4-23







Netval External Reference Specification             July 12, 1988



The NEW USER AS command cannot be used to validate X.25 user-
names.


                          CHANGE ACCESS
                           NEW ACCESS

A check will be made when changes are made to access profiles.
If the username has a null password, the system defined minimum
password size is non zero, and the format of the username is as
described above, the origins of access profile entries will not
be able to be changed.  ALL ACCESS PROFILE ORIGINS WILL BE
DEFINED AS THE LINK HOST NUMBER ONLY.



                           CHANGE NAME

A check will be made when the CHANGE NAME command is used; if the
username has a null password, the system defined minimum password
size is non zero, and the format of the username is as described
above, the validator will be prompted for a password in addition
to the username.


A result of the above is that if the password or username is
changed for an X.25 username, the username may no longer be
treated as an X.25 username.




















                    Configuration Parameters                  Page 4-24







Netval External Reference Specification             July 12, 1988



                     5.  Command Information

This Section describes the Netval command format and syntax, and
explains the prompting in some specific commands in detail.

5.1  Command Format

Commands are entered following the prompt:

                              "* "

Commands may be abbreviated to the length indicated (up to the
full representation) in capital letters in the command syntax.

For most commands, the validator is prompted for input.  A yes-no
question may be answered by entering the first letter of the
word, "y" for yes, "n" for no.


The following characters may be used to produce the described
results:


       ^H (control-H)       delete the last character entered
       ^W (control-W)       delete the last word entered
       ^Q (control-Q)       delete the entire line entered
       ^R (control-R)       review the current line
       <escape> character
       <break> character    stop execution of current and return
                            to command level

A <break> or <escape> response to any question or prompt will
cause Netval to cancel the current command, display the prompt
and wait for another command to be entered.

Some commands require a second word, or SUBCOMMAND.  An example
of a command that requires a subcommand is the DISPLAY command.
Some of the various subcommands for the DISPLAY command are
CLASS, GROUP, USER, etc.  If the validator enters ONLY the first
word of the command, Netval will output the subcommands currently
available to the validator and the validator may enter his
choice.  For example:

          * display
          CLASS, GROUP, HOSTLIST, NODELIST or USER



                       Command Information                  Page 5-25







Netval External Reference Specification             July 12, 1988



          enter one: group

The validator must enter one of the choices listed and any
appropriate arguments for the command.

On some commands that change disk files, after all the informa-
tion is entered, Netval asks:

               all entries correct?


If any entered information is in error, the validator should
answer "n", and the command will be cancelled.  If the validator
is satisfied that the changes he has made are correct, he should
answer "y", and Netval will report:

               entry completed

when the operation has been successfully completed.

5.2  Command Syntax

The following notation is used in the command syntax:


   uppercase      letters or words are entered exactly they
                  appear
   lowercase      letters or words represent variables for
                  specific information is to be substituted
   <info>         optional information
   [info]         required information
   s1 | s2 | ...  choice between s1, s2, etc.
    s1 , s2 , ...} choice between one or more of s1, s2, etc.
   list-name      list names are alphanumeric strings which
                  represent a list

5.3  Value Formats

The following sections describe various CUD values and their
input and output formats.








                       Command Information                  Page 5-26







Netval External Reference Specification             July 12, 1988



5.3.1  Usernames

Usernames may be entered as a string of alpha-numeric characters
and/or the additional characters specified in the "CUD - MUD Con-
tents" description (refer to Section 3).  If a username contains
the characters "<space>" or "," the entire name must be enclosed
in single quotes, for example:

                             'a b c'
                              'a,b'

5.3.2  Lists

Lists of numbers (access entry origins, access entry destina-
tions, nodelists, hostlists, etc.) may be entered with the
numbers separated by either commas or spaces.  There is an abso-
lute maximum number of entries of 20 per line; however, the
specific list may have a smaller maximum number of entries.

5.3.3  Control_Options

This Sections describes the prompting sequence for control
options in the CHANGE CONTROL and NEW USER commands (refer to
Section 3 for a discussion of the meaning of the individual con-
trol options).  The prompts are shown in uppercase for clarity.


The following options are always prompted for if MUD I:

          SHUT OVERRIDE?



          The following options are always prompted for if MUD
          II: IS ENTRY A USERNAME?

          IS ENTRY A DESTINATION_NAME?
     If "y" is replied to is entry a username, the validator will
     be prompted for is entry a destination name.  If "n" is
     replied to is entry a username, the validator will not be
     prompted for password required or transparent login.  Execu-
     tion will proceed as if no password required applies after
     the validator is notified:

          ASSIGNING DESTINATION_NAME TYPE



                       Command Information                  Page 5-27







Netval External Reference Specification             July 12, 1988



     If MUD I, or "y" was answered to "is entry a username" the
     next two options are prompted for:


     PASSWORD REQUIRED?

     TRANSPARENT LOGIN?



If the transparent login option applies OR a password is not
required, the ignore destination is automatically assigned and
the validator is notified:

     ASSIGNING "IGNORE DESTINATION" OPTION

Otherwise (the transparent login option does not apply AND a
password is required), the validator is asked:

Otherwise (either MUD I or user entry, with transparent login
does not apply AND a password is required), the validator is
asked:



        password change exempt applies, otherwise, the
               default (NO) will be assigned.



          NO SELF PASSWORD CHANGE?
               If NO_SELF_PASSWORD_CHANGE flag is enabled, the
               validator will be prompted to answer if no self
               password change applies, otherwise, the default
               (NO) will be assigned.


               IGNORE DESTINATION?



          If EITHER the transparent login, no password, OR ignore






                       Command Information                  Page 5-28







Netval External Reference Specification             July 12, 1988



          destination options apply, the definition of the con-
          trol options is complete at this point (the user may
          not be assigned any additional Netval validation
          license).  Otherwise (transparent login, no password,
          AND ignore destination options DO NOT apply), the
          prompting continues as follows.

     ACCOUNT SUPERVISOR?

If the validator is a network administrator or programmer and the
account supervisor option was not assigned, the validator is
asked:

     NETWORK ADMINISTRATOR?

If the network administrator option was assigned, the definition
of the control options is complete at this point; otherwise the
validator is asked:

     AUDITOR?

Lastly, the validator is asked:

     OPERATOR?

5.3.4  Access_Entries

Each access entry for a user consists of an origin description
and a destination description (refer to Section 3 for a complete
discussion of access entry information).  Commands that ask
validator's about access entry information (CHANGE ACCESS, NEW
ACCESS, NEW USER) use the same prompts.  This Section explains
how they proceed.  The prompts are shown in uppercase for clar-
ity.


IS THE ORIGIN A SYSTEM DEFINED CLASS?
     The origin for an access entry may be a predefined CLASS or
     the user may specify the originating nodes and/or originat-
     ing hosts that make up the origin.  If the origin is to be a
     CLASS, answer "y", and Netval asks the following question:







                       Command Information                  Page 5-29







Netval External Reference Specification             July 12, 1988



CLASS:
Enter the class that is to be the origin of the access entry.
Netval will go on to prompt for destination information.


If the origin is to be described explicitly, the answer to "IS
THE ORIGIN A SYSTEM DEFINED CLASS" should have been "n", and Net-
val asks the following:


  IS ORIGIN AN EXCEPTION LIST?
  An exception list specifies that the originating nodes and/or
  hosts to be specified are origins from which the user may NOT
  enter the network.  The question refers to the entire list.



  NODE, HOST OR COMPLETE?
  The list is described by nodes and hosts, until complete is
  entered or the maximum number of hosts or nodes are entered.
  In the access entry, the hosts will be stored before the nodes.
  Enter "n" to specify NODES, "h" to specify HOSTS, or "c" for
  complete.  At least one node or host must be specified, and
  there is a maximum of five.



  ENTER LIST OF <EXCEPTION> NODES:
  Enter the originating (or exception) node number(s), separated
  by commas.



  ENTER LIST OF ORIGIN <EXCEPTION> HOSTS:
  Enter the originating (or exception) host number(s), separated
  by commas.












                       Command Information                  Page 5-30







Netval External Reference Specification             July 12, 1988



  HOST, GROUP OR COMPLETE?
  The destination(s) for an access entry may be HOSTS and/or
  predefined GROUPS; each may be flagged as a HOME.  There must
  be at least one destination for each access entry, and a max-
  imum of five or six, depending on whether or not the origin is
  a system defined class or not.  Enter "g" to specify GROUPS,
  "h" to specify HOSTS, or "c" for COMPLETE.



  ENTER LIST OF GROUPS:
  Enter the destination group number(s), separated by commas.
  Group 0 and exception groups will not be accepted for a user
  with the IGNORE DESTINATION option.



  ENTER LIST OF HOSTS:
  Enter the destination host number(s), separated by commas.



  IS GROUP g A HOME?
  IS HOST h A HOME?
  After entering a list of GROUPS and/or HOSTS as destinations,
  if the user does not have the IGNORE DESTINATION option set,
  Netval asks if each destination ("g" is group number, "h" is
  host number) should be flagged as a home.  If the user has the
  IGNORE DESTINATION option set, then all groups and hosts will
  be homed automatically, and the home question will not be
  asked.  Group 0 and exception groups may not be specified as
  homes, and Netval will not ask about them.



  GROUP g IS A HOME
  HOST h IS A HOME
  If a user has the IGNORE DESTINATION option set, all destina-
  tions are forced to be homes; Netval reports that it automati-
  cally sets each destination as a home as the destination is
  defined.







                       Command Information                  Page 5-31







Netval External Reference Specification             July 12, 1988



  GROUP g IS NOT A HOME
  Group 0 and exception groups are forced NOT to be homes; Netval
  reports that it automatically sets each group 0 and exception
  group not to be a home as the destination is defined.












































                       Command Information                  Page 5-32







Netval External Reference Specification             July 12, 1988



                  6.  Password Only Validators

When a user logs in to Netval, the username is checked to see if
it has any license (account supervisor, network administrator,
programmer, auditor or operator).  If the user does not have any
license, and the user has the NO PASSWORD option, the user is not
allowed into Netval, and is logged out.

When the configuration flag FORCE_PASSWORD_CHANGE is disabled, if
the user does not have any license, and the NO PASSWORD option is
off, the only operation allowed is to change the user's own pass-
word.  Netval asks the user if he wishes to change his password,
and if so, asks him to enter the new password twice (the password
is not echoed to the terminal).  Since that is the only operation
available to the user, he is logged off when it is complete.



A sample command/response sequence is:

     password last changed on 3/1/82,

     do you wish to change your password? y

     password:
     enter it again:

     entry completed

     PLEASE LOG IN:

If the configuration flag FORCE_PASSWORD_CHANGE is enabled the
force password changed code is included in NETVAL.  Force Pass-
word Change (FPC) code makes it possible to invalidate any pass-
word which has been in existence for a user-configureable number
of days. Password validity period assignment are on a per GAN
basis. Every user in a GAN has the same password validity period.
Within a GAN each user's password expiration date is calculated
independently.

Only designated GANs have password validity periods for their
users.  A user whose GAN has not had a password validity period
explicitly assigned to it is not subject to FPC.  When Netval
with FPC is first installed in a network every user is safe from
FPC.  FPC only becomes effective after a Network Administrator



                    Password Only Validators                  Page 6-33







Netval External Reference Specification             July 12, 1988



has created at least one GAN password validity period definition.

If a user's password has not been changed for longer than it's
defined validity period all attempts by the user to login will
fail.  An Account Supervisor or Network Administrator must be
called in order to assign the user a new password.  A CHANGE
PASSWORD command is the method for assigning the user a valid
password in order to permit the user to regain network access.

FPC denies users access by changing their password cipher to the
FPC Password Cipher.  The FPC Password Cipher is sent to the
Supervisors as the user's new password cipher via the regular MUD
change mechanism.  It is very unlikely any user will ever have a
password which will generate the same cipher as the FPC Password.
If such an event were to occur, the password will be rejected,
and the user will be prompted to enter a different password. All
possible password rejection sequences are explained in detail in
the subsequent section on Global Password Only (GPO).

After FPC code has changed a user's password, the Supervisor out-
puts the same prompt sequence to a user with an FPC-invalidated
password that it displays whenever a user enters an incorrect
password. A sample sequence for a user attempting to log in after
Netval FPC code has invalidated his password according to FPC
guidelines follows:

please log in: username

password: error, type password: error, type password: please
see your representative if you are having trouble logging in


A corollary to FPC is Global Password Only login (GPO).  GPO will
permit any user, regardless of access profile, to easily change
their own password with NETVAL.  GPO is implemented independently
of FPC and NSP.

GPO works much like the current password only procedure. For
security reasons, GPO login attempts is limited both by time and
access attempt count. If GPO is forced to zap a login attempt it
will record the event in the operator log. GPO users are desig-
nated on a per GAN basis, just as FPC users are.

Sometimes groups of workers use the same username and password.
In order to prevent one user from using GPO to change the whole



                    Password Only Validators                  Page 6-34







Netval External Reference Specification             July 12, 1988



group's password without informing anyone of the change, No Self
Password Change (NSP) is enabled with the flag
NO_SELF_PASSWORD_CHANGE.  The password of a user with NSP set can
only be changed by an Account Supervisor or Network Administra-
tor.  No class of user is exempt from NSP.  NSP is complementary
to, but independent of, FPC and GPO.

If FPC is enabled in the same network as GPO, any user with an
unexpired password will be able to use the GPO procedure to view
a display of their password's life expectency.

Almost every username in a scheduled GAN is subject to the pass-
word validity period.  A password is exempt from FPC only if:

        1)  The user is validated with the NO PASSWORD option enabled
            Note: It is not possible for either a Network Administrator
            or an Account Supervisor to have No Password enabled;

                                   OR

        2)  User has a NULL PASSWORD (carriage return is password);

                                   OR

        3)  Username has "GFD only access", denoted by the user having a
            GFD Only Password (public network only).


GPO users will be treated almost the same as current Password
Only Users.  The only difference will be that once logged into
the GPO username, the user will be prompted to enter their real
Username and Password.  Following entry of a validated username
and its password, non-NSP users will enter the the standard pass-
word only login sequence.  Netval will not allow NSP users to
change their passwords with the GPO procedure.  NSP is detailed
in a subsequent section of this document.

Once Netval login has been accomplished, the user will be asked
if password change is desired, or not.  If a password life expec-
tency check is all that is desired the user simply enters "n
<CR>" to logout of Netval.  Otherwise, the user will initiate the
password entry procedure by keying "y <CR>".  As soon as the new
password entry is complete Netval will automatically log the user
out; at which time the Supervisor will display the standard net-
work login prompt.  Sample GLOBAL PASSWORD ONLY LOGIN sequences



                    Password Only Validators                  Page 6-35







Netval External Reference Specification             July 12, 1988



follow.  All GPO sequences start and end with the Supervisor
Login Prompt.  The GPO Username in the examples is "changepass-
word."













































                    Password Only Validators                  Page 6-36







Netval External Reference Specification             July 12, 1988



6.1  GPO and FPC Users

After correct entry of a username and its password, FPC users
logging into the GPO username will have their password expiration
date displayed.



6.2  Use GPO to Check Password Information

FPC users can login to the GPO username as a simple method of
determining their password's life expectency as follows:


please log in: changepassword

NETVAL password change procedure

username: username password:

password changed: 05/06/86 password expires: 06/06/86

do you wish to change your password? n

please log in:




6.3  Use GPO to Perform Password Change


















                    Password Only Validators                  Page 6-37







Netval External Reference Specification             July 12, 1988



please log in: changepassword

NETVAL password change procedure

username: username password:

password changed: 05/06/86 password expires: 06/06/86

do you wish to change your password? y

password: enter it again:

entry completed

please log in:

































                    Password Only Validators                  Page 6-38







Netval External Reference Specification             July 12, 1988



6.4  GPO and Non-FPC Users

The password expiration date message will not be presented to
non-FPC users.  Therefore, the two non-FPC user screens presented
below vary from current password-only sequences only in the addi-
tion of a prompt for the  user's real username.



6.5  Use GPO to Check Password Information

please log in: changepassword

NETVAL password change procedure

username: username password:

password changed: 05/06/86

do you wish to change your password? n

please log in:




6.6  Use GPO to Perform Password Change

please log in: changepassword

NETVAL password change procedure

username: username password:

password changed: 05/06/86

do you wish to change your password? y

password: enter it again:

entry completed

please log in:





                    Password Only Validators                  Page 6-39







Netval External Reference Specification             July 12, 1988



                           7.  AUDITOR

If a validator has AUDITOR license, he may log into Netval and
use the DISPLAY command (see Section 9.5) to type information
about any user's CUD entry.  If his validation license is account
supervisor, he may also execute ALL the commands described in
Section 9.  Otherwise (his validation level is password only), he
may execute ONLY the following commands, (also described in Sec-
tion 9):


     CHANGE PASSWORD (for own password only)
     CHECK
     DATE
     HELP
     QUIT
     SELECT































                             AUDITOR                  Page 7-40







Netval External Reference Specification             July 12, 1988



                      8.  OPERATOR Commands

This Section describes commands that are accessable by validators
with OPERATOR license.

OPERATOR license is required for the following commands:


     ARCHIVE        Enter the ARCHIVE sub-system
     CLEAR          Turn off the automatic consistency
     CONSISTENCY    Perform a manual consistency check
     COPY           Duplicate data from one logical volume to
                    another
     DISPLAY        Type various system information
     HOST           Display host information or set host state
     FILTER         Select message type to be displayed by mes-
                    sage command
     MESSAGE        Display information from the log
     SET            Define valid supervisors, GANPASS, GPOGAN, or
                    logical volume state
     STATISTICS     Display collected disk read and write I/O
                    information
     STOP           Halt a currently running consistency

If a validator has OPERATOR license and his validation license is
account supervisor, he may also execute ALL the commands
described in Section 9.  Otherwise (his validation level is pass-
word only), in addition to the operator commands listed above, he
may execute the following commands (described in Section 9):


     CHANGE PASSWORD (for own password only)
     CHECK
     DATE
     DISPLAY CLASS
     DISPLAY GROUP
     DISPLAY HOSTLIST
     DISPLAY NODELIST
     HELP
     QUIT
     VERSION


The following Sections describe commands requiring OPERATOR
license.



                        OPERATOR Commands                  Page 8-41







Netval External Reference Specification             July 12, 1988



8.1  ARCHIVE Command

Syntax:   Archive

Description:   The ARCHIVE command puts the operator in the
ARCHIVE sub-system and reports all tape units currently
being accessed by Netval users.  Once in the ARCHIVE sub-
system, he may access tape units and backup files from disk
to tape.  The prompt for the ARCHIVE sub-system is:

          arch>



Once the operator has entered the ARCHIVE sub-system, he may
only enter ARCHIVE commands (Section 8.7), and must use the
RETURN command (Section 8.7.7) to leave.




A sample command/response sequence is:

     * archive

     unit

     0 ATTACHED
     2 ASSIGNED to ARCHIVEUSER

     arch>

8.2  CLEAR Command

If FORCE_PASSWORD_CHANGE or GLOBAL_PASSWORD_ONLY is enabled, the
clear command will be able to deactivate Passchanger.  In net-
works with GPO, the clear command will be able to remove a GAN
from GPO eligibility.










                        OPERATOR Commands                  Page 8-42







Netval External Reference Specification             July 12, 1988



Every time one of the CLEAR commands is executed it will record
its actions in the Operator Log. All possible CLEAR command
sequences are presented below.



8.2.1  CLEAR_CONSISTENCY

Syntax:   CLear Consistency

Description:   The CLEAR CONSISTENCY command allows the
operator to turn off the automatic consistency.  Once the
CLEAR command is used, the consistency will not run until
the SCHEDULE CONSISTENCY command is executed to reset the
schedule.  A message is written to the operator log specify-
ing that the command was executed by the validator.

Automatic Consistency process execution will be disabled by
a CLEAR CONSISTENCY command as presented below:



* clear consistency

consistency deactivated

entry completed

*



















                        OPERATOR Commands                  Page 8-43







Netval External Reference Specification             July 12, 1988



8.2.2  CLEAR_GANPASS

Syntax: CLear GAnpass <nnnn>

FPC can be disabled for a single GAN via a new command called
CLEAR GANPASS
 as presented below:


* clear ganpass 477

GAN 477 password validity period now infinite

entry completed

*
































                        OPERATOR Commands                  Page 8-44







Netval External Reference Specification             July 12, 1988



8.2.3  CLEAR_GPOGAN

Syntax: CLear GPogan <nnnn>

Users can have GPO access privaledges removed with a CLEAR CPOGAN
command.  CLEAR GPOGAN will remove the designated GAN from Gpot-
able.


* clear gpogan 47

GAN 47 users now excluded from GPO

entry completed

*
































                        OPERATOR Commands                  Page 8-45







Netval External Reference Specification             July 12, 1988



8.2.4  CLEAR_PASSCHANGER

Syntax: CLear Passchanger

Passchanger process execution will be disabled by a CLEAR
PASSCHANGER command as presented below:


* clear passchanger

passchanger deactivated

entry completed

*

8.3  CONSISTENCY Command

Syntax:   CONsistency Supervisor s <Nochange> <From b>

Description:   The CONSISTENCY command allows the operator
to force the information in a Supervisor MUD to be identical
with the information in the CUD.  "s" represents a Supervi-
sor host.



As Netval processes the blocks of information, it reports
its progress.  After every CONSISTENCY_REPORT_INTERVAL
(defined in the configuration file) blocks checked, Netval
outputs:

                          n<:u/r>



where "n" is the block number just processed, "u" is the
number of MUD blocks that needed to be updated, "r" is the
number of MUD blocks that were re-transmitted (sent to the
Supervisor more than once).  "u" and "r" are both output if
either one is non-zero.







                        OPERATOR Commands                  Page 8-46







Netval External Reference Specification             July 12, 1988



If the NOCHANGE parameter is included in the command, no MUD
updates are actually made; differences are noted to the
operator as described above and the differing block numbers
are reported to the operator log.



If the FROM parameter is included in the command, and the
configuration parameter CONSISTENCY_RESTARTABLE is set to
TRUE, the consistency will begin at the block specified,
"b."



The CONSISTENCY command may also be executed automatically
according to a schedule.  To set the schedule for the
automatic consistency, use the SCHEDULE CONSISTENCY command
(Section 8.6.6.1).  An automatic consistency and a manually
initiated consistency cannot run at the same time on a
Supervisor.  The DISPLAY UPDATES command (Section 8.5.3)
reports information on whether or not a consistency is run-
ning, and the STOP command (Section 8.6.9) will halt a
currently running automatic consistency.



When an automatic consistency runs, the block numbers that
differ are reported to the LOG, and may be displayed with
the MESSAGE command (Section 8.6.5).



This command may require considerable time to complete,
since the entire CUD is processed.  If the update is inter-
rupted, the MUD will be checked only to the current block.


A message is written to the operator log specifying that the com-
mand was executed by the validator.









                        OPERATOR Commands                  Page 8-47







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * consistency sup 125

     99 199 299 399:1/0 499 599 . . .

     Supervisor 125 consistency:   complete

     *

8.4  COPY Command

NOTE:   This command is only available if Netval is compiled with
the configuration parameter LOGICAL_VOLUMES ENABLED.  For further
discussion of logical volumes, refer to Section 4.5..


Syntax:   COPy

Description:   The COPY Command causes data to be read from
one physical disk and copied to the same sectors on the
other physical disk.  Execution of the COPY command is the
only way that a drive that is not being used by the logical
volume system can be brought back to the read/write state.



The copy command first displays logical volume information,
and prompts for confirmation of the direction of the copy.
The logical volume information includes information from the
DISPLAY VOLUMES Command (Section 8.5.4), the direction of
the copy, and the AGE of the FROM disk.



If Netval receives confirmation, the copy will be TO the
disk which Netval detects is down or offline.  If neither
disk is down or offline, the user receives an error message.


Periodically, the number of the sector being copied is displayed.

A message is written to the operator log specifying that the com-
mand was executed by the validator.




                        OPERATOR Commands                  Page 8-48







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

* copy

drive 0    legal: yes   state: read/write  time stamp: 1/22/85 08:40
drive 1    legal: no    state: offline     time stamp: unknown

the direction of the copy will be from drive 0 to drive 1
the source Netval disk is 0.43 minutes old
continue? y

copying to unit: 2
10000 20000 30000 . . . (etc.)

copying to unit: 3
10000 20000 30000 . . . (etc.)

Copy complete

*

8.5  DISPLAY Command

Validators with OPERATOR license may use the DISPLAY command
to type:


          - the next GAN and UUN to be assigned
          - logical volume information (if Netval is com-
            piled with the configuration parameter
            LOGICAL_VOLUMES ENABLED)
          - system information

The following Sections describe the OPERATOR DISPLAY com-
mands.

8.5.1  DISPLAY_FILTER_Command











                        OPERATOR Commands                  Page 8-49







Netval External Reference Specification             July 12, 1988



syntax:   DIsplay Filter

Description:   The DISPLAY FILTER command allows the operator to
print the currently filtered message types to the user's termi-
nal.  This command will output a list of all the message types
currently selected by filter commands which have been previously
entered.



A sample command/response sequence is:

     * display filter

     Messages currently filtered
     validator username VALUSER
     consistency
     modify gan

     *



8.5.2  DISPLAY_PARAMETERS_Command

Syntax:   DIsplay Parameters

Description:   The DISPLAY PARAMETERS command allows the
operator to type the next GAN and UUN to be assigned.



If the configuration parameter UUNSassignable is ENABLED,
the following message is output in place of the next UUN to
be assigned:

              UUNS are assigned by validators











                        OPERATOR Commands                  Page 8-50







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display parameters

     next GAN: 5
     next UUN: 25

     *

8.5.3  DISPLAY_UPDATES_Command

Syntax:   DIsplay UPdates <Repeat <s>>

Description:   The DISPLAY UPDATES command allows the opera-
tor to display information about MUD, Class and Group Table
updates and current and past runs of consistencies.  If the
REPEAT parameter is included in the command, the display
will be repeated every "s" seconds; if "s" is omitted, 60
seconds is assumed.  The operator should enter the <break>
key to halt the command.


The information displayed includes:


  The current time in UTC.



  Blocks in CUD
  BLOCKS IN CUD indicates the size of the CUD in blocks.



  MUD update EOF
  MUD UPDATE EOF specifies the byte address in the MUDUPDATE
  file at which the next CUD change will be recorded; it is
  followed by a value which reports how full the MUD update
  file is.









                        OPERATOR Commands                  Page 8-51







Netval External Reference Specification             July 12, 1988



  Class and Group table last created
  CLASS AND GROUP TABLE LAST CREATED specifies the time and
  date at which the last SEND TABLE command (Section 10.6.2)
  was executed.



  DNIC table last created
  DNIC TABLE LAST CREATED speifies the time and date at
  which the last SEND DNIC command was executed.



  For each Supervisor:
  PTR
    For each Supervisor in the network, Netval keeps track
    of the MUD updates by maintaining a PTR (byte address)
    into the MUDUPDATE file.  If the PTR is the same as the
    MUD UPDATE EOF, all outstanding changes have been sent
    to that Supervisor.



  MUD Updated
  MUD UPDATED is the last date and time that a MUD change
  was successfully sent to that Supervisor.



  Class and Group Updated
  CLASS AND GROUP UPDATED is the last date and time that the
  Class and Group table was transmitted to that Supervisor.



  CONSISTENCY Last Start
  CONSISTENCY LAST START is the start time of the previous
  consistency (that has ended).



  CONSISTENCY Last Stop
  CONSISTENCY LAST STOP is the end time of the previous con-
  sistency.




                        OPERATOR Commands                  Page 8-52







Netval External Reference Specification             July 12, 1988



  CONSISTENCY End Block
  CONSISTENCY END BLOCK specifies the last block number the
  previously run consistency completed when it stopped.

  COMPLETE means the consistency compared all blocks in the
  CUD.

  S specifies that the run was stopped by the STOP command
  (Section 8.6.9).  M specifies that the run was manual,
  i.e., initiated by the CONSISTENCY command (Section 8.3).



  CONSISTENCY Current Start
  CONSISTENCY CURRENT START is the start time of a currently
  running consistency.



  CONSISTENCY Block
  CONSISTENCY BLOCK is the block that the consistency is
  currently comparing.

  M specifies that the consistency was started manually by
  the CONSISTENCY command (Section 8.3).


Note: All times are displayed in UTC.




















                        OPERATOR Commands                  Page 8-53







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

* display updates

Current time is 12/07/84 02:20:39 UTC
Blocks in CUD: 2039    MUD update EOF:   294   (0% full)
Class and Group table last created:   12/06/83 08:42:02
DNIC table last created:   12/06/83 00:30:15

Sup                      MUD        Class and Group
         Ptr         Updated          Updated
121            4      12/05 11:02      12/05 13:42
122          294      12/07 01:42      12/06 12:40
124            4      12/06 12:03      12/06 08:43
125          294      12/07 02:12      12/06 08:44
127           56      12/07 02:45      12/07 01:20

Sup                      CONSISTENCY
   Last Start     Last Stop   End Block    Current Start  Block
121  12/05 01:01   12/05 02:00   complete
122  12/06 01:01   12/06 01:15      102   S
124  12/06 01:03   12/06 02:26     1205       12/07 01:15      45
125  12/06 01:02   12/06 02:25   complete     12/07 01:03    2030 M
127  12/07 00:05   12/07 01:15   complete M

*

8.5.4  DISPLAY_VOLUMES

NOTE:   This command is only available if Netval is compiled with
the configuration parameter LOGICAL_VOLUMES ENABLED.  For further
discussion of logical volumes, refer to Section 4.5..


Syntax:   DIsplay Volumes

Description:   The DISPLAY VOLUMES Command allows the opera-
tor to type the current logical volume information.










                        OPERATOR Commands                  Page 8-54







Netval External Reference Specification             July 12, 1988



The information displayed includes:

legal
  A LEGAL disk is one which has a Netval identifier and the
  current Netval configuration.



state
Logical volume STATES are as follows:

     unknown        when Netval comes up, state is unknown
     down           the disk is not sent any requests (set
                    the system if there is an error)
     read/write     the disk is sent read and write requests
     read           the disk is sent only read requests
     write          the disk is sent only write (the TO
                    disk, during a copy)
     offline        the disk is not sent any requests (set
                    the SET DRIVE OFFLINE command)



time stamp
The TIME STAMP identifies the last moment at which the sys-
tem verified the legitimacy of the disk's data.  When a disk
is down or offline the TIME STAMP is not updated, otherwise,
it is updated periodically.  If a disk is not legal, it has
no TIME STAMP.



A sample command/response sequence is:

* display volumes

drive 0    legal: yes  state: read/write  time stamp: 1/22/85 08:40
drive 1    legal: no   state: offline     time stamp: unknown

*








                        OPERATOR Commands                  Page 8-55







Netval External Reference Specification             July 12, 1988



8.6  HOST Command

Validators with OPERATOR license may use the HOST command
to:


          - display current information about the Netval
            host
          - set the host state to up or shut


The following Sections describe the OPERATOR HOST commands.

8.6.1  HOST_SHUT_Command

Syntax:   HOst SHut

Description:   The HOST SHUT command allows the operator to
change the state of the Netval host in the network to the
shut state.  In this state, only users with the shut over-
ride control option may login to Netval.



This command is useful when Netval is to go down, to allow
the MUD change file to catch up with all its changes.  It
may also be used when Netval first comes up, to give the
operator or network administrator a chance to check on the
state of Netval files.


The Netval TYM file specifies the initial state of the Netval
host.


When Netval is in the shut state, the HOST UP command (Sec-
tion 8.6.3) may be used to change the state of the Netval
host to allow all usual Netval users to login.


There are no errors possible for this command, and a message is
written to the operator log specifying that the command was exe-
cuted by the validator.





                        OPERATOR Commands                  Page 8-56







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * host shut

     entry completed

     *

8.6.2  HOST_STATUS_Command

Syntax:   HOst STatus

Description:   The HOST STATUS command allows the operator
to display information about the Netval host, including:


               - hardware identification (node and kernel
                 host)
               - the number and type of users currently
                 logged in




A sample command/response sequence is:

     * host status

     This hardware is identified by:
     node: 2012
     kernel host: 12

     logged in:
      2 licensed validators
      1 programmer validator

     *

8.6.3  HOST_UP_Command









                        OPERATOR Commands                  Page 8-57







Netval External Reference Specification             July 12, 1988



Syntax:   HOst Up

Description:   The HOST UP command allows the operator to
change the state of the Netval host in the network to
answered.  In this state, all usual Netval validators may
login to Netval.



The hardware identification is displayed to the operator,
and he is prompted to confirm the information.


There are no errors possible for this command, and a message is
written to the operator log specifying that the command was exe-
cuted by the validator.



A sample command/response sequence is:

     * host up

     This hardware is identified by:
     node: 2012
     kernel host: 12

     continue? y
     entry completed

     *

8.6.4  Filter_Command

The FILTER command will allow the operator to filter out particu-
lar types of messages from the operator log to be displayed by
the MESSAGE command.  Several filters may be selected before the
MESSAGE command is entered.  When the MESSAGE command is entered,
it will display the filter types which have been selected, then
filter out and display only the messages of the selected types.








                        OPERATOR Commands                  Page 8-58







Netval External Reference Specification             July 12, 1988



The message filter types which may be specified are:

             - ALL
             - ARCHIVE
             - CONSISTENCY
             - CUDERROR
             - DEBUG
             - FILE
             - MASTER  (if NETVAL_IS_A_SLAVE)
             - MODIFY  (if CHANGES_TO_OPER_LOG)
             - MUDUPDATE
             - OPERATOR
             - PARAMETER
             - SYSMSG1
             - UN2
             - UUNMERGE  (if REUSE_UUNS)
             - VALIDATOR
             - VOLUMES  (if LOGICAL_VOLUMES)

The following value types may be specified.  These types require
a value to be entered after the command, such as a supervisor
number, a validator number or username.

             - USER
             - SUPERVISOR
             - NUMBER



8.6.4.1  Filter_All_Command


syntax:   Filter ALl

Description:   The FILTER ALL command allows the operator to
clear previously selected filters.  If any other filters have
been selected prior to the FILTER ALL command, this command will
clear those filters and return to the initial state of the MES-
SAGE command which displays all the message types contained in
the operator log.








                        OPERATOR Commands                  Page 8-59







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter all

     message filter accepted

     *

8.6.4.2  Filter_Archive_Command


syntax:   Filter ARchive

Description:   The FILTER ARCHIVE command will filter out mes-
sages reporting on the Archive sub-system.  These messages also
report execution of commands which access files, such as the
STORE, RESTORE or DUMP commands.


A sample command/response sequence is:

     * filter archive

     message filter accepted

     *

8.6.4.3  Filter_Consistency_Command


syntax:   Filter CONSistency

Description:   The FILTER CONSISTENCY command allows the operator
to filter out messages concerning either automatic or manual con-
sistencies.  These messages include start and stop of consisten-
cies, checksum mismatch errors and errors reading the CUD.  Con-
sistency messages for all supervisor numbers will be output
unless the operator selects one or more supervisor numbers with
the FILTER SUPERVISOR command.  If the FILTER SUPERVISOR (section
8.6.4.12) command has been executed then only consistency mes-
sages refering to the selected supervisor(s) will be printed.







                        OPERATOR Commands                  Page 8-60







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter consistency

     message filter accepted

     *

8.6.4.4  Filter_Cuderror_Command


syntax:   Filter CUderror

Description:   The FILTER CUDERROR command allows the operator to
filter out operator log messages which report errors occuring
during disk read or write operations to the CUD.  The CUD error
messages include checksum errors, format errors and operational
disk errors.


A sample command/response sequence is:

     * filter cuderror

     message filter accepted

     *

8.6.4.5  Filter_DEBug_Command


syntax:   Filter Debug

Description:   The FILTER DEBUG command allows the operator to
filter out miscellaneous messages which are used for debugging.


A sample command/response sequence is:

     * filter debug

     message filter accepted

     *




                        OPERATOR Commands                  Page 8-61







Netval External Reference Specification             July 12, 1988



8.6.4.6  Filter_File_Command


syntax:   Filter File

Description:    The FILTER FILE command allows the operator to
filter out operator log messages reporting on general disk file
operations.  The possible messages include errors in reading or
writing to such files as the Node/Hostlist files, the MUD Update
file or the Configuration file.


A sample command/response sequence is:

     * filter file

     message filter accepted

     *

8.6.4.7  Filter_Master_Command


syntax:   Filter MAster <NUmber n>

Description:   The FILTER MASTER command only exists if the con-
ditional flag NETVAL_IS_A_SLAVE is enabled in the NETVAL confi-
guration file, NVALvv.Arr, where vv=version and rr=revision.  The
FILTER MASTER command allows the operator to filter all messages
which report MASTER validator activities.  These messages include
MASTER validator login, handshake errors and logout reports.  The
optional parameter NUMBER may be selected to filter master login
and logout messages refering to a particular master number "n".


A sample command/response sequence is:

     * filter master number 5

     message filter accepted

     *






                        OPERATOR Commands                  Page 8-62







Netval External Reference Specification             July 12, 1988



8.6.4.8  Filter_Modify_Command


syntax:   Filter MOdify <ACcess, CONTrol, DIstrict, GAn, NAme,
PASSWord, UUn, GFd,
             Irc, OVerflow} | DELete | NEw | USername u>

Description:   The FILTER MODIFY command is only available if the
conditional flag CHANGES_TO_OPER_LOG is enabled in the configura-
tion file.  The FILTER MODIFY command allows the operator to
filter messages reporting execution of commands which make
changes to CUD entries.  If none of the optional parameters are
entered, the FILTER MODIFY command will filter all messages
refering to commands which modify the CUD.  The parameters
ACCESS, CONTROL, DISTRICT, GAN, NAME, PASSWORD and UUN may be
entered to specify messages reporting these types of changes.
The optional parameter GFD is only available if the flag
NETVAL_IS_A_SLAVE is enabled. The optional parameter IRC is only
available if the flags NETVAL_IS_A_SLAVE and INCLUDE_IRC both are
enabled.  The optional parameter OVERFLOW is only available if
the conditional flag OVERFLOW_CUD_ENTRIES is enabled.  If the
optional parameter DELETE is selected, messages reporting delete
user entries will be filtered.  If the optional parameter NEW is
selected, messages reporting new user entries will be filtered.
Up to five of the above options may be selected with each entry
of the FILTER MODIFY command.  If the parameter USERNAME is
entered, messages reporting modifications to username "u" will be
filtered from the operator log.  If only the FILTER MODIFY USER-
NAME command has been entered, ALL messages reporting changes for
username "u" will be output.  If other FILTER MODIFY commands and
the FILTER MODIFY USERNAME command have been entered, only the
messages reporting the type(s) of changes selected and the user-
name selected will be printed.  If FILTER VALIDATOR command (sec-
tion 8.6.4.17) with either the option number or name is entered
none addition to any of the FILTER MODIFY commands then only the
messages refering to both the validator selected and the message
type(s) selected will be printed.  For all parameters which are
selected, all messages refering to each type selected will be
printed for either all users or a selected username.  That is if
NEW and ACCESS are selected then all messages reporting new user
AND all messages reporting change access will be printed by the
MESSAGE command either for all usernames or the selected user-
name.  The operator may select up to five modify types per com-
mand line.




                        OPERATOR Commands                  Page 8-63







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter modify password

     message filter accepted

     *

8.6.4.9  Filter_Mud_Update_Command


syntax:   Filter MUdupdate

Description:   The FILTER MUDUPDATE command allows the operator
to filter out operator log messages which report events concern-
ing the MUD_UPDATE file.  These messages will report occurances
such as MUD updates caught up, format error in the MUD_UPDATE
file or the MUD_UPDATE file is getting FULL.


A sample command/response sequence is:

     * filter mudupdate

     message filter accepted

     *

8.6.4.10  Filter_OPerator_Command


syntax:   Filter Operator

Description:   The FILTER OPERATOR command allows the operator to
filter out operator report messages.  These messages are periodi-
cally written to the operator log to report NETVAL host informa-
tion and how many validators of each type are logged in.  If the
conditional flag LOGICAL_VOLUMES is enabled in the configuration
file, these messages will include status reports on the logical
volumes.








                        OPERATOR Commands                  Page 8-64







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter operator report

     message filter accepted

     *

8.6.4.11  Filter_PARameter_Command



syntax:   Filter Parameter

Description:   The FILTER PARAMETER command allows the operator
to filter messages which report commands affecting the parameter
file.


A sample command/response sequence is:

     * filter parameter

     message filter accepted

     *

8.6.4.12  Filter_Supervisor_Command


syntax:   Filter SUpervisor <121, 122, 123, 124, 125, 126, 127}>

Description:   The FILTER SUPERVISOR command allows the operator
to filter out messages which refer to the supervisors.  The
operator may enter any number of the supervisor numbers 121 -
127.  If no supervisor number is entered the command will filter
all messages refering to any supervisor.  All messages refering
to the supervisor numbers selected will be printed unless the
operator has also entered the FILTER CONSISTENCY, FILTER SYSMSG1,
FILTER UN2 or FILTER VALIDATOR commands (see sections 8.6.4.3,
8.6.4.13, 8.6.4.14 and 8.6.4.17).  If one or more of the above
filters have been selected, then only messages refering to the
selected type(s) and to the selected supervisor(s) will be
printed.




                        OPERATOR Commands                  Page 8-65







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter supervisor 121

     message filter accepted

     *

8.6.4.13  Filter_SYSMSG1_Command


syntax:   Filter SYsmsg1

Description:   The FILTER SYSMSG1 command allows the operator to
filter out messages reporting on access to the SUP slave SYSMSG1.
These messages include errors in building circuits to SYSMSG1 and
timeout errors.  The FILTER SUPERVISOR command (section 8.6.4.12)
allows the operator to filter out SYSMSG1 messages for a particu-
lar list of one or more supervisors.


A sample command/response sequence is:

     * filter sysmsg1

     message filter accepted

     *

8.6.4.14  Filter_UN2_Command


syntax:   Filter UN2

Description:   The FILTER UN2 command allows the operator to
filter messages reporting activities involving the SUP slave UN2.
These messages include circuit errors to UN2 and errors updating
the MUD.  The FILTER SUPERVISOR command (section 8.6.4.12) may be
entered to filter out UN2 messages refering to a particular list
of supervisors.








                        OPERATOR Commands                  Page 8-66







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * filter un2

     message filter accepted

     *

8.6.4.15  Filter_UUN_Merge_Command


syntax:   Filter UUNMerge

Description:   This command only exists if the conditional flag
REUSE_UUNS is enabled in the NETVAL configuration file.  The
FILTER UUNMERGE command allows the operator to filter out all
messages reporting the start and stop of the UUN Merge and the
UUNS which were added back.


A sample command/response sequence is:

     * filter uunmerge

     message filter accepted

     *

8.6.4.16  Filter_Validator_Command


syntax:   Filter VAlidator <NUmber n | USer u>

Description:   The FILTER VALIDATOR command allows the operator
to filter out messages from the operator log concerning validator
activities.  These messages include such validator activities as
logins, logouts, commands to send the class and group tables, set
host status and to write CUD and MUD blocks.  If the conditional
flag LOGICAL_VOLUMES is enabled in the NETVAL configuration file,
messages reporting drives set off-line and copy commands will be
included.  If the conditional flag OVERFLOW_CUD_ENTRIES is
enabled, validator messages will include reports of creating
overflow blocks.  Also, if the conditional flag
CHANGES_TO_OPER_LOG is enabled, all commands which modify the CUD
will be included.  The parameter NUMBER or USER may be entered to



                        OPERATOR Commands                  Page 8-67







Netval External Reference Specification             July 12, 1988



filter messages for a particular validator number "n" or a par-
ticular validator username "u".  Only a validator number or a
validator username may be filtered from the message file, i.e. if
a validator number was previously filtered, that filter will be
removed by the validator user command.  The FILTER SUPERVISOR
command may be entered to select validator commands refering to a
particular list of supervisors.  If the FILTER SUPERVISOR command
(section 8.6.4.12) has been entered only validator messages
refering to the supervisor(s) selected will be printed.  If
either a validator number or validator name was selected then
only messages refering to both the select number or name and the
selected supervisor(s) will be printed.


A sample command/response sequence is:

     * filter validator

     message filter accepted

     *

8.6.4.17  Filter_Volumes_Command


syntax:   Filter VOlumes

Description:   The FILTER VOLUMES command is valid only if the
conditional flag LOGICAL_VOLUMES is enabled in the configuration
file.  The FILTER VOLUMES command allows the operator to filter
out operator messages reporting logical volumes events.  These
messages report initializing logical volumes copy, errors during
copy and disk drive offline.


A sample command/response sequence is:

     * filter volumes

     message filter accepted

     *






                        OPERATOR Commands                  Page 8-68







Netval External Reference Specification             July 12, 1988



8.6.5  MESSAGE_Command

Syntax:   Message <From date-time>

Description:   The descriptions of the message types which
have been filtered by the Filter command and filtered con-
tents of the operator's log are displayed to the user's ter-
minal.  If ALL message types are filtered or if no filters
have been selected, then the entire contents fo the
operator's log is displayed to the user's terminal.  If the
FROM parameter is omitted, messages not previously read by
any user are output until the <break> character is entered.



If the FROM parameter is entered, only records on or follow-
ing the date-time are printed, and the command returns the
user to the prompt when all messages are displayed.


Times are displayed in UTC.


"date-time" is entered as:

                      MM/DD</YY> HH:MM}



where MM is a month of the year, DD is a day of the month,
YY is the optional year (current is default), HH is an hour
of the day and MM is a minute of the hour.  If the time is
omitted, 00:00 is assumed.  If the entire date (MM/DD/YY) is
omitted, the current day is assumed.














                        OPERATOR Commands                  Page 8-69







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * message

     ALL Messages currently filtered

     2/28/83 01:30:13
     From host: 220 node: 2012 port:3d   invoice: 2156789
     Validator login: network administrator  10    USERVAL

     2/28/83 01:30:37
     change password: OLDUSER by USERVAL

     2/28/83 01:30:47
     MUD updates caught up

     2/28/83  01:35:20
     Validator logged out: 10   USERVAL
     <break>

     *

8.6.6  SCHEDULE_Command

The SCHEDULE command allows the operator to define the schedule
for the automatic consistency.  If FORCE_PASSWORD_CHANGE or
GLOBAL_PASSWORD_ONLY is enabled, the SCHEDULE command also allows
the operator to define the passchanger schedule.

8.6.6.1  SCHEDULE_CONSISTENCY_Command

Syntax:   SChedule Consistency

Description:   The SCHEDULE CONSISTENCY command allows the
operator to specify the time period during which the
automatic consistency process runs.  The operator is
prompted for the start time of day and the stop time of day
for the period.  Times are entered in hours and minutes in
UTC time.


The CLEAR command (Section 8.2) turns the running of automatic
consistencies off.





                        OPERATOR Commands                  Page 8-70







Netval External Reference Specification             July 12, 1988



When the following conditions exist: within the time period
specified, an automatic consistency has not run to comple-
tion, Supervisor is legal, consistency is not currently run-
ning, and no MUD updates are being made - an automatic con-
sistency is started.



At the end of the time period, if any automatic consisten-
cies are running, they will be stopped.


A message is written to the operator log specifying that the com-
mand was executed by the validator.



A sample command/response sequence is:

     * schedule consistency

     start time: 1:00
     stop time: 4:00

     entry complete

     *

8.6.6.2  SCHEDULE_PASSCHANGER

Syntax: SChedule Passchanger

If FORCE_PASSWORD_CHANGE or GLOBAL_PASSWORD_ONLY is enabled, the
schedule passchanger command is available to set the start time
of passchanger.  PASSCHANGER will be used to designate FPC code's
daily run time. Once scheduled, FPC code will only execute once
per day at the scheduled time. When it does execute it will check
all relevant passwords in the CUD, then go back to sleep until
its next scheduled run time. Starting time must be between 00:00
and 23:59.  A Passchanger time of 00:00 will result in it running
at midnight UTC. The start time may be entered on the command
line.  If the start time is not entered on the command line, the
start time will be prompted for.





                        OPERATOR Commands                  Page 8-71







Netval External Reference Specification             July 12, 1988



* schedule passchanger 00:00

entry completed

*



* schedule passchanger 00:00

start time: 00:00

entry completed

*

8.6.7  SET_Command

The SET command allows the operator to define:


          - the list of Supervisor hosts to be accessed
          - logical volume use (if Netval is compiled with the
            configuration parameter LOGICAL_VOLUMES ENABLED)

The following Sections describe the SET commands.

8.6.7.1  SET_DRIVE_OFFLINE_Command

NOTE:   This command is only available if Netval is compiled with
the configuration parameter LOGICAL_VOLUMES ENABLED.  For further
discussion of logical volumes, refer to Section 4.5..


Syntax:   SET Drive d OFFLine

Description:   This command sets the specified disk drive to
the offline state.  It must be used before changing Netval
disk packs.


"d" specifies the drive unit to be set offline.

A message is written to the operator log specifying that the com-
mand was executed by the validator.



                        OPERATOR Commands                  Page 8-72







Netval External Reference Specification             July 12, 1988



Note:   Never power a disk down to change packs without first
executing the SET DRIVE Command.



A sample command/response sequence is:

* set drive 1 offline

restoration to read/write state requires execution of the
COPY command
continue? y

entry completed

*

8.6.7.2  SET_SUPERVISOR_Command

Syntax:   SET SUpervisor sup-number [ON|OFF]

Description:   The SET SUPERVISOR command allows the opera-
tor to specify the Supervisors that are to be accessed by:



MUDUPDATE
CONSISTENCY
Class and Group UPDATE



If the ON parameter is included, the sup-number will be con-
sidered a valid Supervisor by Netval; if the OFF parameter
is included, the sup-number Supervisor will be ignored by
Netval.



If the operation is completed successfully, Netval will
report the list of currently legal Supervisors.







                        OPERATOR Commands                  Page 8-73







Netval External Reference Specification             July 12, 1988



When a Supervisor is turned ON, (if previously OFF) and the
configuration parameter RUN_AUTO_CONSISTENCY_ON_SUP_INIT is
set to TRUE, an automatic consistency is run when the SET
SUPERVISOR command is executed.  This automatic consistency
cannot be permanently stopped with the STOP command, since
Netval will continually attempt to start it up again.



Note that the number of valid Supervisors is limited by the
definition in the configuration file of
MAXIMUM_EXPECTED_SUPERVISORS.


A message is written both to the operator log and the Supervisor
error log specifying that the command was executed by the valida-
tor.



A sample command/response sequence is:

     * set supervisor 121 on

     entry completed

     Netval Supervisors are: 121, 122, 124, 125

8.6.8  STATISTICS_Command

Syntax:   STAtistics

Description:   The Netval program maintains a histogram of
recent disk activity in 5 minute intervals; the STATISTICS
Command displays this information to the user.













                        OPERATOR Commands                  Page 8-74







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

* statistics
since 1/31/84 19:46:55 UTC

read   total: 1210   pages: 3454    errors: 0
0   132   179    0    0    0    0   88   231   0   266   134

write   total: 59   pages: 65   errors: 0
0    16   17     0    0    0    0   6    3     0   10    0

*




A sample command/response sequence with LOGICAL_VOLUMES
enabled (Section 4.5) is:

* statistics
since 1/31/84 19:46:55 UTC

read   total: 8742   pages: 816291
3     4     3     3     4     3     3     4     6     3     4     21

write   total: 8304   pages: 813823
3     4     3     3     4     3     3     4     7     3     4     6

drive 0:
unit 0:    reads: 1010   writes: 86   state: read/write
         errors: 0   last error: 0   last isis: 0

unit 1:    reads: 7732   writes: 81   state: read/write
         errors: 0   last error: 0   last isis: 0

drive 1:
unit 2:    reads: 5   writes: 1073   state: read/write
         errors: 0   last error: 0   last isis: 0

unit 3:    reads: 91   writes: 7231   state: read/write
         errors: 0   last error: 0   last isis: 0

*





                        OPERATOR Commands                  Page 8-75







Netval External Reference Specification             July 12, 1988



8.6.9  STOP_Command

Syntax:   STOp Supervisor s

Description:   The STOP command allows the operator to halt
an AUTOMATIC consistency run for the specified Supervisor.
"s" represents a Supervisor host number.  The DISPLAY
UPDATES command (Section 8.5.3) reports information on
whether or not a consistency is currently running.


A message is written to the operator log specifying that the com-
mand was executed by the validator.



A sample command/response sequence is:

     * stop supervisor 121

     consistency halted

     *

8.7  Archive Sub-System

The Netval ARCHIVE sub-system allows the user to:


          - attach a magnetic tape unit to the Netval slot
          - detach a magnetic tape unit from the Netval slot
          - store Netval disk files on tape in Netval ARCHIVE
            format
          - in addition, if the conditional flag INCLUDE_DUMP is
            enabled, dump the Netval CUD to tape in ASCII format

The prompt for the ARCHIVE sub-system is:

     arch>

Tape units may have the following status:







                        OPERATOR Commands                  Page 8-76







Netval External Reference Specification             July 12, 1988



1.  ATTACHED
An ATTACHED tape is accessable by users logged into the Net-
val SLOT only; no other slot on the Netval Engine may access
the tape unit.




2.  ASSIGNED
An ASSIGNED tape is reserved for a single Netval validator;
no other ARCHIVE validator may access the tape unit.  Only
one tape unit may be assigned to a validator at a time.
During the period that a tape is assigned to a validator, it
is also attached to the Netval slot.


Tape units may become ATTACHED and/or ASSIGNED explicitly or
implicitly.

If a tape unit is ATTACHED explicitly by the ATTACH command (Sec-
tion 8.7.2), it remains ATTACHED until it is DETACHED explicitly
by the DETACH command (Section 8.7.4).  Any Netval ARCHIVE vali-
dator may use (and therefore may also DETACH) an attached tape,
as long as no other validator has the tape ASSIGNED.

If a tape unit is ASSIGNED explicitly to a validator by the
ASSIGN command (Section 8.7.1), it remains ASSIGNED until the
validator explicitly DEASSIGNS the unit by the DEASSIGN command
(Section 8.7.3) OR leaves the Netval system (by logging out or
becoming disconnected).  If a Netval user still has a tape
ASSIGNED when he logs out, Netval will notify him of the unit.

During any Netval ARCHIVE command that accesses a tape unit, the
unit is necessarily both ATTACHED and ASSIGNED for the validator
(implicitly if not by an explicit command).  If reserved impli-
citly, the tape unit is reserved for the Netval slot and the
validator FOR THE DURATION OF THE COMMAND ONLY.  At the comple-
tion of the command, the unit will have the same status as it did
before the command.  If the unit had previously been ATTACHED, it
will remain ATTACHED.

When a validator enters or leaves the ARCHIVE sub-system he is
shown a summary of the status of all tape units in use; the
DISPLAY STATUS command (Section 8.7.5.2) may also be used to see
the summary.



                        OPERATOR Commands                  Page 8-77







Netval External Reference Specification             July 12, 1988



The following commands may be executed from the ARCHIVE sub-
system:


     ASSIGN    Reserve tape unit for validator
     ATTACH    Reserve tape unit for Netval slot
     DEASSIGN  Free tape unit from validator
     DETACH    Free tape unit from slot
     DISPLAY   Type tape availability or Netval tape id
     DUMP      Dump CUD to tape in ASCII format
     RETURN    Return to system level
     REWIND    Return magnetic tape to beginning of reel
     STORE     Copy files from disk to tape

8.7.1  ASSIGN_Command

Syntax:   ASsign u


Description:   The ASSIGN command reserves a magnetic tape
unit for the Netval ARCHIVE validator, and prevents any
other validators from accessing the tape unit.  The unit is
reserved for the validator until the DEASSIGN (Section
8.7.3) command is executed OR the validator leaves the Net-
val system.




A sample command/response sequence is:

     arch> assign 0

     tape assigned

     arch>

8.7.2  ATTACH_Command

Syntax:   ATtach u








                        OPERATOR Commands                  Page 8-78







Netval External Reference Specification             July 12, 1988



Description:   The ATTACH command reserves a magnetic tape
unit for the Netval slot, and prevents any other slots in
the Netval Engine from accessing the tape unit.  The unit is
reserved for the Netval slot until the DETACH (Section
8.7.4) command is executed.




A sample command/response sequence is:

     arch> attach 0

     tape attached

     arch>

8.7.3  DEASSIGN_Command

Syntax:   DEAssign


Description:   The DEASSIGN command frees the tape unit from
the Netval ARCHIVE validator and makes it available to other
validators.  Since a validator may only have one tape
assigned at a time, it is not necessary to supply the tape
unit number.




A sample command/response sequence is:

     arch> deassign

     unit 0 deassigned

     arch>

8.7.4  DETACH_Command

Syntax:   DETach u






                        OPERATOR Commands                  Page 8-79







Netval External Reference Specification             July 12, 1988



Description:   The DETACH command frees the tape unit from
the Netval slot and makes it available to other slots in the
Netval Engine.




A sample command/response sequence is:

     arch> detach 0

     tape detached

     arch>

8.7.5  DISPLAY_Command

The ARCHIVE DISPLAY command allows the validator to display
information about:


        - whether or not a magnetic tape is a Netval tape, and if
          it is, the tape version and creation date
        - the availability and current usage of tape units

The following Sections describe the various ARCHIVE DISPLAY com-
mands.

8.7.5.1  DISPLAY_ID_Command

Syntax:   DIsplay Id <u>


Description:   The DISPLAY ID command allows the validator
to identify a magnetic tape as a Netval backup tape, and to
display its creation date and version.  The tape is rewound
initially, to read the first record.











                        OPERATOR Commands                  Page 8-80







Netval External Reference Specification             July 12, 1988



If the tape is already ASSIGNED to the validator, the param-
eter "u" may be omitted.  If the validator had not ASSIGNED
a tape unit, however, "u" must specify the unit.  Since a
validator may only have one unit assigned at a time, if the
validator already has a unit assigned, the display command
must refer to that assigned unit.




A sample command/response sequence is:

     arch> display id

     tape rewinding

     mta is not a Netval tape



arch> display id 1

tape rewinding

NETVAL tape (Version 03.00) created on: 02/08/83

arch>

8.7.5.2  DISPLAY_STATUS_Command

Syntax:   DIsplay Status


Description:   The DISPLAY STATUS command gives the valida-
tor a summary of current tape usage and availability.  It
reports magnetic tape units in use, their status, and, if
ASSIGNED, the validator that the unit is assigned to.











                        OPERATOR Commands                  Page 8-81







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     arch> display status

     unit

     0     ATTACHED
     2                 ASSIGNED to ARCHIVEUSER

     arch>

8.7.6  DUMP_Command

Syntax:   DUmp <From block-no> <u>


Description:   If the conditional compilation flag
INCLUDE_DUMP is enabled in the Netval configuration file,
the DUMP command will be included in the Archive command
sub-system.



The DUMP command rewinds a tape unit, reads all CUD entries,
and writes the formatted ASCII CUD entries to tape.  If the
parameter FROM is used, the DUMP will start at the specified
block-no, otherwise it will start at block zero.



If the tape is already ASSIGNED to the validator, the param-
eter "u" may be omitted.  If the validator had not ASSIGNED
a tape unit, however, "u" must specify the unit.  Since a
validator may only have one unit assigned at a time, if the
validator already has a unit assigned, the dump command must
refer to that assigned unit.


A message is written to the operator log specifying that the com-
mand was executed by the validator.

NOTE:   This command may be very time consuming.






                        OPERATOR Commands                  Page 8-82







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     arch> dump

     tape rewinding
     storing CUD ASCII dump: 115 records written

     dump completed
     tape rewinding

     arch>

8.7.7  RETURN_Command

Syntax:   RETurn


Description:   The RETURN command takes the validator back
to system command level.




A sample command/response sequence is:

     arch> return

     *

8.7.8  REWIND_Command

Syntax:   REWind <u>


Description:   The REWIND command allows the validator to
position a tape unit to the beginning of the reel.












                        OPERATOR Commands                  Page 8-83







Netval External Reference Specification             July 12, 1988



If the tape is already ASSIGNED to the validator, the param-
eter "u" may be omitted.  If the validator had not ASSIGNED
a tape unit, however, "u" must specify the unit.  Since a
validator may only have one unit assigned at a time, if the
validator already has a unit assigned, the rewind command
must refer to that assigned unit.




A sample command/response sequence is:

     arch> rewind

     tape rewinding

     tape rewound

     arch>

8.7.9  STORE_Command

Syntax:   STOre <u>


Description:   The STORE command rewinds a tape unit, and
records all disk files on the tape.  The passtable file will
only be recorded if either FORCE_PASSWORD_CHANGE or
GLOBAL_PASSWORD_ONLY_LOGIN is enabled.  The DNIC file will
only be recorded if INCLDUE_DNIC is enabled.



If the tape is already ASSIGNED to the validator, the param-
eter "u" may be omitted.  If the validator had not ASSIGNED
a tape unit, however, "u" must specify the unit.  Since a
validator may only have one unit assigned at a time, if the
validator already has a unit assigned, the store command
must refer to that assigned unit.


A message is written to the operator log specifying that the com-
mand was executed by the validator.

NOTE:   This may be a very time consuming command since the CUD



                        OPERATOR Commands                  Page 8-84







Netval External Reference Specification             July 12, 1988



and operator log files are stored.



A sample command/response sequence is:

     arch> store

     tape rewinding

     storing configuration: 1 records written
     storing node_host(header): 1 records written
     storing node_host(hostlists): 45 records written
     storing node_host(nodelists): 55 records written
     storing node_host(classes): 23 records written
     storing node_host(groups): 8 records written
     storing oper_log: 4 records written
     storing mud_update: 1 records written
     storing DNIC: 1 records written
     storing passtable: 1 records written
     storing schedtable: 1 records written
     storing CUD: 255 records written
     storing CUD_PARAMETER: 1 records written

     store completed
     tape rewinding

     arch>




















                        OPERATOR Commands                  Page 8-85







Netval External Reference Specification             July 12, 1988



                 9.  Account Supervisor Commands

The following commands are available to users with account super-
visor license in the CUD:

  CHANGE        Modify an existing user
  CHECK         Report on the existence of a username
  DATE          Type current UTC date and time
  DELETE        Remove a user or access entry
  DISPLAY       Type user or Netval information
  HELP          Type list of legal commands
  NEW           Validate a new user or add an access entry
  QUIT          Exit from system
  SELECT        Designate criteria for DISPLAY DIRECTORY
       selections
  VERSION       Type current Netval version number

9.1  CHANGE Command

The CHANGE command allows the validator to modify a CUD
entry for an existing username.  The parameters that may be
changed are:



ACCESS PROFILE
CONTROL OPTIONS
DISTRICT
PASSWORD
USERNAME
UUN (if configuration parameter UUNSassignable is ENABLED)



A password change (or change in the NO PASSWORD option)
updates the PASSWORD CHANGE DATE; any other change updates
the ENTRY CHANGE DATE.


The following Sections describe the various CHANGE commands.








                   Account Supervisor Commands                  Page 9-86







Netval External Reference Specification             July 12, 1988



9.1.1  CHANGE_ACCESS_Command

Syntax:   CHAnge Access <username>

Description:   The CHANGE ACCESS command allows a validator
to change an existing access entry for a user.  If the user-
name is not entered on the command line, the validator is
prompted for the username.  If there is more than one access
entry in the user's profile, the current access profile is
displayed and the validator is prompted for the access entry
position to change.  The validator is then prompted for the
new access entry information (refer to Section 5.3.4 for a
complete description of how to enter access entry informa-
tion).  The access entry is completely re-defined.



If the conditional compilation flag VALIDATE_X25_NAMES is
enabled in the Netval configuration file, the username has a
null password, the system defined minimum password size is
non zero, and the format of the username is an X.25 gen-
erated username, the validator will not be prompted for the
origin of the users access profile entries; they will all be
set to the link host number for the username.  Refer to Sec-
tion 4.8 for further inforamtion about X.25 username valida-
tion.



If NETVAL is compiled with the MUD II format, the validator
will also be prompted for the access control options includ-
ing shut override for each access profile entry.



Before requesting confirmation of the change, Netval
displays the new entry to the validator.











                   Account Supervisor Commands                  Page 9-87







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (MUD I format):

     * change access

     username: valuser

     (1) Origin     : class 5
       Destination:
             hosts: 48 (home)
     (2) Origin     : class 1
       Destination:
            Groups: 5 (home), 6

     access position to change: 3
     number out of bounds
     "3" should be a decimal number between 1 and 2
     re-enter value: 1

     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g

     enter list of groups: 5, 6
     is group 5 a home? y
     is group 6 a home? n
     HOST, GROUP or COMPLETE? c

     (1) Origin     : class 5
       Destination:
            groups: 5 (home), 6
     (2) Origin     : class 1
       Destination:
            groups: 5 (home), 6

     all entries correct? y

     entry completed









                   Account Supervisor Commands                  Page 9-88







Netval External Reference Specification             July 12, 1988



* change access

username: valuser

(1)  Origin     : class 5
   Destination:
        groups: 5 (home)

is the origin a system defined class? n
is origin an exception list? n
NODE or HOST? h

enter list of hosts: 43, 56
NODE, HOST or COMPLETE? n

enter list of nodes: 2007
NODE, HOST or COMPLETE? c

defining destination,
HOST or GROUP? h

enter list of hosts: 32, 16
is host 32 a home? y
is host 16 a home? n
HOST, GROUP or COMPLETE? g

enter list of groups: 1
is group 1 a home? n
HOST, GROUP or COMPLETE? h

enter list of destination hosts: 15
is host 15 a home? n
HOST, GROUP or COMPLETE? c

(1) Origin     :
        hosts: 43, 56
        nodes: 2007
  Destination:
        hosts: 32 (home), 16
       groups: 1
        hosts: 15

all entries correct? y

entry completed



                   Account Supervisor Commands                  Page 9-89







Netval External Reference Specification             July 12, 1988



*




A sample command/response sequence is (MUD II format):

     * change access

     name: valuser

     (1) Control option
         shut override
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call
         host regular call

         Origin      :
               classes: 5
         Destination:
                 hosts: 48 (home)
     (2) Control option
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call
         host regular call

         Origin      :
           (not)   classes: 1, 4
             (not)   hosts: 2020, 2040
         Destination:
               groups: 5 (home), 6



     access position to change: 3
     number out of bounds
     "3" should be a decimal number between 1 and 2
     re-enter value: 1






                   Account Supervisor Commands                  Page 9-90







Netval External Reference Specification             July 12, 1988



     defining access control options,
     shut override? y
     is profile entry for destination name? y
     is profile entry for username? y
     allow auxiliary circuit? n
     assigning normal circuit

     defining origin,
     is the origin a system defined class? y
     class: 5






































                   Account Supervisor Commands                  Page 9-91







Netval External Reference Specification             July 12, 1988



     defining destination,
     HOST or GROUP? g

     enter list of groups: 5, 6
     HOST, GROUP or COMPLETE? h

     enter list of hosts: 78
     is group 5 a home? y
     is group 6 a home? n
     HOST, GROUP or COMPLETE? h
     enter list of hosts: 78
     is host 78 a home? n
     HOST, GROUP or COMPLETE? c

     (1) Control option
         shut override
         username ok
         destination name ok
         allow normal circuit
         user regular call
         host regular call

         Origin      :
               classes: 5
         Destination:
               groups: 5 (home), 6
                 hosts: 78
     (2) Control option
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call
         host regular call

         Origin      :
           (not)   classes: 1, 4
             (not)   hosts: 2020, 2040
         Destination:
               groups: 5 (home), 6









                   Account Supervisor Commands                  Page 9-92







Netval External Reference Specification             July 12, 1988



9.1.2  CHANGE_CONTROL_Command

Syntax:   CHAnge COntrol <username>

Description:   The CHANGE CONTROL command allows a validator
to change control options for a user.  If the username is
not entered on the command line, the validator is prompted
for the username.  The validator is prompted for the control
options (refer to Section 5.3.3 for a description of enter-
ing control options).



If the NO PASSWORD option is turned off, the user is also
prompted for a password.



If the NO PASSWORD, TRANSPARENT GATEWAY or IGNORE HOST
option was selected and the user entry has hosts or groups
which are not homed, the validator will be asked if all the
destinations are to be homed.  If the reply is "no" then the
command will be terminated with no changes made; if the
reply is "yes", then the program will attempt to flag all
destinations in the user entry as a home.  If this is not
possible (there is a Group 0 or exception destination), the
validator will be notified, and no changes will be made to
the user entry.




















                   Account Supervisor Commands                  Page 9-93







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (MUD I format):

     * change control

     username: valuser

     shut override? y
     password required? y
     transparent login? y
     assigning "IGNORE HOST" option

     all entries correct? y

     entry completed

     *




A sample command/response sequence is (MUD II format):

     * change control

     name: valuser

     defining network entry options,
     is entry a username? y
     is entry a destination name? y
     password required? y
     transparent login? y
     ignore destination? n

     defining Netval license,
     account supervisor? n
     network administrator? n
     auditor? n
     operator? n

     all entries correct? y

     entry completed

     *




                   Account Supervisor Commands                  Page 9-94







Netval External Reference Specification             July 12, 1988



9.1.3  CHANGE_DISTRICT_Command

Syntax:   CHAnge District <username>

Description:   The CHANGE DISTRICT command allows a valida-
tor to assign a user to a new district.  If the username is
not entered on the command line, the validator is prompted
for the username.  The validator is prompted for the new
district.




A sample command/response sequence is:

     * change district

     username: valuser

     district: 1

     entry completed

     *

9.1.4  CHANGE_NAME_Command

Syntax:   CHAnge NAme <username>

Description:   The CHANGE NAME command allows the validator
to change an existing username to a new username.  If the
old username is not entered on the command line, the valida-
tor is prompted for the old username.  The validator is
prompted for the new username, which must not be a currently
valid name.













                   Account Supervisor Commands                  Page 9-95







Netval External Reference Specification             July 12, 1988



If the conditional compilation flag VALIDATE_X25_NAMES is
enabled in the Netval configuration file, the username has a
null password, the system defined minimum password size is
non zero, and the format of the username is an X.25 gen-
erated username, the validator will also be prompted for a
password.  Refer to Section 4.8 for further inforamtion
about X.25 username validation.




A sample command/response sequence is:

     * change name

     username: valuser
     new username: validuser

     user already exists
     new username: newvaluser

     all entries correct? y

     entry completed

     * change name x25.01234

     this username must be assigned a password,
     password:
     enter it again:

     new username: nonx25name

     all entries correct? y

     entry completed

     *

9.1.5  CHANGE_PASSWORD_Command








                   Account Supervisor Commands                  Page 9-96







Netval External Reference Specification             July 12, 1988



Syntax:   CHAnge Password <username>

Description:   The CHANGE PASSWORD command allows the vali-
dator to assign a new password to an existing username.  If
the username is not entered on the command line, the valida-
tor is prompted for a username.  The validator is prompted
for the new password, which is not echoed and is requested
twice.




A sample command/response sequence is:

     * change password

     username: valuser

     password:
     enter it again:

     entry completed

     *

9.1.6  CHANGE_UUN_Command

Syntax:   CHAnge Uun <username>

Description:   The CHANGE UUN command allows a validator to
change the UUN for a username.  The validator is prompted
for the username and the new UUN.  Netval does not check to
see if the UUN is already assigned to another user.



A sample command/response sequence is:











                   Account Supervisor Commands                  Page 9-97







Netval External Reference Specification             July 12, 1988



     * change uun

     username: valuser

     UUN: 123

     all entries correct? y

     entry completed

     *

9.2  CHECK Command

Syntax:   CHEck <username>


Description:   The CHECK command allows a validator to
determine if a username is currently valid or not.  If the
username is not entered on the command line, the validator
is prompted for the username.




A sample command/response sequence is:

     * check baduser

     user not found



* check

username: gooduser

user already exists

*








                   Account Supervisor Commands                  Page 9-98







Netval External Reference Specification             July 12, 1988



9.3  DATE Command

Syntax:   DAte


Description:   The DATE command allows a validator to deter-
mine the current date and time in UTC.




A sample command/response sequence is:

     * date

     12/05/83 12:06:36  UTC

     *

9.4  DELETE Command

The DELETE command allows the validator to:

     - invalidate a user
     - remove an access entry from an access profile

The following Sections describe the various DELETE commands.

9.4.1  DELETE_ACCESS_Command

Syntax:   DElete Access <username>

Description:   The DELETE ACCESS command allows a validator
to remove an access entry from a user's CUD entry.  The
validator is prompted for the username and the current
access profile is displayed.  The validator is next prompted
for the access entry position to delete.



If the user has only one access entry, it may not be
deleted.  Note that the position of the remaining access
entries may change when the delete access command is used.





                   Account Supervisor Commands                  Page 9-99







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * delete access

     username: valuser

     (1) Origin     : class 3
       Destination:
             hosts: 6 (home)

     (2) Origin     : class 15
       Destination:
             hosts: 6 (home)

     access position to delete: 1

     all entries correct? y

     entry completed

     *

9.4.2  DELETE_USER_Command

Syntax:   DElete User <username>

Description:   The DELETE USER command allows a validator to
remove a username from the CUD.  If the username is not
entered on the command line, the validator is prompted for
the username.


















                   Account Supervisor Commands                  Page 9-100







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * delete user

     username: usertogo

     all entries correct? y

     entry completed

     *

9.5  DISPLAY Command

The DISPLAY command allows the validator to display informa-
tion about:

          a single user
          all or a subset of users
          class(es)
          group(s)
          hostlist(s)
          nodelist(s)


The following Sections describe the various DISPLAY commands.

9.5.1  DISPLAY_CLASS_Command

Syntax:   DIsplay CLass <c>


Description:   The DISPLAY CLASS command allows a validator
to type the description of a single class or all classes.

"c" specifies a class; if no class is entered, all classes
are listed.











                   Account Supervisor Commands                  Page 9-101







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display class

     class 1:
     SOUTHWESTERN_HOSTS
     ARIZONA_NODES

     class 2:
     WESTERN_HOSTS
     CALIFORNIA_NODES

     class 3:
     (not) WESTERN_HOSTS
     (not) CALIFORNIA_NODES

     class 4:
     FLORIDA_NODES

     class 20: undefined

     class 21:
     TEXAS_NODES

     class 22 - 25: undefined

     *

9.5.2  DISPLAY_DIRECTORY_Command

Syntax:   DIsplay DIrectory <Lines l>
         <ACcess,Control,Entrydate,Gan,Passworddate,Uun}>

(The validator may select one to five field options.)

Description:   The DISPLAY DIRECTORY command allows a vali-
dator to specify and display information about selected
users.  The SELECT command creates the criteria by which
users are selected.  (Refer to Section 9.9 for information
on how to select users.) User information is specified by
entering one or more field options.







                   Account Supervisor Commands                  Page 9-102







Netval External Reference Specification             July 12, 1988



If no field is specified all information which is applicable
to the validator's license will be displayed.  Validators
with network administrator or auditor license may see users
in any GANS; therefore, the GAN field is included in the
output.  Validators with account supervisor license and no
auditor license will only see users in their own GAN; there-
fore, GANS will not be included in their output.



The parameters ACCESS, CONTROL, ENTRYDATE, GAN, PASSWORDDATE
and UUN specify fields.  The validator may specify upwards
to five fields if one is an access profile.  If one field is
not an access profile then the maximum number of specified
fields is four.



Account supervisors with no auditor license may not specify
the field GAN.



If FORCE_PASSWORD_CHANGE is enabled, the DISPLAY DIRECTORY
command will be able to display FPC users based on their
password expiration date.  The expiration date will be shown
in a the field labeled "EXPIRE." Users will also be able to
be selected on the basis of being validated as Force Pass-
word Exempt.



The parameter LINES specifies the optional pagination
feature; "l" specifies the number of lines per page.  The
minimum number of lines allowed is 25.  The optimal number
of lines will depend on the physical page size.  Each page
begins with a form feed, page number and column headers.











                   Account Supervisor Commands                  Page 9-103







Netval External Reference Specification             July 12, 1988



With or without the pagination feature, the first page of
information begins with a display of the current user selec-
tions and column headers.

NOTE:   This may be a very time consuming command since the
entire CUD is scanned.




A sample command/response sequence for network administrator
is (MUD I format):

* display directory lines 50

All users are selected


USERNAME                  UUN        GAN  DIST  CONTROL
PASSWORD  ENTRY
   ACCESS

firstusername           57711        701  1211  np id so
02/12/84  02/14/84
  (1)Origin: H2033 H1011 N1200 N3301 N1054  Destination: HG44
  (2)Origin: C3  Destination: G5
secondusername           4320        102    40  na so
01/01/84  01/01/84
  (1)Origin: C0  Destination: G0 HH2100
thirdusername           11302      75701   331
12/31/83  02/05/84
  (1)Origin: C1  Destination: H24 G7
         .
         .
         .
lastusername              1502       4307     6  np
05/19/72  07/16/77
  (1)Origin: C1  Destination: HH88

*








                   Account Supervisor Commands                  Page 9-104







Netval External Reference Specification             July 12, 1988



* display directory gan access control passworddate

User selection is based on the following:
access     node 22-45
gan        23-50

USERNAME                     GAN   CONTROL      PASSWORD
   ACCESS
firstusername                  46  id so np     02/11/77
   (1)Origin: (not) N33  Destination: HH2300
secondusername                 47               11/02/80
   (1)Origin: C3  Destination: G5
   (2)Origin: H110 H53 N23  Destinaton: H14 HG2
thirdusername                  50  as           04/09/83
   (1)Origin: N23 N2100  Destination: H45
         .
         .
         .
lastusername                   24  so np        02/12/84
   (1)Origin: N37  Destination: H2300 G4

*


An example of a DISPLAY DIRECTORY command with Select Criteria set to
show all users whose passwords expire on 06/06/86
is presented below (MUD I format):

* display directory

User selection is based on the following:
expiredate              06/06/86


USERNAME                        UUN             GAN     DIST    CONTROL
PASSWORD   ENTRY      EXPIRE
     ACCESS

firstusername                   47747           477     47
MM/DD/YY   MM/DD/YY  06/06/86
     (1)Origin: ...

*





                   Account Supervisor Commands                  Page 9-105







Netval External Reference Specification             July 12, 1988



A sample command/response sequence for network administrator
is (MUD II format):

* display directory lines 50

All users are selected


USERNAME            UUN        GAN  DIST  CONTROL PASSWORD
ENTRY  EXPIRE
   ACCESS

firstusername           57711        701  1211  ut np id
02/12/86  02/14/86
  (1) so uok nc ac
     Origin: H2033 H1011 N1200 N3301 N1054 C3
     Destination: HG44
  (2) uok nc ac
     Origin: C3
     Destination: G5 secondusername           4320
102    40  ut na 01/01/86  01/01/86
  (1) so uok nc ac
     Origin: C0 H24
     Destination: G0 HH2100 thirdusername           11302
75701   331  ut 12/31/83  02/05/86
  (1) uok nc ac
     Origin: C1
     Destination: H24 G7
         .
         .
         .  lastusername              1502       4307     6
ut dt np 05/19/72  07/16/77
  (1) uok dok nc ac
     Origin: C1 N1034
     Destination: HH88
     Hostname: -3106911

*










                   Account Supervisor Commands                  Page 9-106







Netval External Reference Specification             July 12, 1988



Note:   MUD II control options are represented by:
     ut = username entry type
     dt = destination entry type
     ap = password required on auxiliary circuit


Access control options are represented by:
     uok = username ok
     dok = destination name ok
     so = shut override
     anc = allow normal circuit
     aac = allow auxiliary circuit
     urc = user regular call
     ucc = user collect call
     hrc = host regular call
     hcc = host collect call
     rd = destination name required


Note:   MUD I and MUD II control options are represented by:
     np = no password required on login
     tl = transparent login
     id = ignore destination
     so = shut override
     fe = force password exempt (only included if
     FORCE_PASSWORD_CHANGE enabled)
     ns = no self password change (only included if
     NO_SELF_PASSWORD_CHANGE enabled)
     as = account supervisor
     na = network administrator
     au = auditor
     op = operator


Note:   within the access profile
     C = class
     G = group
     N = node
     H = host
     HH = home host
     HG = home group







                   Account Supervisor Commands                  Page 9-107







Netval External Reference Specification             July 12, 1988



9.5.3  DISPLAY_GANPASS

Syntax:    DIsplay GAnpass <nnnn>

Description:   The command DISPLAY GANPASS allows a validator to
display either a single GAN, or all GANs with a defined password
validity period.

When DISPLAY GANPASS is invoked without designating a specific
GAN, every non-empty entry in Passtable will be displayed. Each
FPC-designated GAN will be displayed along with its associated
password validity period. The display will be sorted by GAN in
ascending order.  The number of available Passtable entries will
be displayed immediately prior to table display.  Available space
message line is "entries available: (nnn)".  The two methods of
invoking display of the entire Passtable are:




A sample command/response sequence is:
     * display ganpass

     entries available: 47

     GAN     PASSLIFE 1234    30 3333    47
          .
          .  4747    365

     *


















                   Account Supervisor Commands                  Page 9-108







Netval External Reference Specification             July 12, 1988



9.5.4  DISPLAY_GANPASS_with_Empty_Passtable

There will be no Passtable data to display if Netval has just
been brought up and a DISPLAY GANPASS is executed before a SET
GANPASS.  Passtable may also be empty if an INITIALIZE PASSTABLE
command has been executed.  When Passtable is empty DISPLAY GAN-
PASS will show the following message: "There are no GANPASS
definitions."


An example of such a sequence follows:

* display ganpass

entries available: 300 There are no GANPASS definitions

*

A sample command/response sequence is:
     Addition of a specific GAN to the DISPLAY GANPASS command
     invocation will result in display of the designated GAN's
     password validity period.  The two ways to display the pass-
     word validity period of a specific GAN are:




A sample command/response sequence is:
     * display ganpass 4747

     password validity period: 365 days

     *















                   Account Supervisor Commands                  Page 9-109







Netval External Reference Specification             July 12, 1988



9.5.5  DISPLAY_Undefined_GANPASS

If a SET GANPASS has not been targeted at the GAN, its password
validity period is infinite.  In such a case, DISPLAY GANPASS
nnnn will respond with the following message: "password validity
period infinite".  An example follows:



A sample command/response sequence is:
     * display ganpass 2222

     password validity period infinite

     *

































                   Account Supervisor Commands                  Page 9-110







Netval External Reference Specification             July 12, 1988



9.5.6  DISPLAY_GPOGAN

Syntax:    DIsplay GPogan <nnnn>

Description:   The DISPLAY GPOGAN command allows a validator to
determine if a GAN's users have access to GPO. A query can check
on a single GAN simply by designating it in the command string.
If a specific GAN is not designated the entire Gpotable will be
displayed. Gpotable display will be in ascending order. Every
Gpotable display will be preceeded by a message stating the
number of remaining entries in the table.

All possible sequences which attempt to display the entire Gpot-
able are presented below.



A sample command/response sequence is:
     * display gpogan

     entries available: 47

     GPO eligible GANs 1111 2222 3333
       .
       .  9999

     *


When Gpotable is empty DISPLAY GPOTABLE will show the following
message: "There are no GPOTABLE definitions." An example of such
a sequence follows:

* display gpogan

entries available: 300 There are no GPOGAN definitions

*

Entering a specific GAN number with the DISPLAY GPOGAN command
will result in a message indicating whether the GAN's users have
access to GPO or not.






                   Account Supervisor Commands                  Page 9-111







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:
     * display gpogan 4747

     GPO access denied

     *



9.5.7  DISPLAY_GROUP_Command

Syntax:   DIsplay Group <g>


Description:   The DISPLAY GROUP command allows a validator
to type the description of a single group or all groups.

"g" specifies a group; if no group is entered, all groups
are listed.




A sample command/response sequence is:

     * display group

     group 1:
     EASTERN_HOSTS

     group 2:
     WESTERN_HOSTS

     group 3:
     EASTERN_HOSTS
     WESTERN_HOSTS

     group 4:
     (not) EASTERN_HOSTS
     (not) WESTERN_HOSTS
     group 9 - 10: undefined

     *





                   Account Supervisor Commands                  Page 9-112







Netval External Reference Specification             July 12, 1988



9.5.8  DISPLAY_HOSTLIST_Command

Syntax:   DIsplay Hostlist <listname>


Description:   The DISPLAY HOSTLIST command allows a valida-
tor to type the description of a single hostlist or of all
hostlists.  The validator is asked if he wants the list to
be displayed in an ascending order.



"listname" specifies the name of an existing hostlist; if
"listname" is  omitted, all hostlists are listed.




A sample command/response sequence is:

     * display hostlist eastern_hosts

     do you want the list sorted? y

     EASTERN_HOSTS: 78, 123, 134, 350, 1429

     *

9.5.9  DISPLAY_HOSTLIST_DESCRIPTIONS_Command

NOTE:   This command is only available if Netval is compiled
with the configuration parameter include_list_descriptions
ENABLED.



Syntax:   DIsplay Hostlist DEscriptions

Description:   The DISPLAY HOSTLIST DESCRIPTIONS command
allows a validator to type all hostlist names and their
corresponding descriptions.







                   Account Supervisor Commands                  Page 9-113







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display hostlist descriptions

     TSH: TYMSHARE HOSTS
     TNH: MESSAGE SWITCH HOSTS
     SPH: SPANISH HOSTS

     *

9.5.10  DISPLAY_HOSTLIST_NAMES_Command

Syntax:   DIsplay Hostlist NAmes


Description:   The DISPLAY HOSTLIST NAMES command allows a
validator to type all hostlist names.




A sample command/response sequence is:

     * display hostlist names

     TSH, TNH, DPC, IRC, TS2, USG, DHT, ISI, PAL, HNY, IPS,
     SLI, BNG, DNB, SPH, AUH, ASH, GSH, INT, IN2, IN3, APS,
     IN4, IP1, MPS

     *

9.5.11  DISPLAY_NODELIST_Command

Syntax:   DIsplay NOdelist <listname>


Description:   The DISPLAY NODELIST command allows a valida-
tor to type the description of a single nodelist or of all
nodelists.  The validator is asked if he wants the list to
be displayed in an ascending order.








                   Account Supervisor Commands                  Page 9-114







Netval External Reference Specification             July 12, 1988



"listname" specifies the name of an existing nodelist; if
"listname" is omitted, all nodelists are listed.




A sample command/response sequence is:

     * display nodelist texas_nodes

     do you want the list sorted? no

     TEXAS_NODES: 2334, 1427, 1428, 2230, 2331, 2332, 2333

     *

9.5.12  DISPLAY_NODELIST_DESCRIPTIONS_Command

NOTE:   This command is only available if Netval is compiled
with the configuration parameter include_list_descriptions
ENABLED.



Syntax:   DIsplay NOdelist DEscriptions

Description:   The DISPLAY NODELIST DESCRIPTIONS command
allows a validator to type all nodelist names and their
corresponding descriptions.




A sample command/response sequence is:

     * display nodelist descriptions

     TPT: TYMNET PTT NODES
     TWT: TYMSHARE WATS
     TLG: TELEGLOBE ISIS

     *






                   Account Supervisor Commands                  Page 9-115







Netval External Reference Specification             July 12, 1988



9.5.13  DISPLAY_NODELIST_NAMES_Command

Syntax:   DIsplay NOdelist Names


Description:   The DISPLAY NODELIST NAMES command allows a
validator to type all nodelist names.




A sample command/response sequence is:

     * display nodelist names

     TPT, TWT, TSB, TTN, TFN, PTT, RTT, BRN, FRG, NLD, BPO,
     SJP, ITC, RAU, CTN, HKG, GTW, KTL, MAN, MLA, PAN, ALT,
     WAT, TTW, FIR, TLG, HTH, POR, ESR, BHR

     *

9.5.14  DISPLAY_SELECT_Command

Syntax:   DIsplay Select


Description:   The DISPLAY SELECT command allows a validator
to type the current criteria for user selection.  User
selection is determined by the SELECT command (Section 9.9)
and used by the DISPLAY DIRECTORY Command (Section 9.5.2).


















                   Account Supervisor Commands                  Page 9-116







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display select

     User selection is based on the following:
     access     class 1-5
     gan        10
     district   11-21
     control    no password

     *




A sample sequence which shows Expiredate as the only selection
criteria follows:

     * display select

     User selection is based on the following:
     expiredate              06/06/86




A sample command/response sequence for a network administra-
tor is:

     * display select

     User selection is based on the following:
     access         node 2100-2150
     gan            5-11
     control        password only
                    shut override
     entry date     after 02/14/84

     *









                   Account Supervisor Commands                  Page 9-117







Netval External Reference Specification             July 12, 1988



9.5.15  DISPLAY_USER_Command

Syntax:   DIsplay USer <username>


Description:   The DISPLAY USER command allows a validator
to type the contents of a single user's CUD entry for which
a validator has access.  If the username is not entered on
the command line, the validator is prompted for the user-
name.  The information displayed includes: GAN, UUN, control
options, district, entry change date, password change date,
and access profile.


If NETVAL is compiled with the MUD II type, the information
displayed will also include: username/destination type and access
control options.

If FORCE_PASSWORD_CHANGE is enabled, the "Entry Changed" date
will be updated when FPC code invalidates a user's password.
However, it will leave the "Password Change Date" untouched.
Therefore, when DISPLAY USER is invoked the Password Change Date
shown will be the date the user last changed his own password.

In addition to updating the "Entry Changed" field, two message
lines will be added to the DISPLAY USER screen.  The purpose of
these messages is to inform the viewer of the reason the user's
password is no longer valid.

Instead of displaying the already-past expiration date, the
user's GAN's Ganpass definition will be shown. The message will
be the same one shown by DISPLAY GANPASS, "password validity
period: (nnn) days".

In addition to the password validity period message, a message
will declare the reason the user's password was invalidated.  The
invalidation explanation message is: "NOTICE! password invali-
dated by Netval for exceeding password validity period"










                   Account Supervisor Commands                  Page 9-118







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (MUD I format):

     * display user

     username: valuser

     GAN: 1
     UUN: 1
     shut override
     district: 1
     entry changed: 2/23/82 13:03:11
     password changed: 1/2/83
     (1) Origin     : class: 5
       Destination:
             hosts: 48 (home)
     (2) Origin     :
             hosts: 43
             nodes: 1017, 2007
       Destination:
             hosts: 16 (home)

     *


























                   Account Supervisor Commands                  Page 9-119







Netval External Reference Specification             July 12, 1988



A sample DISPLAY USER screen of a user with a FPC-invalidated
password follows:

* display user username

GAN: 1234
UUN: 14661
district: 1
entry changed: 06/06/86 00:00:47
password changed: 05/06/86
password validity period: 30 days
NOTICE! password invalidated by Netval for exceeding password
validity period
(1) Origin     : class: 4
    Destination:
         groups: 2
          hosts: 477 (home)

*





























                   Account Supervisor Commands                  Page 9-120







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is with MUD II format:

     * display user

     name: valuser

     GAN: 1
     UUN: 1

     username type
     force password exempt
     district: 1
     entry changed: 2/23/82 13:03:11
     password changed: 1/2/83
     (1) Control option
         shut override
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call

         Origin      :
             classes: 5
         Destination:
               hosts: 48 (home)
     (2) Control option
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call

         Origin      :
               hosts: 43
             nodes: 1017, 2007
         Destination:
               hosts: 16 (home)

     *

9.6  HELP Command

Syntax:   HElp






                   Account Supervisor Commands                  Page 9-121







Netval External Reference Specification             July 12, 1988



Description:   The HELP command allows a validator to list
all currently legal commands.




A sample command/response sequence is:

* help

CHANGE        Modify an existing value

CHECK         Report on the existence of a username

DELETE        Remove an existing value

DISPLAY       Type Netval information

NEW           Validate a new value

QUIT          Exit from Netval

SELECT        Designate criteria for Display Directory Com-
mand
            selections


DATE          Type current UTC date and time

HELP          Type list of legal commands

VERSION       Type current Netval version number

*

9.7  NEW Command

The NEW command allows the validator to:

     - validate a user
     - add an access entry for an existing user

The following Sections describe the various NEW commands.





                   Account Supervisor Commands                  Page 9-122







Netval External Reference Specification             July 12, 1988



9.7.1  NEW_ACCESS_Command

Syntax:   New Access <username>

Description:   The NEW ACCESS command allows a validator to
add an access entry to an existing user.  If the username is
not entered on the command line, the validator is prompted
for the username.  The validator is prompted for the new
access entry information (refer to Section 5.3.4 for a com-
plete description of how to enter access entry information).
The new entry is appended to the end of the user's access
profile, i.e., it will be the last access entry position.



If the conditional compilation flag VALIDATE_X25_NAMES is
enabled in the Netval configuration file, the username has a
null password, the system defined minimum password size is
non zero, and the format of the username is an X.25 gen-
erated username, the validator will not be prompted for the
origin of the users access profile entries; they will all be
set to the link host number for the username.  Refer to Sec-
tion 4.8 for further inforamtion about X.25 username valida-
tion.



If NETVAL is complied with MUD II, the validator will also
be prompted for the access control options.



Before requesting confirmation of the change, Netval
displays the new entry to the validator.














                   Account Supervisor Commands                  Page 9-123







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (MUD I format):

     * new access

     username: valuser

     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g
     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access entry? n

     (1) Origin     : class: 2
       Destination:
             hosts: 102, 103 (home)
     (2) Origin     : class: 5
       Destination:
            groups: 5 (home)

     all entries correct? y

     entry completed





















                   Account Supervisor Commands                  Page 9-124







Netval External Reference Specification             July 12, 1988



* new access

username: valuser

is the origin a system defined class? n
is origin an exception list? n
NODE or HOST? h

enter list of hosts: 43, 56
NODE, HOST or COMPLETE? n
enter list of nodes: 2007
NODE, HOST or COMPLETE? c

defining destination,
HOST or GROUP? h

enter list of hosts: 16
is host 16 a home? y
HOST, GROUP or COMPLETE? c

another access entry? n

(1) Origin     : class: 2
  Destination:
        hosts: 102, 103 (home)
(2) Origin     : class: 5
  Destination:
       groups: 5 (home)
(3) Origin     :
        hosts: 43, 56
        nodes: 2007
  Destination:
        hosts: 16 (home)

all entries correct? y

entry completed

*









                   Account Supervisor Commands                  Page 9-125







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (MUD II format):

     * new access

     name: valuser

     defining access control options,

     shut override? y
     is profile entry for destination name? y
     is profile entry for username? y

     defining origin,
     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g
     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access profile entry? n

     (1) Control option
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call

         Origin      :
               classes: 2
         Destination:
                 hosts: 102, 103 (home)
     (2) Control option
         shut override
         username ok
         allow normal circuit
         allow auxiliary circuit
         user regular call

         Origin      :
               classes: 5
         Destination:
               groups: 5 (home)



                   Account Supervisor Commands                  Page 9-126







Netval External Reference Specification             July 12, 1988



     all entries correct? y

     entry completed

9.7.2  NEW_USER_Command

Syntax:   New User <As old-username|X25>

Note:   The X25 option is only available if the conditional
compilation flag VALIDATE_X25_NAMES (Section 4.8) is enabled
in the Netval configuration file.



Description:   The NEW USER command allows a validator to
add a new user to the CUD.  The validator is prompted for
the CUD parameters:



USERNAME (if the X25 parameter is not entered)
CONTROL OPTIONS (refer to Section 5.3.3 for a description of
entering control options)
PASSWORD (if the X25 parameter is not entered)
DISTRICT
ACCESS ENTRY (refer to Section 5.3.4 for a complete descrip-
tion of how to enter access entry information)
UUN (if configuration parameter UUNSassignable is ENABLED)



If NETVAL is complied with MUD II, the validator will also
be prompted for the MUD II control options and access con-
trol options.



If the validator has network administrator or programmer
license, he will also be prompted for account information;
otherwise, the new user is entered into the validator's
account.







                   Account Supervisor Commands                  Page 9-127







Netval External Reference Specification             July 12, 1988



If the AS parameter is entered, the new user will be vali-
dated with the identical parameters as the "old-username"
specified; the validator will be prompted for the new user's
password, if appropriate.  If the configuration parameter
UUNSassignable is ENABLED, and the configuration parameter
ASSIGN_UUN_ON_NEW_USER_AS is TRUE the UUN will also be
prompted for; if the configuration parameter UUNSassignable
is ENABLED, and the configuration parameter
ASSIGN_UUN_ON_NEW_USER_AS is FALSE, the UUN of the "old-
username" will be used for the new user.



The X25 parameter specifies that the new user is to be an
X.25 interface username, i.e., one that the X.25 interface
constructs.  The validatator will be prompted for a one to
four character prefix, and the link host number, the host
number associated with the link from the host computer to
the X.25 interface.  The username will be made up of the
host number appended to the prefix.  Refer to the descrip-
tion of the "Network Username Prefix Statement" in the
X.25/X.75 Interface Reference Manual for a discussion of the
prefix; refer to the description of the "Link Host Number
Statement" in the X.25/X.75 Interface Reference Manual for a
discussion of the link host number.



If the X25 parameter is included, the password and access
profile origins are not prompted for; the password is made a
"null" password, and all origins are the link host number.



Before requesting confirmation of the change, Netval
displays the new entry to the validator, including the GAN,
if the user is not the first user in an account.



Upon successful completion of the new user command, Netval
displays the new user's UUN (if one was assigned), and if
the user belongs to a a new account, the new GAN is
displayed.




                   Account Supervisor Commands                  Page 9-128







Netval External Reference Specification             July 12, 1988



A sample command/response sequence for an account supervisor
is (MUD I format):

     * new user

     username: newvaluser

     shut override? y
     password required? y
     transparent login? y
     assigning "IGNORE HOST" option
     password:
     enter it again:
     district: 1
     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g

     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access entry? no


     ignore destination
     shut override
     transparent login
     district: 1

     (1) Origin     : class: 5
       Destination:
            groups: 5 (home)


     all entries correct? y

     GAN: 11334
     UUN: 113206

     entry completed





                   Account Supervisor Commands                  Page 9-129







Netval External Reference Specification             July 12, 1988



* new user as oldvaluser

username: newvaluser1
password:
enter it again:

GAN: 11334
ignore destination
shut override
transparent login
district: 1
(1) Origin     : class: 5
  Destination:
       groups: 5 (home)

all entries correct? y

UUN: 113207

entry completed

*


























                   Account Supervisor Commands                  Page 9-130







Netval External Reference Specification             July 12, 1988



A sample command/response sequence for an account supervisor
is  (MUD I format username validated will be X25.01234):

     * new user x25

     prefix: X25.
     link host: 1234

     shut override? y
     transparent login? n
     ignore destination? n
     account supervisor? y

     assigning a null password
     district: 1

     assigning origin as host 1234
     defining destination,
     HOST or GROUP? g

     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access entry? no


     ignore destination
     shut override
     transparent login
     district: 1

     (1) Origin     :
             hosts: 1234
       Destination:
            groups: 5 (home)


     all entries correct? y

     GAN: 11334
     UUN: 113206

     entry completed




                   Account Supervisor Commands                  Page 9-131







Netval External Reference Specification             July 12, 1988



     *















































                   Account Supervisor Commands                  Page 9-132







Netval External Reference Specification             July 12, 1988



A sample command/response sequence for a user with network
administrator license is (MUD I format):

     * new user

     does this user belong to a new account? y
     username: newvalgan

     shut override? n
     password required? y
     transparent login? n
     ignore destination? n
     account supervisor? y
     password:
     enter it again:
     district: 3

     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g
     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access entry? n

     Account Supervisor
     district: 3
     (1) Origin     : class 5
       Destination:
            groups: 5 (home)

     all entries correct? y

     GAN: 11335
     UUN: 113210

     entry completed

     *






                   Account Supervisor Commands                  Page 9-133







Netval External Reference Specification             July 12, 1988



A sample command/response sequence for an account supervisor
is (MUD II format):
     * new user

     name: newvaluser

     defining network entry options,
     is entry a username? n
     assigning destination name type
     password required? y
     transparent login? y
     assigning "IGNORE DESTINATION" option
     password:
     enter it again:
     district: 1
     defining access control options,
     shut override? y
     defining origin,
     is the origin a system defined class? y
     class: 5

     defining destination,
     HOST or GROUP? g

     enter list of groups: 5
     is group 5 a home? y
     HOST, GROUP or COMPLETE? c

     another access profile entry? no


     destination name type
     ignore destination
     transparent login
     district: 1

     (1) Control option
         shut override
         destination name ok
         allow normal circuit
         allow auxiliary circuit
         host regular call

         Origin      :
               classes: 5



                   Account Supervisor Commands                  Page 9-134







Netval External Reference Specification             July 12, 1988



         Destination:
               groups: 5 (home)


     all entries correct? y

     GAN: 11334
     UUN: 113206

     entry completed

     *

9.8  QUIT Command

Syntax:   Quit

Description:   The QUIT command allows the validator to
leave the Netval system.




A sample command/response sequence is:

     * quit

     Logging out at: 5/14/83 17:55:18

     PLEASE LOG IN:

9.9  SELECT Command
















                   Account Supervisor Commands                  Page 9-135







Netval External Reference Specification             July 12, 1988



The SELECT command allows the validator to determine which
users will be displayed by the DISPLAY DIRECTORY command
(Section 9.5.2).  The validator may select all users in the
CUD or a subset with CUD field values in common.  Subsets of
users are selected by specifying a field and a field value
or range of field values.  The fields which may be specified
are:

          ALL
          ACCESS
          CONTROL
          DISTRICT
          ENTRYDATE
          PASSWORDDATE
          UUN



If more than one selection has been made then the DISPLAY
DIRECTORY Command will only display those user entries which
satisfy ALL the selections.  For example, if SELECT DISTRICT
3 were entered and SELECT PASSWORDDATE BEFORE 1/12/83 were
entered then only users which satisfied both SELECT commands
would be displayed.  If the validator wanted to select all
users with password dates before 1/12/83 then all previously
made selections would have to be cleared.  In this case
SELECT DISTRICT ALL could be entered.

The following Sections describe the various SELECT commands.

9.9.1  SELECT_ALL_Command

Syntax:   SELect ALl

Description:   The SELECT ALL command allows the validator
to select all users to which he has access.  Any selections
that were previously made are cleared with this command.











                   Account Supervisor Commands                  Page 9-136







Netval External Reference Specification             July 12, 1988



The SELECT ALL Command causes validators with auditor or
network administrator license to select all users in the
CUD.  The SELECT ALL Command causes validators with account
supervisor license and no auditor license to select all
users in their GAN.




A sample command/response sequence is:

     * select all

     selection accepted

     *

9.9.2  SELECT_ACCESS_Command

Syntax:   SELect ACcess [ALl|Node [n|n1-n2]|
           Host [h|h1-h2]|CLass [c|c1-c2]|GRoup [g|g1-g2]]
           COntrol [UOk,DOk,ANc,AAc,URc,UCc,DRc,DCc,So,Rd]]


Access control options are represented by:
     UOk = username ok
     DOk = destination name ok
     ANC = allow normal circuit
     AAC = allow auxiliary circuit
     URc = user regular call
     UCc = user collect call
     DRc = host regular call
     DCc = host collect call
     SO = shut override
     RD = destination name required













                   Account Supervisor Commands                  Page 9-137







Netval External Reference Specification             July 12, 1988



Syntax:   SELect ACcess [ALl|Node [n|n1-n2]| Description:
The SELECT ACCESS command allows the validator to select
users with either particular node, host, class or group
values or particular access control options in their access
profile.  Validators may also specify a range of nodes,
hosts, classes or groups.  When a range is specified users
with one or more of the elements in the range are selected.



"n", "h", "c" and "g" specify node, host, class and group
numbers, respectively.  "n1-n2", "h1-h2", "c1-c2", "g1-g2"
specify node, host, class and group number ranges.

Specifying the ALL parameter results in eliminating any pre-
vious limitation of selection based on access profiles.
That is, users will be selected without regard to their
access profile.  Entering the parameters NODE, HOST, CLASS
or GROUP and the appropriate number or number range will
limit the selection of users based on access profile infor-
mation.  Entering CLASS and a class number, for example,
will result in the selection of users with that class in
their access profile.  If the validator enters a range of
classes then users with one or more of the classes in that
range will be selected.  Selection of access control options
allows the validator to specify up to five options.  When
two or more access control options are specified, selected
users must have all of them.  That is, option1 AND option2
AND option3 must be true - not option1 OR option2 OR
option3.



The complex structure of the access profile must be kept in
mind when using the host and node values.  Entering host
120-144, for example, would result in the selection of all
users with those explicit hosts in any of their origins
and/or destinations.  Users with those hosts only implicitly
present in classes or groups would not be selected.  Users
with hosts in the specified range in an exception origin
would also be selected.







                   Account Supervisor Commands                  Page 9-138







Netval External Reference Specification             July 12, 1988



Each successive execution of SELECT ACCESS cancels the pre-
vious one.  If the validator enters SELECT ACCESS GROUP 4
and then enters SELECT ACCESS CLASS 5-12, only the latter
command will be operative.




A sample command/response sequence is:

     * select access group 4-8

     selection accepted

     *

The previous command/response sequence would result in the
selection of all users with one or more of groups four
through eight in their access profile, if no other selec-
tions were operative.  If other selections are operative
then users would only be selected if they satisfied all cri-
teria.




A sample command/response sequence is:

     * select access node 2100

     selection accepted

     *

The previous command/response sequence would result in the
selection of users with node 2100 in their access profile.
If a user had only an implicit reference to node 2100
through a class, they would not be selected.  If no other
selections were operative, all users with node 2100 would be
selected.  If other selections are operative then the por-
tion of users with node 2100 that satisfy all criteria would
be selected.






                   Account Supervisor Commands                  Page 9-139







Netval External Reference Specification             July 12, 1988



9.9.3  SELECT_CONTROL_Command

Syntax(MUD I):   SELect COntrol [ALl|NP,Tl,Id,So,AS,NA,AU,Op,Li,PO,Fe,NS}]

Note:   control options are represented by:
     NP = no password required on login
     TL = transparent login
     ID = ignore destination
     SO = shut override
     AS = account supervisor
     NA = network administrator
     AU = auditor
     OP = operator
     LI = licensed
     PO = password only
     FE = force password exempt (only included if
     FORCE_PASSWORD_CHANGE enabled)
     NS = no self password change (only included if
     NO_SELF_PASSWORD_CHANGE enabled)

Syntax(MUD II):   SELect COntrol [ALl | UT,DT,NP,TL,Id,AP,So,AS,
           NA,AU,Op,Li,PO,Fe,NS}]


Note:   control options are represented by:
     UT = username entry type
     DT = destination entry type
     NP = no password required on login
     TL = transparent login
     ID = ignore destination
     AP = password required on auxiliary circuit
     SO = shut override
     AS = account supervisor
     NA = network administrator
     AU = auditor
     OP = operator
     LI = licensed
     PO = password only
     FE = force password change exempt
     NS = no self password change








                   Account Supervisor Commands                  Page 9-140







Netval External Reference Specification             July 12, 1988



Description:   The SELECT CONTROL command allows the valida-
tor to select users with specified control options.



The parameter ALL selects of users without regard to their
control options.  Entering one or more control options,
results in limiting selection to users with the options
specified.  All the options are single control options
except LI and PO.  LI specifies users who are network
administrators or account supervisors.  PO specifies users
who are NOT network administrators or account supervisors.



When two or more control options are specified, selected
users must have all of them.  That is, option1 AND option2
AND option3 must be true - not option1 OR option2 OR
option3.  Note, with MUD II, shut override needs to be true
for only one of the user's access profile entries for the
user to be selected as long as all other control selections
are true also.



Since a user cannot be a network administrator and an
account supervisor at the same time, these control options
are mutually exclusive.  Other mutually exclusive control
options are: licensed and password only, password only and
account supervisor, and password only and network adminis-
trator.  There is no limit to the number of control options
entered at the same time as long as none of them are mutu-
ally exclusive.



Each successive execution of SELECT CONTROL cancels the pre-
vious one.  If the validator enters SELECT CONTROL AS TL and
then enters SELECT CONTROL AU, only the latter command will
be operative.








                   Account Supervisor Commands                  Page 9-141







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * select control tl li

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users that are network administrators or
account supervisors and have the transparent login option,
if no other selections were operative.  If other selections
are operative then only those users which satisfy all cri-
teria would be selected.




A sample command/response sequence is:

     * select control id so as

     selection accepted

     *



The previous command/response sequence would result in the
selection of users with the control options of ignore desti-
nation and shut override and account supervisor, if no other
selections were operative.  If other selections are opera-
tive then only users which satisfy all criteria would be
selected.

9.9.4  SELECT_DISTRICT_Command

Syntax:   SELect District [ALl|d|d1-d2]

Description:   The SELECT DISTRICT command allows the vali-
dator to select users in a district or users from a range of
districts.




                   Account Supervisor Commands                  Page 9-142







Netval External Reference Specification             July 12, 1988



"d" specifies a district number and "d1-d2" a range of dis-
trict numbers.  Entering a number or number range results in
limiting selection of users to just those districts speci-
fied.  Entering the parameter ALL, results in the selection
of users without regard to their district number.



Each successive execution of SELECT DISTRICT cancels the
previous one.  If the validator enters SELECT DISTRICT 55-75
and then enters SELECT DISTRICT 25, only the latter command
will be operative.




A sample command/response sequence is:

     * select district 25

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users in district 25 if no other selections
were operative.  If other selections were operative then the
portion of users in district 25 that satisfy all operative
criteria would be selected.

9.9.5  SELECT_ENTRYDATE_Command

Syntax:   SELect Entrydate [ALl|<Before|AFter>date]

Description:   The SELECT ENTRYDATE command allows the vali-
dator to select users with a CUD entry change on, before or
after a specified date.









                   Account Supervisor Commands                  Page 9-143







Netval External Reference Specification             July 12, 1988



Entering the parameter ALL results in the selection of users
without regard to their entry change date.  "date" is
entered as:

                         MM/DD</YY>

where MM is a month of the year, DD is a day of the month,
and YY is the optional year (current is default).  If a date
is entered without a BEFORE or AFTER parameter then users
with that entry change date will be selected.  If a date and
BEFORE is entered then users with entry change dates before
the specified date will be selected.  If a date and the
parameter AFTER is entered then users with entry change
dates after the specified date will be selected.



Each successive execution of SELECT ENTRYDATE cancels the
previous one.  If the validator enters SELECT ENTRYDATE
3/22/82 and then enters SELECT ENTRYDATE 4/21/80, only the
latter command will be operative.




A sample command/response sequence is:

     * select entrydate 5/11/83

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users with the entry change date of
5/11/83, if no other selections were operative.  If other
selections were operative then only those users which
satisfy all criteria would be selected.








                   Account Supervisor Commands                  Page 9-144







Netval External Reference Specification             July 12, 1988



* select entrydate before 5/11/83

selection accepted

*



The previous command/response sequence would result in the
selection of users with entry change dates before 5/11/83 -
not including 5/11/83.

9.9.6  SELECT_PASSWORDDATE_Command

Syntax:   SELect PAssworddate [ALl|<Before|AFter>date]

Description:   The SELECT PASSWORDDATE command allows the
validator to select users with a password change on, before
or after a specified date.



Entering the parameter ALL results in the selection of users
without regard to their password change date.  "date" is
entered as:

                         MM/DD</YY>

where MM is a month of the year, DD is a day of the month,
and YY is the optional year (current is default).  If a date
without a BEFORE or AFTER parameter is entered then all
users with that password change date will be selected.  If a
date and the parameter BEFORE is entered then users with
password change dates before the specified date will be
selected.  If a date and the parameter AFTER is entered then
users with password change dates after the specified date
will be selected.



Each successive execution of SELECT PASSWORDDATE cancels the
previous one.  If the validator enters SELECT PASSWORDDATE
AFTER 5/17/79 and then enters SELECT PASSWORDDATE 9/18/83,
only the latter command will be operative.




                   Account Supervisor Commands                  Page 9-145







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * select passworddate 2/12/84

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users with the password change date of
2/12/84, if no other selections were operative.  If other
selections are operative then only those users which satisfy
all criteria will be selected.




A sample command/response sequence is:

     * select passworddate before 2/12/84

     selection accepted

     *



The previous command/response sequence would result in the
selection of users with password change dates before 2/12/84
- not including 2/12/84.

9.9.7  SELECT_UUN_Command

Syntax:   SELect Uun [ALl|u|u1-u2]

Description:   The SELECT UUN command allows the validator
to select users for a single UUN or a specified range of
UUNs.








                   Account Supervisor Commands                  Page 9-146







Netval External Reference Specification             July 12, 1988



"u" is a UUN number and "u1-u2" is a range of UUN numbers.
Specifying a UUN number or a range of UUN numbers results in
limiting selection of users to just those UUNS entered.
Entering the parameter ALL, results in the selection of
users without regard to their UUN number.  That is, there is
no UUN criterion for user selection.



Each successive execution of SELECT UUN cancels the previous
one.  If the validator enters SELECT UUN 1-5 and then enters
SELECT UUN 221-335, only the latter command will be opera-
tive.




A sample command/response sequence is:

     * select uun 103-225

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users with UUNs in the range of 103 to 225,
if no other selections were operative.  If other selections
were operative then only those users which satisfy all
operative criteria would be selected.

9.10  VERSION Command

Syntax:   Version

Description:   The VERSION command allows the validator to
determine the current version number of the Netval system.
The VERSION command displays the NETVAL version number and
whether NETVAL is compiled with MUD I or MUD II.  If NETVAL
is compiled for MUD II, the supervisor version is also
shown.





                   Account Supervisor Commands                  Page 9-147







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is: (MUD I type)

     * version

     Netval 5.00, MUD I

     *




A sample command/response sequence is: (MUD II type)

     * version

     Netval 5.00, MUD II sup version 43.00

     *






























                   Account Supervisor Commands                  Page 9-148







Netval External Reference Specification             July 12, 1988



               10.  Network Administrator Commands

Validators who have network administrator license may execute any
commands in the previous Sections in addition to the following:

       CHANGE        Alter the GAN for a user's CUD entry or
            modify a class, group, hostlist or nodelist
       DELETE        Remove a hostlist, nodelist or DNIC
       DISPLAY DNIC  Type out the DNIC file or specified DNIC
       NEW           Define a new hostlist, nodelist or DNIC
       READ DNIC     Read and display the NETVAL or a Supervisor
            DNIC table
       READ TABLE    Read and display the NETVAL or a Supervisor
            Class and Group table
       SELECT        Designate GAN criterion for DISPLAY DIREC-
            TORY selections
       SEND          Create the Class/Group or DNIC table and
            initiate transmission to all Supervisors

10.1  CHANGE Command

Network administrator's may perform any change described in
Section 9.1..  In addition, the CHANGE command allows net-
work administrators to modify:



- the GAN for an existing user
- a DNIC definition
- a class
- a group
- a hostlist
- a nodelist


The following Sections describe the various network administrator
CHANGE commands.

10.1.1  CHANGE_CLASS_Command









                 Network Administrator Commands                  Page 10-149







Netval External Reference Specification             July 12, 1988



Syntax:   CHAnge CLass <c>

Description:   The CHANGE CLASS command allows the validator
to modify the definition of a specified class.  If "c" is
not entered on the command line, the validator is prompted
for the class number.  The current class description is
displayed.  The validator may then:



   - specify the class as an exception class
   - add, delete or replace hostlists
   - add, delete or replace nodelists


Hostlists added are inserted at the beginning of the list
which defines the class; nodelists added are appended to the
end of the definition.  Hostlists may only be replaced by
hostlists, and nodelists may only be replaced by nodelists.
Refer to Supervisor and Network documentation for an expla-
nation of the use of classes.



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.






















                 Network Administrator Commands                  Page 10-150







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * change class

     class: 4

     class 4:
     SHARED_NODES
     NETWORK_NODES

     should this be an exception definition? y
     change HOSTLIST or NODELIST? h
     ADD, DELETE, REPLACE or END? a

     hostlist to be added: tymshare_hosts
     ADD, DELETE, REPLACE or END? e

     class 4:
     (not) TYMSHARE_HOSTS
     (not) SHARED_NODES
     (not) NETWORK_NODES

     all entries correct? y

     entry completed

     *





















                 Network Administrator Commands                  Page 10-151







Netval External Reference Specification             July 12, 1988



If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * change class

     class: 4

     class 4:
     TPT: tymnet ptt nodes
     ONT: ontyme hosts

     should this be an exception definition? n
     change HOSTLIST or NODELIST? h
     ADD, DELETE, REPLACE or END? d

     hostlist to be deleted: ont
     ADD, DELETE, REPLACE or END? e

     class 4:
     TPT: tymnet ptt nodes

     all entries correct? y

     entry completed

     *

10.1.2



















                 Network Administrator Commands                  Page 10-152







Netval External Reference Specification             July 12, 1988



Syntax:   CHAnge DNic <Default | dnicname>

Description:   The CHANGE DNIC command allows the validator to
change either the default DNIC or a non-default DNIC which
already exists.  If neither the parameter DEFAULT nor the dnic-
name is entered on the command line, the validator will be
prompted to enter the dnicname.  The dnicname must be four
digits, each digit may be a number from 0 to 9.

If either the parameter DEFAULT is entered or the dnicname
entered is the default DNIC, the validator will be prompted to
verify that they wish to change the default DNIC.  If the valida-
tor answers "no" to change the default DNIC, the command will be
aborted.  If the validator answers "yes", the validator will be
prompted to enter the default dnicname.  The entire default DNIC
definition will be changed to the new default DNIC definition
entered.  The validator will then be prompted to enter the number
of NTN digits for first MUD lookup.  This must be a number from 0
to 10.  Next, the validator will be prompted to answer if the
DNIC is to be shared.  If the validator answers "no", the valida-
tor will be prompted to verify all entries are correct.  If the
validator answers "yes", the validator will be prompted to enter
the number of NTN digits for second lookup.  When the number of
NTN digits for second lookup is required, it may not be equal to
the number of NTN digits for first lookup and it must be a number
from 0 to 10.

If a non-default DNIC is being changed, the old DNIC defintion
will be replaced with an entirely new DNIC definition.  (See "NEW
DNIC Command" for information on entering a new DNIC definition.)
The dnicname changed must be an existing DNIC, however, the dnic-
name will be changed if the DNIC entered in response to "enter
non-default DNIC" is different from the old dnicname.


A sample command/response sequence is:
     * change dnic default

     Current default DNIC: not defined

     This command will change the default DNIC for the Network.
     Do you wish to continue? Y
     Enter default DNIC: 3106

     Number of NTN digits for first MUD lookup: 10



                 Network Administrator Commands                  Page 10-153







Netval External Reference Specification             July 12, 1988



     Is default DNIC shared between networks? Y
     Number of NTN digits for second MUD lookup: 8

     all entries correct? Y

     *

     * change dnic 3110

     Currently defined:                non-native
     first lookup 0, second lookup 0

     Enter non-default DNIC: 3110
     Is non-default DNIC native? Y
     Does non-default DNIC use the default numbering plan? N
     Is non-default DNIC shared between networks? N
     Number of NTN digits for first MUD lookup: 0

     all entries correct? Y

     *


10.1.3  CHANGE_GAN_Command

Syntax:   CHAnge GAn <username>

Description:   The CHANGE GAN command allows the validator
to assign the username specified to an alternate account.
If the username is not entered on the command line, the
validator is prompted for the username.  The validator is
prompted for the new GAN.
















                 Network Administrator Commands                  Page 10-154







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * change gan

     username: valuser

     GAN: 11334

     all entries correct? y

     entry completed

     *

10.1.4  CHANGE_GROUP_Command

Syntax:   CHAnge GRoup <g>

Description:   The CHANGE GROUP command allows the validator
to modify the definition of a specified group.  If "g" is
not entered on the command line, the validator is prompted
for the group number.  The current group description is
displayed.  The validator may then:



   - specify the group as an exception group
   - add, delete or replace hostlists


Hostlists added are appended to the end of the definition.
Refer to Supervisor and Network documentation for an expla-
nation of the use of groups.



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.










                 Network Administrator Commands                  Page 10-155







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * change group

     group: 1

     group 1:
     SHARED_HOSTS

     should this be an exception definition? n
     ADD, DELETE, REPLACE or end? r

     hostlist to be replaced: shared_hosts
     new hostlist: network_hosts
     ADD, DELETE, REPLACE or END? e

     group 1:
     NETWORK_HOSTS

     all entries correct? y

     entry completed

     *
























                 Network Administrator Commands                  Page 10-156







Netval External Reference Specification             July 12, 1988



If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * change group

     group: 1

     group 1:
     (not) DPT: datapac hosts
     (not) TS2: tymshare hosts 2

     should this be an exception definition? y
     ADD, DELETE, REPLACE or end? a

     hostlist to be added: TSH
     ADD, DELETE, REPLACE or END? e

     group 1:
     (not) DPT: datapac hosts
     (not) TS2: tymshare hosts 2
     (not) TSH: tymshare hosts

     all entries correct? y

     entry completed

     *

10.1.5  CHANGE_HOSTLIST_Command

Syntax:   CHAnge Hostlist <listname>

Description:   The CHANGE HOSTLIST command allows the vali-
dator to modify the definition of a hostlist.  If "listname"
is not entered on the command line, the validator is
prompted for the hostlist name.  The current hostlist defin-
ition is displayed.  The validator may then:



   - add a host to the end of the list
   - delete a host from the list
   - replace a host in the list with a new host
   - specify that the list be sorted



                 Network Administrator Commands                  Page 10-157







Netval External Reference Specification             July 12, 1988



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.




A sample command/response sequence is:

     * change hostlist

     listname: tymshare_hosts

     TYMSHARE_HOSTS
     23, 346, 149

     ADD, DELETE, REPLACE or END? a

     enter list of hosts: 78, 134
     ADD, DELETE, REPLACE or END? r

     host to be replaced: 346
     new host: 350
     ADD, DELETE, REPLACE or END? d

     enter list of hosts: 149
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? n

     TYMSHARE_HOSTS: 23, 350, 78, 134

     all entries correct? y

     entry completed

     *













                 Network Administrator Commands                  Page 10-158







Netval External Reference Specification             July 12, 1988



If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * change hostlist

     listname: tsh

     TSH: tymshare hosts
     57, 60, 87

     should this be an exception definition? n
     ADD, DELETE, REPLACE or END? d

     enter list of hosts: 60
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? n

     TSH: tymshare hosts
     57, 87

     all entries correct? y

     entry completed

     *

10.1.6  CHANGE_HOSTLIST_DESCRIPTION_Command

NOTE:   This command is only available if Netval is compiled with
the configuration parameter include_list_descriptions ENABLED.


Syntax:   CHAnge Hostlist Description <listname>

Description:   The CHANGE HOSTLIST DESCRIPTION command
allows the validator to modify the descritpion of a host-
list.  If "listname" is not entered on the command line, the
validator is prompted for the hostlist name.  The current
hostlist definition is displayed, and the new list descrip-
tion is prompted for.







                 Network Administrator Commands                  Page 10-159







Netval External Reference Specification             July 12, 1988



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.




A sample command/response sequence is:

     * change hostlist tym description

     TYM: TYMSHARE_HOSTS
     23, 346, 149

     description:
     cupertino tymshare hosts

     TYM: CUPERTINO TYMSHARE HOSTS
     23, 346, 149

     all entries correct? y

     entry completed

     *

10.1.7  CHANGE_NODELIST_Command

Syntax:   CHAnge NOdelist <listname>

Description:   The CHANGE NODELIST command allows the vali-
dator to modify the definition of a nodelist.  If "listname"
is not entered on the command line, the validator is
prompted for the nodelist name and the current nodelist
definition is displayed.  The validator may then:



   - add a node to the end of the list
   - delete a node from the list
   - replace a node in the list with a new node
   - specify that the list be sorted







                 Network Administrator Commands                  Page 10-160







Netval External Reference Specification             July 12, 1988



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.




A sample command/response sequence is:

     * change nodelist

     nodelist name: tymshare_nodes

     TYMSHARE_NODES
     770, 1012, 1102

     ADD, DELETE, REPLACE or END? a

     enter list of nodes: 1040, 1202
     ADD, DELETE, REPLACE or END? d

     enter list of nodes: 1012
     ADD, DELETE, REPLACE or END? r

     node to be replaced: 1102
     new node: 1103
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? y

     TYMSHARE_NODES
     770, 1040, 1103, 1202

     all entries correct? y

     entry completed

     *












                 Network Administrator Commands                  Page 10-161







Netval External Reference Specification             July 12, 1988



If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * change nodelist

     listname: twt

     TWT: tymshare wats
     2012, 2116, 2007
     ADD, DELETE, REPLACE or END? r

     node to replaced: 2012
     new node: 2011
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? n

     TWT: tymshare wats
     2011, 2116, 2007

     all entries correct? y

     entry completed

     *

10.1.8  CHANGE_NODELIST_DESCRIPTION_Command

NOTE:   This command is only available if Netval is compiled with
the configuration parameter include_list_descriptions ENABLED.


Syntax:   CHAnge NOdelist Description <listname>

Description:   The CHANGE NODELIST DESCRIPTION command
allows the validator to modify the descritpion of a nodel-
ist.  If "listname" is not entered on the command line, the
validator is prompted for the nodelist name.  The current
nodelist definition is displayed, and the new list descrip-
tion is prompted for.








                 Network Administrator Commands                  Page 10-162







Netval External Reference Specification             July 12, 1988



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.




A sample command/response sequence is:

     * change nodelist tpt description

     TPT: TYMNET NODES
     1056, 1234

     DESCRIPTION:
     tymnet ptt nodes

     TPT: TYMNET PTT NODES
     1056, 1234

     all entries correct? y

     entry completed

     *

10.2  DELETE Command

In addition to the functions described in Section 9.4, the
DELETE command allows network administrator's to delete:



DNICS (if the flag INCLUDE_DNIC is enabled in config file)
HOSTLISTS
NODELISTS


The following Sections describe the various network administrator
DELETE commands.









                 Network Administrator Commands                  Page 10-163







Netval External Reference Specification             July 12, 1988



10.2.1  DELETE_DNIC_Command

Syntax:   DElete Dnic <dnicname>

Description:   The DELETE DNIC command allows the validator to
delete a non-default DNIC definition from the DNIC file.  If the
validator does not enter the dnicname of the definition to be
deleted on the command line, the validator will be prompted for
the dnicname.  The dnicname name must exist in the DNIC file, in
order to be deleted.  The default DNIC cannot be deleted.

A sample command/response sequence is:
     * delete dnic 3110

     all entries correct? Y

     *


10.2.2  DELETE_HOSTLIST_Command

Syntax:   DElete Hostlist <listname>

Description:   The DELETE HOSTLIST command allows a valida-
tor to remove a hostlist definition.  If "listname" is not
entered on the command line, the validator is prompted for
the hostlist name.  Before requesting confirmation of the
deletion, NETVAL displays the hostlist description to the
validator.



A hostlist may not be deleted if it is included in a class
or group definition.  If the hostlist specified IS included
in a system definition, NETVAL will report the first such
instance.












                 Network Administrator Commands                  Page 10-164







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (if
include_list_descriptions is disabled, list descriptions
will not be displayed):

  * delete hostlist

  listname: used_list

  USED_LIST is referred to in the definition of ***  group 1
  ***
  and may not be deleted

  * delete hostlist

  hostlist name: ont

  ONT: ontyme hosts
  68, 92, 102

  all entries correct? y

  entry completed

  *

10.2.3  DELETE_NODELIST_Command

Syntax:   DElete Nodelist <listname>

Description:   The DELETE NODELIST command allows a valida-
tor to remove a nodelist definition.  If "listname" is not
entered on the command line, the validator is prompted for
the nodelist name.  Before requesting confirmation of the
deletion, NETVAL displays the nodelist description to the
validator.



A nodelist may not be deleted if it is included in a class
definition.  If the hostlist specified IS included in a sys-
tem definition, NETVAL will report the first such instance.







                 Network Administrator Commands                  Page 10-165







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (if
include_list_descriptions is disabled, list descriptions
will not be displayed):

     * delete nodelist

     nodelist name: txsn

     TXSN: texas nodes
     2334, 1427, 1428, 2230, 2331, 2332, 2333

     all entries correct? y

     entry completed

     *

10.3  DISPLAY DNIC Command



Syntax:   DIsplay DNic <Default | NOn-default [dnicname]>

Description:   The DISPLAY DNIC command allows the validator to
type the contents of the DNIC file.  The validator may type the
contents of the entire file, of the default DNIC or a selected
non-default DNIC.  If neither the parameter default or non-
default is entered on the command line, the entire DNIC file will
be displayed.  If the parameter default is entered on the command
line, only the default DNIC will be displayed from the DNIC file.
If the parameter non-default is entered, the validator will be
prompted for the dnicname, if it was not entered on the command
line.  Only, the non-default DNIC for the dnicname entered will
be displayed from the DNIC file.

A sample command/response sequence is:
     * display dnic

     DNIC file last updated: 03/18 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0

     Non-default DNIC:



                 Network Administrator Commands                  Page 10-166







Netval External Reference Specification             July 12, 1988



           3108     non-native       first lookup 0, second
     lookup 0

           3115     native shared    first lookup 10, second
     lookup 9

     * * display dnic default

     DNIC file last updated: 03/18 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0

     * * display dnic non-default 3108

     DNIC file last updated: 03/18 00:40

     Non-default DNIC:
           3108     non-native       first lookup 0, second
     lookup 0

     *

10.4  NEW Command

In addition to the functions described in Section 9.7, the
NEW command allows network administrator's to define new:



DNICS (if the flag INCLUDE_DNIC is enabled in config file)
HOSTLISTS
NODELISTS


The following Sections describe the various network administrator
NEW commands.

10.4.1  NEW_DNIC_Command








                 Network Administrator Commands                  Page 10-167







Netval External Reference Specification             July 12, 1988



Syntax:   New Dnic

Description:   The NEW DNIC command allows the validator to add a
new non-default DNIC definition to the DNIC file.  The validator
will be prompted to enter the non-default DNIC, which must be a
four-digit name.  The validator will not be allowed to enter a
dnicname of a DNIC which is already defined.  Next, the validator
will be prompted to enter if the DNIC is native.  If the valida-
tor answers "no", the validator will be prompted to enter the
minimum number of NTN digits exected for the first MUD lookup and
to verify all entries correct.  The number of NTN digits for
first lookup must be from 0 to 10.

If the validator answers "yes", they will be prompted to answer
if the default numbering plan is to be used (i.e. the DNIC is to
be translated).  If the validator answers "yes" to the default
numbering plan, then the validator will be prompted to verify all
entries correct.

If the validator answers "no" to the default numbering plan, the
validator will be prompted to answer if the DNIC is shared.  If
the DNIC is NOT shared, the validator will be prompted to enter
the number of NTN digits for first MUD lookup and to verify all
entries correct.

If the DNIC is shared, the validator will be prompted to enter
the number of NTN digits for first MUD lookup and the number of
NTN digits for second MUD lookup.  When NTN digits for second MUD
lookup are entered, they cannot be equal to number of NTN digits
for first MUD lookup.  If the number of NTN digits for second MUD
lookup is greater than the number of NTN digits for first MUD
lookup, the validator will be be prompted to verify that this is
correct.  The number of NTN digits for second lookup must be from
0 to 10.  Last, the validator will be prompted to verify all
entries correct.

A sample command/response sequence is:
     * new dnic

     Enter non-default DNIC: 3115
     Is non-default DNIC native? Y
     Does non-default DNIC use the default numbering plan? Y

     all entries correct? Y




                 Network Administrator Commands                  Page 10-168







Netval External Reference Specification             July 12, 1988



     *

10.4.2  NEW_HOSTLIST_Command

Syntax:   New Hostlist

Description:   The NEW HOSTLIST command allows a validator
to name a new hostlist and describe the hosts in the list.
The validator is prompted for the name of the hostlist, the
hosts that comprise the list, and whether or not the list
should be stored sorted in an ascending order.



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.




A sample command/response sequence is:

     * new hostlist

     listname: tymshare_hosts

     enter list of hosts: 25, 39, 36, 22
     ADD, DELETE, REPLACE or END? e

     do you want the list sorted? y

     TYMSHARE_HOSTS
     22, 25, 36, 39

     all entries correct? y

     entry completed

     *









                 Network Administrator Commands                  Page 10-169







Netval External Reference Specification             July 12, 1988



If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * new hostlist

     listname: irc
     description:
     telenet interfaces

     enter list of hosts: 13, 39, 77, 22
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? n

     IRC: telenet interfaces
     13, 39, 77, 22

     all entries correct? y

     *

10.4.3  NEW_NODELIST_Command

Syntax:   New Nodelist

Description:   The NEW NODELIST command allows a validator
to name a new nodelist and describe the nodes in the list.
The validator is prompted for the name of the nodelist, the
nodes that comprise the list, and whether or not the list
should be stored sorted in an ascending order.



Before requesting confirmation of the change, NETVAL
displays the new entry to the validator.













                 Network Administrator Commands                  Page 10-170







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * new nodelist

     listname: shared_nodes

     enter list of nodes: 1012, 1102, 770
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? no

     SHARED_NODES
     1012, 1102, 770

     all entries correct? y

     entry completed

     *




If Netval is compiled with the configuration parameter
include_list_descriptions ENABLED, a sample command/response
sequence is:

     * new nodelist

     listname: tpt
     description:
     tymnet ptt nodes

     enter list of nodes: 2001, 2113, 2060
     ADD, DELETE, REPLACE or END? e
     do you want the list sorted? no

     TPT: tymnet ptt nodes
     2001, 2113, 2060

     all entries correct? y

     entry completed

     *




                 Network Administrator Commands                  Page 10-171







Netval External Reference Specification             July 12, 1988



10.5  READ Command

The READ COMMAND allows the Network Administrator to read the
following tables from either the supervisors or the NETVAL disk:


DNIC (if the flag INCLUDE_DNIC is enabled in config file)
CLASS/GROUP

10.5.1  READ_DNIC_Command

Syntax:   REAd Dnic <Supervisor sup#>
                                            <Default | NOn-
default [dnicname]>

Description:   The READ DNIC command allows the validator to
either read the DNIC table on the NETVAL disk or the to read the
DNIC table from a selected supervisor.  If the parameter supervi-
sor is entered, the validator must enter a valid supervisor
number sup#.  If the validator enters the parameter default on
the command line, only the default DNIC will be read from either
the NETVAL DNIC table or the selected supervisor DNIC table.  If
the validator enters the parameter non-default then only the DNIC
for the dnicname entered will be read from either the NETVAL DNIC
table or the selected supervisor DNIC table.  If the non-default
parameter is entered and the dnicname is not entered on the com-
mand line, the validator will be prompted for the dnicname.

A sample command/response sequence is:
     * read dnic

     DNIC last created: 03/16/88 20:25:14

     DNIC file last updated: 03/17 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0

     Non-default DNIC:
           3108     non-native       first lookup 0, second
     lookup 0

     *




                 Network Administrator Commands                  Page 10-172







Netval External Reference Specification             July 12, 1988



     * read dnic default

     DNIC last created: 03/16/88 20:25:14

     DNIC file last updated: 03/17 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0

          3108     non-native        first lookup 0, second
     lookup 0

     *

     * read dnic non-default 3108

     DNIC last created: 03/16/88 20:25:14

     DNIC file last updated: 03/17 00:40

     Non-default DNIC:
           3108     non-native       first lookup 0, second
     lookup 0

     *

     * read dnic supervisor 127

     DNIC last created: 03/16/88 20:25:14

     Supervisor DNIC table last updated: 03/16 20:35

     DNIC file last updated: 03/17 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0

     Non-default DNIC:
           3108     non-native       first lookup 0, second
     lookup 0

     *




                 Network Administrator Commands                  Page 10-173







Netval External Reference Specification             July 12, 1988



     * read dnic default supervisor 127

     DNIC last created: 03/16/88 20:25:14

     Supervisor DNIC table last updated: 03/16 20:35

     DNIC file last updated: 03/17 00:40

     Default DNIC:
          3106      native           first lookup 10, second
     lookup 0


10.5.2  READ_TABLE_Command

Syntax:   Read Table <Supervisor s> <Class c|Group g>

Description:   The READ TABLE command allows the validator
to display a Class and Group table.  If the parameter SUPER-
VISOR is included in the command, the table for Supervisor
"s" will be read and displayed (the Supervisor does not have
to be a legal NETVAL Supervisor, i.e., set with the SET
SUPERVISOR command, but must be within the range specified
by the configuration parameter
MAXIMUM_EXPECTED_SUPERVISORS).  If the SUPERVISOR parameter
is omitted, NETVAL's table will be displayed.



If the optional argument CLASS C is entered, only the infor-
mation for class C will be displayed; if the optional argu-
ment GROUP G is entered, only the information for group g
will be displayed;



Note that the classes and groups are displayed in terms of
actual nodes and hosts, NOT nodelists and hostlists as in
the DISPLAY CLASS (Section 9.5.1) and DISPLay GROUP (Section
9.5.7) commands.








                 Network Administrator Commands                  Page 10-174







Netval External Reference Specification             July 12, 1988



If the NETVAL table is being displayed, before the class and
group information is output, the total number of origins and
destinations available is displayed.  ORIGINS AVAILABLE is
the number of additional nodes and hosts that can be be
added to nodelists and hostlists used in class definitions;
DESTINATIONS AVAILABLE is the number of additional hosts
that can be added to hostlists used in group definitions.




A sample command/response sequence is:

     * read table

     Origins available: 520
     Destinations available: 1760

     Class/group table last created: 04/23/86 00:47:56

     class 1:
     nodes: 1121, 1437, 2249

     class 2:
     hosts: 47, 22, 34
     nodes: 1017, 1018, 1019, 2001, 2002, 2003

     class 3:
     nodes except: 1317, 2124, 2248

     class 22 - 25: undefined


     group 1:
     hosts except: 123, 350, 149, 78, 134, 54, 67, 76

     group 2:
     hosts: 2, 3, 6, 7, 8, 9
     group 9 - 10: undefined

     *







                 Network Administrator Commands                  Page 10-175







Netval External Reference Specification             July 12, 1988



10.5.3  SELECT_GAN_Command

Syntax:   SELect GAn [ALl|g|g1-g2]

Description:   The SELECT gan command allows the validator
to select users in a GAN or users in a range of GANS.



g" is a GAN number and "g1-g2" a range of GAN numbers.
Entering a number or number range results in limiting selec-
tion of users to just those GANS specified.  Entering the
parameter ALL results in the selection of users from all
GANS.



Each successive execution of SELECT GAN cancels the previous
one.  If the validator enters SELECT GAN 1-5 and then enters
SELECT GAN 5, only the latter command will be operative.




A sample command/response sequence:

     * select gan 22

     selection accepted

     *



The previous command/response sequence would result in the
selection of all users in GAN 22 if no other selections were
operative.  If other selections were operative then the por-
tion of users in GAN 22 that satisfy all operative criteria
would be selected.









                 Network Administrator Commands                  Page 10-176







Netval External Reference Specification             July 12, 1988



10.6  SEND Command

The SEND command command allows network administrator's to
send the following tables the the supervisors:



DNIC (if the flag INCLUDE_DNIC is enabled in config file)
CLASS/GROUP

10.6.1  SEND_DNIC_Command

Syntax:   SENd Dnic <Wait>

Description:   The SEND DNIC table will allow the validator to
build a DNIC table from the DNIC file and send the DNIC table to
the supervisors.  If the parameter wait is entered, the validator
will not be returned to the command prompt until updates to all
supervisors has been attempted or the validator enters the escape
key.

NOTE:  The DNIC table is not read into the supervisors memory
after the table is sent, until the supervisor wakes up.

A sample command/response sequence is:
     * send dnic

     DNIC table send initialized

     *

     * send dnic wait

     Supervisor 125: DNIC table sent
     Supervisor 127: DNIC table sent

     *

10.6.2  SEND_TABLE_Command









                 Network Administrator Commands                  Page 10-177







Netval External Reference Specification             July 12, 1988



Syntax:   SENd Table <Wait>

Description:   The SEND TABLE command allows the validator
to generate the Class and Group table from the class, group,
nodelist and hostlist descriptions, and initiate its
transmission to the Supervisors.



If the parameter WAIT is entered, the NETVAL Class and Group
table is generated, and the user waits to be notified as
each Supervisor's table is updated.  If the validator
changes his mind, and decides not to wait, he should enter a
<break>.



If the parameter WAIT is omitted, the NETVAL Class and Group
table is generated, the validator is returned to the command
prompt, and the table is transmitted to the Supervisors
without reporting to the validator.  The validator may check
on the progress of the transmission via the DISPLAY UPDATES
command (Section 8.5.3).



Whether or not the validator waits, the table will be
transmitted automatically to all Supervisors.


A message is written to the operator log specifying that the com-
mand was executed by the validator.

NOTE:  The class/group table is not read into the supervisors
memory until the class command is issued in PROBE or until the
supervisor wakes up.












                 Network Administrator Commands                  Page 10-178







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * send wait

     Class/group table built

     Class/group send initialized

     Supervisor 121: table sent

     Supervisor 122: update failed

10.7  SET GANPASS Command



































                 Network Administrator Commands                  Page 10-179







Netval External Reference Specification             July 12, 1988



Syntax:   SET GAnpass <nnnn>

Description:   The SET GANPASS command allows the Network
Administrator to target GANs for force password change.  FPC
will only work with users in GANs which have been targeted
by a SET GANPASS command. When Netval first comes up the
Passtable is "clear".  Please note this means that when Net-
val first comes up, FPC code will not do anything.

Minimum and Maximum password validity period parameters are
configuration options which are defined in the "A" file.
Legal ganpass parameter values range from
MINIMUM_GANPASS_PERIOD to MAXIMUM_GANPASS_PERIOD.

FPC is disabled for a GAN by a CLEAR GANPASS command. It is
not possible to disable FPC by setting a GANPASS to zero.
Setting a password validity period of zero will result in
every password in the GAN being changed the next time
Passchanger runs. An illegal ganpass parameter value will
result in display of another prompt requesting a legal pass-
word validity period value.

FPC-eligable GANs are stored in a table called Passtable.
Passtable resides on Disc, and is therefore secure from
Engine crash damage.

If the passtable is already full when a SET GANPASS command
is entered, then, either: 1) an entry must be removed to
make room for the new entry (Netval CLEAR GANPASS command);
OR  2) the NVDM EXPAND command must be executed.  Users will
be informed of the inability to define any more password
validity periods with the following message: "no entries
available".  Such a sequence would look like:




A sample command/response sequence is:

     * set ganpass 4747 365

     entry completed

     *




                 Network Administrator Commands                  Page 10-180







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (illegal ganpass
parameter):
     * set ganpass 4747 477

     value out of bounds "477" should be a decimal number
     between (minimum_ganpass_period) and
     maximum_ganpass_period) re-enter value: 365

     entry completed

     *




A sample command/response sequence is (with full passtable):

     * SET GAnpass 477 365

     no entries available

     *


























                 Network Administrator Commands                  Page 10-181







Netval External Reference Specification             July 12, 1988



10.8  SET GPOGAN Command

Syntax:   SET GPogan nnnn

Description:   The SET GPOGAN command allows the Network
Administrator to set GANs to be eligable for GLOBAL PASSWORD
login.  When Netval is first installed with GPO no users
will be able to use the GPO feature. GANs must be specifi-
cally defined as being eligable for GPO by a SET GPOGAN com-
mand. Like FPC, GPO users are grouped by GAN.  GPO access
authorization is granted/repealed on a per GAN basis. Every
user in a GAN designated by a SET GPOGAN command will have
access to GPO. Users can be excluded from GPO by either not
designating their GAN with SET GPOGAN, or by placing them
into a non-GPO GAN.

GPO-eligable GANs are stored in a table called Gpotable.
Gpotable resides on Disc, and is therefore secure from
Engine crash damage.

If GPO is not configured SET GPOGAN will be rejected as
being an illegal command.





A sample command/response sequence is:

     * set gpogan 4747

     GPO access approved

     *

If the gpotable may already be full when a SET GPOGAN command is
entered, then, either: 1) an entry must be removed to make room
for the new entry (Netval CLEAR GPOGAN command);  OR  2) the NVDM
EXPAND command must be executed.  Users will be informed of the
inability to define any more GPO-eligable GANs with the following
message: "no entries available".  Such a sequence would look
like:






                 Network Administrator Commands                  Page 10-182







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is (with full gpotable):

     * set gpogan 477

     no entries available

     *









































                 Network Administrator Commands                  Page 10-183







Netval External Reference Specification             July 12, 1988



                    11.  Programmer Commands

Validators who have programmer license may execute any commands
in the previous Sections in addition to the following:

  CHANGE CUD         Modify the contents of the CUD buffer
  COMPARE            Compare the CUD and MUD buffer
  DISPLAY            Type information from a buffer
  GET                Report the CUD block number of a uesr
  READ               Input a CUD or MUD block into a buffer
  UNLOCK         Unlocks a block locked by the READ
       command
  WRITE              Record the CUD buffer to a CUD or MUD
       block

There are 2 disk buffers used by the programmer commands, the CUD
buffer and the MUD buffer.  They are used to read and write
information from the CUDs and MUDs respectively.  They are set to
empty when the programmer validator logs in, and are used to
store data between commands (read, change, compare, write, etc.).

11.1  CHANGE CUD Command

Syntax:   CHAnge CUd Offset b

Description:   The CHANGE CUD command allows the validator
to alter the contents of the CUD buffer.  "b" represents the
byte offset in HEXADECIMAL of the first byte to change.
NETVAL will display the current value of successive words,
and the validator may enter the new value.  A <break> is
entered to end the process.


The WRITE command may be used to record the modified CUD buffer
to the CUD or a Supervisor MUD.













                       Programmer Commands                  Page 11-184







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * change cud off 4

     byte   contents   new value
     0004  5254  5444  4C54594D
     0008  A813  4926  <break>

     *

11.2  COMPARE Command

Syntax:   COMpare

Description:   The COMPARE command allows the validator to
display the differences between the CUD and MUD buffers.
Each buffer must have already been filled by the READ com-
mand (Section 11.5).




A sample command/response sequence is:

     * compare

     byte      CUD        MUD
     0004   484F 414D   4C54 594D
     0008   C245 5247   C553 0000
     000C   2613 6B50   9A44 E79F

     *

11.3  DISPLAY Command

Syntax:   DIsplay [CUd|Mud] <Formatted|ALl>

Description:   The DISPLAY command allows the validator to
type the contents of a CUD or MUD buffer.  If the FORMATTED
parameter is included, the data will be output in CUD for-
mat, i.e., interpreted as CUD information.







                       Programmer Commands                  Page 11-185







Netval External Reference Specification             July 12, 1988



If the FORMATTED parameter is omitted, the information is
output in hexadecimal; NETVAL attempts to determine the
amount of CUD data included in the CUD block, and only out-
puts the data.  If the ALL parameter is included, the entire
CUD block is displayed.


The appropriate buffer must have already been filled by the READ
command (Section 11.5).



A sample command/response sequence is:

  * display cud

  byte
  0000  2800  0000  5254  5444  A813  4926  0000  0000
  0010  0000  25BD  0001  0C74  420A  00C9  006D  3EC8
  0020  6006  4001  8012  FFFF  0000  0000  0000  0000




























                       Programmer Commands                  Page 11-186







Netval External Reference Specification             July 12, 1988



* display mud formatted

username             GAN       UUN  control            dist
index
VALUSER1                324      4267 np tl id
200     0
(1) Origin     : class 2
  Destination:
        hosts: 102, 103 (home)
(2) Origin     : class 5
  Destination:
       groups: 5
(3) Origin:
        hosts: 43, 56
        nodes: 2007
  Destination:
        hosts: 16

VALUSER2                324      4267          so
1    40
(1) Origin     : class 3
  Destination:
       groups: 6

*

Note:   control options are represented by:
     np = no password required on login
     tl = transparent login
     id = ignore destination
     so = shut override
     au = auditor
     op = operator
     as = account supervisor
     na = network administrator

11.4  GET Command

Syntax:   Get username

Description:   The GET command allows the validator to
determine the CUD block number of a username.






                       Programmer Commands                  Page 11-187







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * get valuser

     block number: 400

     *

11.5  READ Command

Syntax:   REad [Cud< Lock>|Mud s] Block b

Description:   The READ command allows the validator to
input a block of data from the CUD or the MUD into the CUD
or MUD buffer.  "b" specifies the block number; "s" speci-
fies the Supervisor from which to read the MUD block (the
Supervisor does not have to be a legal NETVAL Supervisor,
i.e., set with the SET SUPERVISOR command, but must be
within the range specified by the configuration parameter
MAXIMUM_EXPECTED_SUPERVISORS).



If the LOCK parameter is entered, the specified CUD block
will be locked against any activity (i.e., NO USERS MAY
READ, WRITE OR UPDATE THE BLOCK).  The block is made avail-
able again by the UNLOCK command (Section 11.6).




A sample command/response sequence is:

     * read block 5 mud 123

     block read

     *

11.6  UNLOCK Command








                       Programmer Commands                  Page 11-188







Netval External Reference Specification             July 12, 1988



Syntax:   Unlock

Description:   The UNLOCK command allows the validator to
make a locked block available.




A sample command/response sequence is:

     * unlock

     block unlocked

     * unlock

     no block locked

11.7  WRITE Command

Syntax:   Write [Cud|Mud s]

Description:   The WRITE command allows the validator to
output the CUD buffer to either the CUD block or the MUD
block.  "s" specifies the Supervisor to which the CUD buffer
will be written (the Supervisor does not have to be a legal
NETVAL Supervisor, i.e., set with the SET SUPERVISOR com-
mand, but must be within the range specified by the confi-
guration parameter MAXIMUM_EXPECTED_SUPERVISORS).



THIS COMMAND MUST BE USED VERY CAREFULLY!!  For security
reasons, the programmer is prompted for his password before
the command is executed.


A message is written to the operator log specifying that the com-
mand was executed by the validator.









                       Programmer Commands                  Page 11-189







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * write mud 123

     enter password:

     block written

     *

..........@..ers305=ntvmudrHntvgers305.scrp
ntvmud.ersp[in.mac@chKpocmdsearcmds"@$sec.headucpf.ers4c03ers305n}Makefileucpc04ud~tchechou^A$




































                       Programmer Commands                  Page 11-190







Netval External Reference Specification             July 12, 1988



                 12.  Disk Maintenance Commands

The NETVAL Maintenance (NVDM) program is used to set up a NETVAL
disk from either a scratch disk, or a NETVAL Version 2.xx disk to
Version 3.00, and to perform various disk utility operations.  In
addition, there are commands to display information from the NET-
VAL disk.

Only the programmer (defined in the NVAL05.Axx file,
PROGRAMMER_NAME) and the NVDM operator (defined in the NVAL05.Axx
file, NVDM_OPERATOR_NAME) may login to NVDM.

NVDM will decide which disk drive should be used for reading and
writing.  Refer to Section 4.5 for more inforamtion about logical
volumes.  The other drive will be made identical when NETVAL is
initialized.  When the user logs in, the status of the drives is
reported, as follows:


NETVAL Disk Maintenance - Version 3.04 at 08/07/85 07:24:35

     drive 0  in use: yes   time stamp: 08/07/85 07:15
     drive 1  in use: no    time stamp: 08/05/85 09:43

     *



The following global commands are available in NVDM:

DATE          Type current UTC date and time
HELP          Type list of legal commands
STATISTICS    Print collected disk I/O information
VERSION       Type current NETVAL Disk Maintenance version number














                    Disk Maintenance Commands                  Page 12-191







Netval External Reference Specification             July 12, 1988



The following additional OPERATOR commands are available at
the system command level:

ARCHIVE       Enter the Archive sub-system
CHECK         Compare disk configuration against memory
       configuration
COMPARE   Compare CUD entries against specified MUD entries
CONSISTENCY   Compare contents of CUD against specified MUD
       blocks
COPY          Duplicate data from one logical volume drive
       to another
DISPLAY       Type NETVAL Disk Maintenance information
CONFIG      Type current disk configuration parameters
PAGE        Type the contents of a disk page in hexadecimal
VOLUMES     Type logical volume information
QUIT          Exit from NETVAL Disk Maintenance program



The following additional PROGRAMMER commands are available
at the system command level:

INITIALIZE    Create new NETVAL disk files
ALL         Create all new NETVAL disk files
CONFIG      Record memory configuration parameters on the
disk
CUD         Create an empty CUD file
MUDUPDATE   Create an empty MUD UPDATE file
NODE        Create an empty NODE file
OPERLOG     Create an empty OPERATOR LOG file
PARAMETERS  Create an empty CUD paramter file
REGENERATE    Recreate NETVAL file
CUD         Recreate the NETVAL CUD by copying the specified
       MUD
PARAMETERS  Recreate GAN-UUN file from the CUD entries













                    Disk Maintenance Commands                  Page 12-192







Netval External Reference Specification             July 12, 1988



The following ARCHIVE sub-system commands are available:

ATTACH        Reserve tape unit for NETVAL slot
DETACH        Free tape unit from slot
DISPLAY       Type Archive tape information
RESTORE       Copy file(s) from tape to disk
ALL         Copy all files from tape to disk
CUD         Copy the CUD and CUD parameter file from tape to
       disk
MUDUPDATE   Copy the MUDUPDATE file from tape to disk
NODE        Copy the NODE file from tape to disk
OPERLOG     Copy the Operator LOG file from tape to disk
RETURN        Return to system level
REWIND        Return tape to beginning of reel


The following Sections describe the above commands.

12.1  ARCHIVE Command

Syntax:   Archive

Description:   The ARCHIVE command puts the user in the
ARCHIVE sub-system.  Once in the ARCHIVE sub-system, he may
access tape units and restore files from tape to disk.  The
prompt for the ARCHIVE sub-system is:

          arch>



Once the user has entered the ARCHIVE sub-system, he may
only enter ARCHIVE commands (Section 12.14).




A sample command/response sequence is:

     * archive

     arch>






                    Disk Maintenance Commands                  Page 12-193







Netval External Reference Specification             July 12, 1988



12.2  CHECK Command

Syntax:   CHeck <Cud>

Description:   The CHECK command reads portions of the Net-
val disk and reports:


        - discrepancies between in-core configuration param-
          eters (from the NVAL05.A## file) and disk parame-
          ters
        - discrepancies between in-core configuration param-
          eters (from the NVAL05.A## file) and slot TYM file
          parameters (NUSERS, NSUP)
        - checksum mismatch in the node/host list header
        - checksum mismatch in the operator log header
        - illegal MUD change file header
        - if the CUD parameter is included, checksum
          mismatch of the first non-empty CUD block


NETVAL WILL NOT RUN UNLESS ALL DISK PARAMETERS MATCH THE IN-CORE
VALUES!!

If any disk parameters differ from the in-core configuration
parameters, the INITIALIZE CONFIGURATION command must be used to
record the current in-core parameters on the disk.

If any disk parameters differ from the in-core node/host confi-
guration parameters, use the INITIALIZE CONFIGURATION and INI-
TIALIZE NODE commands to record the current in-core parameters on
the disk (any data in the node-host file will be lost).

If any TYM file parameters differ from the in-core NETVAL confi-
guration parameters, either the TYM file for the slot
(NVAL03.Txx) or the configuration file (NVAL05.Axx) must be modi-
fied and NVDM and Netval regenerated.

If any checksums are in error, the file with the error must be
initialized (data in the file will be lost).








                    Disk Maintenance Commands                  Page 12-194







Netval External Reference Specification             July 12, 1988



The message:

                   all parameters match!

should be reported from the CHECK command before NETVAL code
is loaded.




A sample command/response sequence is:

     * check
     MAXIMUM_GROUP (20) does not match disk value.

     * init config

     configuration file written

     * init node
     NODE_HOST file:
      header initialized
      host lists cleared
      node lists cleared
      classes cleared
      groups cleared
     Class/group Table initialized

     * check

     all parameters match!

     *

12.3  COMPARE Command

Syntax:   COMpare Supervisor s <From b>
               <NODates> <NOGans> <NOOrder> <NOUuns>

Description:   The COMPARE command allows the user to deter-
mine specific differences between MUD and CUD user entries.
"s" represents a Supervisor host.  Corresponding blocks are
read from the MUD and CUD, and any difference in user
entries will be displayed to the terminal.




                    Disk Maintenance Commands                  Page 12-195







Netval External Reference Specification             July 12, 1988



If the FROM parameter is included in the command, the com-
pare will begin at the block specified, "b." If the NODATES,
NOGANS, or NOUUNS parameter is included in the command,
dates, GANS and/or UUNs respectively, will not be compared.
If the NOORDER parameter is included in the command, the
entries in each block will be sorted before the compare, so
that differences in the order of the user entries within the
block will not be reported.



As NVDM processes the blocks, it reports its progress.
After every CONSISTENCY_REPORT_INTERVAL (defined in the con-
figuration file) blocks checked, NVDM outputs:

                             n

where "n" is the block number just processed.



This command may require considerable time to complete,
since the entire CUD is processed.




A sample command/response sequence is:

* compare sup 125

This command will compare the data in blocks in the CUD and the MUD,
continue? y

compare started
100 200 300
block   405 name: ABCDNAME              PASSWORD mismatch
block   405 name: ABCDNAME              PASSWORD CHANGE DATE mismatch
400 500 600 . . .

compare completed

*





                    Disk Maintenance Commands                  Page 12-196







Netval External Reference Specification             July 12, 1988



12.4  CONSISTENCY Command

Syntax:   CONSistency Supervisor s <Nochange> <From b>

Description:   The CONSISTENCY command allows the user to
force the information in a Supervisor MUD to be identical
with the information in the CUD.  "s" represents a Supervi-
sor host.



The differences between this command and the NETVAL con-
sistency command is:


     - the Superivosr host does not need to be a legally
       defined NETVAL Supervisor
     - differences are reported to the terminal, rather that
       the operator log file



As NVDM processes the blocks of information, it reports its
progress.  After every CONSISTENCY_REPORT_INTERVAL (defined
in the configuration file) blocks checked, NVDM outputs:

                          n<:u/r>



where "n" is the block number just processed, "u" is the
number of MUD blocks that needed to be updated, "r" is the
number of MUD blocks that were re-transmitted (sent to the
Supervisor more than once).  "u" and "r" are both output if
either one is non-zero.



If the NOCHANGE parameter is included in the command, no MUD
updates are actually made; differences are output to the
user as described above.







                    Disk Maintenance Commands                  Page 12-197







Netval External Reference Specification             July 12, 1988



If the FROM parameter is included in the command, and the
configuration parameter CONSISTENCY_RESTARTABLE is set to
TRUE, the consistency will begin at the block specified,
"b."



This command may require considerable time to complete,
since the entire CUD is processed.  If the update is inter-
rupted, the MUD will be checked only to the current block.




A sample command/response sequence is:

     * consistency sup 125

     99 199 299

     Consistency checksum mismatch, Supervisor 125
     on blocks 301-302

     399:2/0 499 599 . . .

     Supervisor 125 consistency:   complete

     *

12.5  DATE Command

Syntax:   DAte

Description:   The DATE command allows a user to determine
the current date and time in UTC.













                    Disk Maintenance Commands                  Page 12-198







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * date
     08/05/85 16:00:57  UTC

     *

12.6  COPY Command



Syntax:   COPy

Description:   The COPY Command causes data to be read from
one physical disk and copied to the same sectors on the
other physical disk.  Execution of the COPY command is the
only way that a drive that is not being used by the logical
volume system can be brought back to the read/write state.



The copy command first displays logical volume information,
and prompts for confirmation of the direction of the copy.
The logical volume information includes information from the
DISPLAY VOLUMES Command (Section 8.5.4), the direction of
the copy, and the AGE of the FROM disk.



If Netval receives confirmation, the copy will be TO the
disk which Netval detects is down or offline.  If neither
disk is down or offline, the user receives an error message.


Periodically, the number of the sector being copied is displayed.

A message is written to the operator log specifying that the com-
mand was executed by the validator.










                    Disk Maintenance Commands                  Page 12-199







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * copy

     drive 0  in use: yes   time stamp: 08/07/85 07:15
     drive 1  in use: no    time stamp: 08/05/85 09:43

     the direction of the copy will be from drive 0 to drive
     1 continue? y

     copying to unit: 2 10000 20000 30000 . . . (etc.)

     copying to unit: 3 10000 20000 30000 . . . (etc.)

     manual copy complete

     *

12.7  DISPLAY Command

The DISPLAY Command allows the user to display information about:

          - the current configuration
          - logical volumes
          - a disk page of data

12.7.1  DISPLAY_CONFIG_Command

Syntax:   DIsplay Config

Description:   The DISPLAY CONFIG command allows a user to
type out the contents of the CONFIGURATION file, some slot
TYM file parameters and node host configuration paramters.















                    Disk Maintenance Commands                  Page 12-200







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display config

     Disk configuration values:

     configuration:
     unit number: 1
     start sector: 0
     length in sectors: 1


node_host:
unit number: 1
start sector: 1
length in sectors: 2863

class_group:
unit number: 1
start sector: 2864
length in sectors: 60

CUD/MUD buffers:
unit number: 1
start sector: 2924
length in sectors: 16

oper_log:
unit number: 1
start sector: 2948
length in sectors: 256

mud_update:
unit number: 1
start sector: 3204
length in sectors: 711752

DNIC:
unit number: 1
start sector: 714956
length in sectors: 9

passtable:
unit number: 4
start sector: 714965



                    Disk Maintenance Commands                  Page 12-201







Netval External Reference Specification             July 12, 1988



length in sectors: 4

schedtable:
unit number: 1
start sector: 711769
length in sectors: 1

CUD:
unit number: 0
start sector: 0
length in sectors: 81784

CUD_PARAMETER:
unit number: 0
start sector: 81885
length in sectors: 1

label initialized: 08/07/85 14:28:02
last time stamp: 08/07/85 14:29:13
CURRENT_INCARNATION: 1
DISK_UNIT_ZERO_SIZE: 98686
DISK_UNIT_ONE_SIZE: 714970
MAXIMUM_CUD_BLOCK_SIZE_IN_SECTORS: 8
MAXIMUM_EXPECTED_SUPERVISORS: 7
MAXIMUM_CUD_BLOCK: 10236
NETVAL_CUD_IS_A_MUD: FALSE (MUD I - for MUD SUP version is here)
INCLUDE_GAN: TRUE
INCLUDE_DISTRICT: TRUE
MINIMUM_PASSWORD_SIZE: 7
REQUIRE_NONALPHANUMERIC: TRUE
CLASS_0_GROUP_0_ASSIGNABLE: TRUE
PROGRAMMER_NAME_SIZE: 8
PROGRAMMER_NAME: NVALPROG
MAXIMUM_HOST: 16383
MAXIMUM_NODE: 3583
MAXIMUM_CLASS: 192
MAXIMUM_CLASS_TABLE_SIZE: 5120
MAXIMUM_GROUP: 96
MAXIMUM_GROUP_TABLE_SIZE: 10240

MAXIMUM_VALIDATOR: 21
AUX_CIRCUIT_UNIT_MAX: 9

NODE_HOST_LIST file configuration parameters:
MAXIMUM_LIST: 99



                    Disk Maintenance Commands                  Page 12-202







Netval External Reference Specification             July 12, 1988



MAXIMUM_NAMED_LIST_NAME_SIZE: 4
MAXIMUM_NAMED_LIST_DESCRIPTION_SIZE: 50
MAXIMUM_NAMED_LIST_ENTRY: 768
MAXIMUM_PAGES_IN_NAMED_LIST: 13
MAXIMUM_LISTS_IN_GLOBAL_ACCESS: 36
MAXIMUM_PAGES_IN_GLOBAL_ACCESS: 1
FIRST_NODE_LIST_PAGE: 2
LAST_NODE_LIST_PAGE: 1288
FIRST_HOST_LIST_PAGE: 1289
LAST_HOST_LIST_PAGE: 2575
FIRST_CLASS_DEFINITION_PAGE: 2576
LAST_CLASS_DEFINITION_PAGE: 2767
FIRST_GROUP_DEFINITION_PAGE: 2768
LAST_GROUP_DEFINITION_PAGE: 2863
MAXIMUM_DNIC_TABLE_SIZE: 256

*

12.7.2  DISPLAY_PAGE_Command

Syntax:   DIsplay Page p Unit u

Description:   The DISPLAY PAGE command allows a user to
type out, in hexadecimal format, the contents of a disk page
(256 bytes).  The user must specify the page number, "p," in
decimal, which is the page offset from the beginning of the
disk unit, and the logical unit number, "u."



If the logical_volumes parameter is disabled in the
NVAL05.Axx file, "u" has the values of either 0 or 1 one;
unit 0 contains the CUD and CUD parameter file, and unit 1
contains all other files.



If the logical_volumes parameter is enabled in the
NVAL05.Axx file, "u" has the values of 1 through 3; units 0
and 2 contain the CUD and CUD parameter file, and units one
and three contain all other files.


Refer to the output of the DISPLAY CONFIG command for specific
file addresses.



                    Disk Maintenance Commands                  Page 12-203







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display page 0 unit 1

     byte
     0000  4E45  5456  414C  0000  0001  15D1  5D72  000A
     0010  E8DA  0000  0001  0000  0000  0000  0001  15D1
     0020  5D72  0000  0001  0000  0001  0000  0B2F  15D1
     0030  5D72  0000  0001  0000  0B30  0000  003C  15D1
     0040  5D72  0000  0001  0000  0B84  0000  0100  15D1
     0050  5D72  0000  0001  0000  0C84  000A  DC56  15D1
     0060  5D72  0000  0000  0000  0000  0001  3FE0  15D1
     0070  5D72  0000  0000  0001  3FE1  0000  4108  15D1
     0080  5D72  0000  0008  0000  0007  0000  27FC  0001
     0090  0001  0000  0007  0001  0001  0000  0000  0008
     00A0  4E56  414C  5052  4F47  2020  2020  2020  2020
     00B0  2020  2020  0000  3FFF  0000  0DFF  0000  00C0
     00C0  0000  1400  0000  0060  0000  2800  15D1  5DB9
     00D0  0001  817E  0000  0000  0001  817E  0004  C7FE
     00E0  0004  D83E  0002  21DE  0004  D90E  0002  21DE
     00F0  0007  0000  0000  15FB  419E  15EC  DE86  2156

     *

12.7.3  DISPLAY_VOLUMES_Command

NOTE:   This command is only available if Netval is compiled
with the configuration parameter logical_volumes ENABLED.
For further discussion of logical volumes, refer to Section
4.5.

Syntax:   DIsplay Volumes


Description:   The DISPLAY VOLUMES command allows a user to type
out the current usage of the disk drives.












                    Disk Maintenance Commands                  Page 12-204







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * display volumes

     drive 0  in use: yes   time stamp: 08/07/85 07:15
     drive 1  in use: no    time stamp: 08/05/85 09:43

     *

12.8  HELP Command

Syntax:   Help

Description:   The HELP command allows a user to list all
legal commands.




A sample command/response sequence is:

* help

ARCHIVE       Enter the Archive sub-system

CHECK         Compare disk configuration against memory configuration

COPY      Copy data from one drive to the other


COMPARE   Display differences between CUD and MUD blocks

CONSISTENCY   Compare contents of CUD against specified MUD

DISPLAY       Type NETVAL Disk Maintenance information
CONFIG      Type current disk configuration parameters
PAGE        Type the contents of a disk page in hexadecimal
VOLUMES     Type the current logical volume information

INITIALIZE    Create new NETVAL disk files
ALL         Create all new NETVAL disk files
CONFIG      Record memory configuration parameters on the disk
CUD         Create an empty CUD file
OPERLOG     Create an empty OPERATOR LOG file
MUDUPDATE   Create an empty MUD UPDATE file



                    Disk Maintenance Commands                  Page 12-205







Netval External Reference Specification             July 12, 1988



NODE        Create an empty NODE file
PARAMETERS  Create an empty CUD paramter file

QUIT          Exit from NETVAL Disk Maintenance program

REGENERATE    Recreate NETVAL file
CUD         Recreate the NETVAL CUD by copying the specified MUD
PARAMETERS  Recreate GAN-UUN file from the CUD entries



DATE          Type current UTC date and time

HELP          Type list of legal commands

STATISTICS    Print collected disk I/O information

VERSION       Type current NETVAL Disk Maintenance version number

*

12.9  INITIALIZE Command

The INITIALIZE Command allows the user to initialize the entire
NETVAL disk or a specific NETVAL file.

12.9.1  INITIALIZE_ALL_Command





















                    Disk Maintenance Commands                  Page 12-206







Netval External Reference Specification             July 12, 1988



Syntax:   Initialize All

Description:   The INITIALIZE ALL command allows a user to
initialze all NETVAL files, which consist of:

  CONFIG           NETVAL configuration parameters
  CUD              Controlling User Directory
  PARAMETERS       CUD parameters (GAN and UUNs)
  OPERLOG          Operational messages
  DNIC             DNIC files (if INCLUDE_DNIC is enabled)
  PASSTABLE        Force password and/or GPO GANs (if FPC or
  GPO enabled)
  SCHEDTABLE       Consistency and passchanger schedules
  MUDUPDATE        CUD change records and various
                   system information
  NODE             Classes and groups in terms of named
                   nodelists and hostlists
  CLASS/GROUP      Supervisor Class/group table


The INITIALIZE ALL command records "initial" information in all
the files.  Refer to the INITIALIZE commands, described below, to
determine what this initial information consists of.

























                    Disk Maintenance Commands                  Page 12-207







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * init all

     THIS COMMAND IS VERY TIME CONSUMING!!
     This command will overwrite current disk information
     and
     initialize all files,
     continue? y

     configuration file written

     initializing CUD
     CUD initialized

     initializing PARAMETERS
     CUD parameters initialized

     OPERLOG header initialized...initializing entries
     OPERLOG entries written

     MUDUPDATE initialized

     NODE_HOST file:
      header initialized
      host lists cleared
      node lists cleared
      classes cleared
      groups cleared
     Class/group Table initialized

     *

12.9.2  INITIALIZE_CONFIG_Command

Syntax:   Initialize COnfig

Description:   The INITIALIZE CONFIG command records the
in-core configuration parameters to the configuration file.









                    Disk Maintenance Commands                  Page 12-208







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

* init config

This command will record configuration parameters on the
disk,
continue? y

configuration file written

*

12.9.3  INITIALIZE_CUD_Command

Syntax:   Initialize CUd

Description:   The INITIALIZE CUD command clears all CUD
blocks; this is a time consuming command.




A sample command/response sequence is:

     * init cud

     THIS COMMAND IS VERY TIME CONSUMING!!
     This command will clear the CUD file,
     continue? y

     CUD initialized

     *

12.9.4  INITIALIZE_OPERLOG_Command

Syntax:   Initialize Operlog

Description:   The INITIALIZE OPERLOG command clears the
OPERATOR LOG file; empty message records are recorded to
each page, and the pointer to the next page to be read is
reset.






                    Disk Maintenance Commands                  Page 12-209







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * init oper

     This command will clear the OPERLOG file,
     continue? y

     OPERLOG header initialized...initializing entries
     OPERLOG entries written

     *

12.9.5  INITIALIZE_DNIC_Command

Syntax:   Initialize Dnic

Description:   The INITIALIZE DNIC command clears the DNIC
files if the INCLUDE_DNIC flag is enabled.




A sample command/response sequence is:

     * init oper

     This command will clear the DNIC file,
     continue? y

     DNIC header initialized
     DNIC files written

     *

12.9.6  INITIALIZE_MUDUPDATE_Command

Syntax:   Initialize Mudupdate

Description:   The INITIALIZE MUDUPDATE command records the
MUDUPDATE file header on the disk.  The header consists of
the information displayed in the NETVAL command DISPLAY
UPDATES (Section 8.5.3).  All supervisors are initialized as
OFF, and the MUD UPDATE EOF is set to zero.





                    Disk Maintenance Commands                  Page 12-210







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     * init mud

     This command will clear the MUDUPDATE file,
     continue? y

     MUDUPDATE initialized

     *

12.9.7  INITIALIZE_NODE_Command

Syntax:   Initialize Node

Description:   The INITIALIZE NODE command clears the NODE
file, i.e., it sets all classes and groups to undefined, and
clears all nodelists and hostlists.




A sample command/response sequence is:

* init node

This command will clear the NODE_HOST and Class/group files,
continue? y

NODE_HOST file:
 header initialized
 host lists cleared
 node lists cleared
 classes cleared
 groups cleared
Class/group Table initialized

*

12.9.8  INITIALIZE_PARAMETERS_Command








                    Disk Maintenance Commands                  Page 12-211







Netval External Reference Specification             July 12, 1988



Syntax:   Initialize PARameters

Description:   The INITIALIZE PARAMETERS command resets CUD
parameter data; the next GAN and UUN to be assigned are set
to 1.




A sample command/response sequence is:

     * init cud

     This command will clear the PARAMETER file,
     continue? y

     CUD parameters initialized

     *

12.9.9  INITIALIZE_PASSTABLE

Syntax:   Initialize PASstable

Description:    If either force password change or global
password only is enabled, the INITIALIZE PASSTABLE command
allows the validator to clear all entries in the PASSTABLE.
After execution of this command no password ages will be
checked by FPC code until a SET GANPASS command designates a
GAN to check. Passtable also holds all GPO data. Therefore,
INITIALIZE PASSTABLE disables GPO in addition to disabling
FPC.


A sample command/response sequence follows:

* init passtable

This command will clear the PASSTABLE file, continue? y

PASSTABLE initialized

*





                    Disk Maintenance Commands                  Page 12-212







Netval External Reference Specification             July 12, 1988



12.9.10  INITIALIZE_SCHEDTABLE

Syntax:   Initialize Schedtable

Description:    The INITIALIZE SCHEDTABLE command allows the
validator to intialize the Schedtable.  Initialization con-
sists of clearing the schedules of Consistency and
Passchanger so they will not run. INIT SCHEDTABLE is the
functional equivalent of invoking the CLEAR command two
times, once for each schedulable process.  A sample
command/response sequence follows:

* init schedtable

This command will clear the SCHEDTABLE file, continue? y

SCHEDTABLE initialized

*

12.10  QUIT Command

Syntax:   Quit

Description:   The QUIT command allows a user to leave the
NETVAL Disk Maintenance System.




A sample command/response sequence is:

     * quit

     Logging out at: 5/14/83 17:55:18

     PLEASE LOG IN:

12.11  REGENERATE Command









                    Disk Maintenance Commands                  Page 12-213







Netval External Reference Specification             July 12, 1988



The REGENERATE command allows the user to recreate:


          - the CUD from a Supervisor MUD
          - the parameter file (GAN and possibly UUNs) from
            the information in the CUD


The following Sections describe the REGENERATE commands.

12.11.1  REGENERATE_CUD_Command

Syntax:   REGenerate Cud Supervisor s <From b>

Description:   The REGENERATE CUD command reads sequential
MUD blocks from supervisor "s" and records them in the
corresponding CUD block.  The FROM parameter may be included
to start the regeneration at CUD block "b."


The user is asked to confirm that he wishes to perform the com-
mand, errors are reported to the terminal, and progress is
reported as in the CONSISTENCY command.

This command may require considerable time to complete, since the
entire CUD is processed.  If the update is interrupted, the CUD
will only be updated to the current block.



A sample command/response sequence is:

     * regen cud sup 127

     This command will copy the specified MUD to the CUD,
     continue? y
     100 200 300 . . .

     CUD generated

     *







                    Disk Maintenance Commands                  Page 12-214







Netval External Reference Specification             July 12, 1988



12.11.2  REGENERATE_PARAMETERS_Command

Syntax:   REGenerate Parameters

Description:   The REGENERATE PARAMETERS command scans
records in the CUD to determine the greatest GAN and UUN
assigned to a current user entry, increments the values by
100, reports them to the user, and records them in the
parameter file; they will then be the next GAN and UUN
values to be assigned to a new user entry.


If the conditional assembly parameter UUNSassignable is enabled
in the configuration file, the UUN will not be reported.

The user is asked to confirm that he wishes to perform the com-
mand.

This command may require considerable time to complete, since the
entire CUD is scanned.



A sample command/response sequence is:

* regen param

This command will scan the CUD to generate the parameter
file,
continue? y
regenerating next GAN and UUN

GAN set to 46074
UUN set to 110234

*

12.12  STATISTICS Command










                    Disk Maintenance Commands                  Page 12-215







Netval External Reference Specification             July 12, 1988



Syntax:   Statistics

Description:   The NETVAL Disk Maintenance program maintains
a histogram of recent disk activity in 5 minute intervals;
the STATISTICS Command displays this information to the
user.




A sample command/response sequence is:

* statistics
since 1/31/84 19:46:55 UTC

read   total: 1210   pages: 3454    errors: 0
0   132   179    0    0    0    0   88   231   0   266   134

write   total: 59   pages: 65   errors: 0
0    16   17     0    0    0    0   6    3     0   10    0

*

12.13  VERSION Command

Syntax:   Version

Description:   The VERSION command allows a user to deter-
mine the current version of the NETVAL Disk Maintenance Sys-
tem.




A sample command/response sequence is:

     * ver

     3.04

     *







                    Disk Maintenance Commands                  Page 12-216







Netval External Reference Specification             July 12, 1988



12.14  Archive Sub-System

The Disk Maintenance ARCHIVE sub-system allows the user to:


          - attach a magnetic tape unit to the slot
          - detach a magnetic tape unit from the slot
          - restore all files from a NETVAL ARCHIVE tape to disk
          - restore a specific file from a NETVAL ARCHIVE tape to
            disk

The prompt for the ARCHIVE sub-system is:

          arch>

If a tape unit is ATTACHED by the ATTACH command (Section
12.14.1), it remains ATTACHED to the slot (and therefore not
accessable by other slots) until it is DETACHED by the DETACH
command (Section 12.14.2).

The following commands may be executed from the ARCHIVE sub-
system:


  ATTACH        Reserve tape unit for NETVAL slot
  DETACH        Free tape unit from slot
  DISPLAY       Type NETVAL tape id
  RESTORE       Copy file(s) from tape to disk
  RETURN        Return to system level
  REWIND        Return magnetic tape to beginning of reel

12.14.1  ATTACH_Command

Syntax:   Attach u

Description:   The ATTACH command reserves a magnetic tape
unit for the NETVAL slot, and prevents any other slots in
the NETVAL Engine from accessing the tape unit.  The unit is
reserved for the NETVAL slot until the DETACH (Section
12.14.2) command is executed.



"u" must specify the tape unit.




                    Disk Maintenance Commands                  Page 12-217







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     arch> attach 0

     tape attached

     arch>

12.14.2  DETACH_Command

Syntax:   DEtach u

Description:   The DETACH command frees the tape unit from
the NETVAL slot and makes it available to other slots in the
NETVAL Engine.



"u" must specify the tape unit.




A sample command/response sequence is:

     arch> detach 0

     tape detached

     arch>

12.14.3  DISPLAY_Command

Syntax:   DIsplay u

Description:   The DISPLAY command allows the user to iden-
tify a magnetic tape as a NETVAL backup tape, and to display
its creation date and version.  The tape is rewound ini-
tially, to read the first record.


"u" must specify the tape unit.






                    Disk Maintenance Commands                  Page 12-218







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

     arch> display 0

     tape rewinding

     mta is not a NETVAL tape



arch> display 1

tape rewinding

NETVAL tape (Version 03.04) created on: 02/08/83

arch>

12.14.4  RESTORE_Command

Syntax:   REStore [All|CUD <Block b1<-b2>>| Dnic | Mudupdate
| Node | Operlog | Passtable | Schedtable] u

Description:   The RESTORE command rewinds the tape unit
specified, identifies the tape as a NETVAL tape, asks the
user to confirm, then restores one or more tape files to the
disk.



"u" must specify the tape unit.


If the parameter ALL is entered,
all files on the tape will be written to the disk.


If the parameter CUD is entered without the BLOCK parameter
included, the entire CUD and CUD parameter files will be
restored from tape to disk.  If the BLOCK parameter is
included, only the CUD blocks in the range "b1" through "b2"
will be restored; a single block, "b1" may be specified.


If the parameter DNIC is entered, the DNIC header and DNIC files



                    Disk Maintenance Commands                  Page 12-219







Netval External Reference Specification             July 12, 1988



will be written to the disk.

If the parameter MUDUPDATE is entered, the MUDUPDATE header only
will be written to the disk.

If the parameter NODE is entered, the file describing the named node and
host lists and class and group definitions will be written to the disk.

If the parameter OPERLOG is entered, the file containing system messages
will be written to the disk.

If the parameter PASSTABLE is entered, the file containing GANs assigned
to FPC or GPO will be written to the disk.

If the parameter SCHEDTABLE is entered, the file containing
the consistency and passchanger schedules will be written to the disk.


NOTE:   Restoring the CUD file may be very time consuming;
interrupting any restore will have uncertain results.



Since the RESTORE command should only be used under catos-
trophic circumstances, some effort has been taken to help
the user avoid errors:



-All Supervisors are set to OFF when the MUDUPDATE file is
restored.  They must be redefined with the SET SUPERVISOR
command (Section 8.6.7.2).  If the configuration parameter
RUN_AUTO_CONSISTENCY_ON_SUP_INIT is set to TRUE, an
automatic consistency is run when the SET SUPERVISOR command
is executed.  The restored CUD SHOULD BE CHECKED FOR
CORRECTNESS BEFORE ANY SUPERVISORS ARE TURNED ON, or any
errors in the CUD will be transferred to each MUD.  Since
the usernames UN2 and SYSMSG1 are required to be valid for
the successful running of NETVAL, one check is that these
two names are valid in the CUD.








                    Disk Maintenance Commands                  Page 12-220







Netval External Reference Specification             July 12, 1988



If the configuration parameter
RUN_AUTO_CONSISTENCY_ON_SUP_INIT is FALSE, manual consisten-
cies should be run on each MUD.



-The ARCHIVE STORE/RESTORE operation does not maintain the
CUD changes stored in the MUD CHANGE file.  Since consisten-
cies are run, all changes made to the CUD will be transmit-
ted to each MUD, but of course, any changes made after the
STORE and before the RESTORE will be lost.



-The CLASS/GROUP TABLE LAST CREATED date is cleared.  The
ARCHIVE system does not record the Class and Group table
from NETVAL's disk to the ARCHIVE tape (the named node and
host lists and Class and Group definitions, however, are
recorded).  After the RESTORE operation, Class, Group,
nodelist and hostlist definitions should be checked for
validity and a SEND command executed (Section 10.6.2).



























                    Disk Maintenance Commands                  Page 12-221







Netval External Reference Specification             July 12, 1988



A sample command/response sequence is:

arch> restore all 0

tape rewinding
NETVAL tape (Version 03.04) created on: 02/08/83

okay? y

restoring node_host(header): records read: 1  records written: 1
restoring node_host(hostlists): records read: 45  records written: 45
restoring node_host(nodelists): records read: 55  records written: 55
restoring node_host(classes): records read: 23  records written: 23
restoring node_host(groups): records read: 8  records written: 8
restoring oper_log: records read: 4  records written: 256
restoring mud_update: records read: 1  records written: 1
restoring DNIC: records read: 1  records written: 1
restoring passtable file: records read: 1  records written: 1
restoring schedtable file: records read: 1  records written: 1
restoring CUD: records read: 255  records written: 2039
restoring CUD_PARAMETER: records read: 1  records written: 1
tape rewinding

arch>

12.14.5  RETURN_Command

Syntax:   RETurn

Description:   The RETURN command takes the user back to
system command level.  Be sure to DETACH any tape units no
longer needed.




A sample command/response sequence is:

     arch> return

     *







                    Disk Maintenance Commands                  Page 12-222







Netval External Reference Specification             July 12, 1988



12.14.6  REWIND_Command

Syntax:   REWind u

Description:   The REWIND command allows the user to posi-
tion a tape unit to the beginning of the reel.


"u" must specify the tape unit.



A sample command/response sequence is:

     arch> rewind 0

     tape rewinding

     tape rewound

     arch>

..........@..ers305=ntvmudrHntvgers305.scrp
ntvmud.ersp[in.mac@chKpocmdsearcmds"@$sec.headucpf.ers4c03ers305n}Makefileucpc04ud~tchechou^A$
























                    Disk Maintenance Commands                  Page 12-223







Netval External Reference Specification             July 12, 1988



                   13.  Netval Error Messages

This Section contains a partial list of expected error messages.

13.1  Login Error Messages



NO PORT AVAILABLE
  There are a limited number of processes for each type of vali-
  dator: validators that may only change their own password,
  account supervisor validators, network administrator validators
  and programmer validators.  All processes for the type of vali-
  dator trying to login are in use.



TRY AGAIN LATER
  There is a problem with locating the user's CUD entry (the
  problem is specified immediately preceding this message).



YOU ARE NOT VALID TO USE Netval/NVDM
  The user attempting to login to Netval does not have PROGRAM-
  MER, NETWORK ADMINISTRATOR or ACCOUNT SUPERVISOR license and
  has the NO PASSWORD option set; the user attempting to login to
  NVDM is not the PROGRAMMER or NVDM OPERATOR.



YOUR USERNAME IS NOT IN THE CUD
  The Netval user has logged in, and hence, his username is valid
  in the active Supervisor's MUD; however, the username cannot be
  located in the CUD.

13.2  Validation Errors

This Section contains error messages produced by Netval in
response to various erroneous entries made by a validator.


ACCESS POSITION NOT FOUND
  The access position referred to by the validator does not exist
  in the user's access profile.



                      Netval Error Messages                  Page 13-224







Netval External Reference Specification             July 12, 1988



ALREADY ATTACHED
  The tape unit is already attached to this user.



BAD CHECKSUM - BLOCK b
  CUD block "b" from the tape has an incorrect checksum.
  The block is skipped in the restore operation.



BAD CHECKSUM ON CUD BLOCK
  The block read from the disk has a bad checksum.



BAD SUP UPDATE HISTORY AREA
  The SUP update history area on the disk is not properly set up.



BYTE COUNT FROM ISIS DOES NOT MATCH RECORD BYTE COUNT
  A tape record size does not match the internal record byte
  count.



CANNOT DELETE LAST ENTRY
  If there is only one entry in user's access profile, it cannot
  be deleted.



CANNOT RUN CONSISTENCY ON Netval SYSTEM
  This MUD is also the Netval CUD; a consistency run would be
  redundant.



CIRCUIT IN USE BY CONSISTENCY
  An operation was attempting to access the UN2 circuit, and it
  busy performing a consistency.






                      Netval Error Messages                  Page 13-225







Netval External Reference Specification             July 12, 1988



CIRCUIT NOT BUILT - error message
  Netval is unable to build a circuit to the slave on the
  requested Supervisor, failure is described by error message
  (refer to Section 13.5).



CLASS IS NOT DEFINED
  There are no host or node lists in this class.



CONSISTENCY IS ALREADY RUNNING
  The validator attempted to perform a manual consistency, and an
  automatic consistency is running on the specified Supervisor.



CONSISTENCY IS MANUAL AND CANNOT BE STOPPED
  The validator tried to use the STOP command on a running manual
  consistency (the STOP command may only be used on running
  automatic consistencies).



CONSISTENCY NOT CURRENTLY RUNNING
  The validator tried to use the STOP command and there is no
  consistency running on the Supervisor specified.



CUD BLOCK FULL
  There is no room for more CUD entries in the CUD block.



CUD FORMAT ERROR ON BLOCK n AT address
  There is a CUD format error; notify the programmer.



CUD BUFFER EMPTY
  No CUD block has been read into the CUD buffer.





                      Netval Error Messages                  Page 13-226







Netval External Reference Specification             July 12, 1988



CUD CHECKSUM ERROR
  There was an error in the CUD checksum while reading a CUD
  block.



CUD FILE BUSY
  The CUD file is being restored from tape and is not currently
  accessable.



CUD OPERATION FAILED
  There was a disk error while reading or writing a CUD block.



DISK ERROR - error message
  A disk error has occurred as described by the error message.



ERROR IN BUFFER CHECKSUM
  There was a checksum error in the CUD or MUD buffer retrieved
  from the disk.



ERROR IN CUD FORMAT
  An unexpected value was found in the CUD.



ERROR ON UN2
  There was an error communicating with the UN2 Supervisor slave.



ERROR ON TAPE UNIT:    error message
  A tape error has occurred as described by the error message.



EXPECTED BLOCK b, RECEIVED BLOCK c
  CUD block "b" is missing from the CUD tape.



                      Netval Error Messages                  Page 13-227







Netval External Reference Specification             July 12, 1988



FILE ERROR
  There was a disk I/O error on the NODE HOST file.



FILE FULL
  The file is full of lists.



FORMAT ERROR
  There was a format error on the file.



GANS ARE NOT INCLUDED IN CUD ENTRIES
  There are no GAN numbers included in cud entries.



GROUP n CANNOT BE ASSIGNED HOME STATUS
  The control options for the user entry are being changed so as
  to force all destinations to be homes; the group specified is
  either zero or a negative group and cannot be used as a home.



GROUP n CANNOT BE USED AS A DESTINATION
  The user has the IGNORE DESTINATION option set and the group is
  zero or a negative group.



GROUP n IS NOT DEFINED
  The group is empty.



HANDSHAKE FAILED
  The UN2 or SYSMSG1 slave handshake failed.



ILLEGAL TAPE UNIT
  The tape unit is not a legal unit for this system.



                      Netval Error Messages                  Page 13-228







Netval External Reference Specification             July 12, 1988



LIST ALREADY DEFINED
  A new list cannot be created with an already existing list
  name.



LIST IS BEING MODIFIED
  The list is currently being modified by another validator.



LIST NAME IS ALREADY ENTERED
  The list is already used in the definition of the Class or
  Group.



list name IS REFERRED TO IN THE DEFINITION OF
***class | group n *** AND MAY NOT BE DELETED
  The list is part of the definition of the CLASS or GROUP.



LIST NOT FOUND
  Either the hostlist name or the nodelist name is not defined.



LIST NOT FOUND IN class | group
  The list may not be replaced or deleted because it is not in
  the Class or Group.



LOST CIRCUIT/CIRCUIT ZAPPED
  The circuit to the requested Supervisor was lost.



MTA IS NOT A Netval TAPE
  The Netval header expected was not found on the specified tape.



MUD BUFFER EMPTY



                      Netval Error Messages                  Page 13-229







Netval External Reference Specification             July 12, 1988



  No MUD block has been read into the MUD buffer.



MUD_UPDATE FILE OR DISK ERROR
  There was an error in updating the MUD change file.



MUD_UPDATE FULL
  There is no more room for MUD changes; when all Supervisors
  "catch up" the file will be cleared; if a Supervisor is down
  for an extended period of time, turn that Supervisor "off" with
  the SET SUPERVISOR command until the Supervisor is up again.



MUD_UPDATE LOCKED
  The MUD change file is being restored from tape; try again
  later.



NO BLOCK LOCKED
  The Programmer attempted to unlock a block, and there were none
  locked.



<node/host n> NOT FOUND IN LIST
  The value may not be replaced or deleted because it was not
  found in the list being modified.



NO LISTS TO MODIFY
  The Class or Group is empty, so there are no lists to delete or
  replace.



NO TAPE UNIT ASSIGNED
  The validator has no tape unit assigned and did not specify one
  to use in the command line.




                      Netval Error Messages                  Page 13-230







Netval External Reference Specification             July 12, 1988



PASSWORDS DO NOT MATCH
  The second entry of the password does not match the first.



PROGRAMMER HAS BLOCK LOCKED
  The Programmer is fixing a problem on the CUD block being
  accessed; try again later.



PASSWORD MUST BE A MINIMUM OF n CHARACTERS
  Passwords must be n characters or longer.



PASSWORD MUST CONTAIN AT LEAST ONE NONALPHANUMERIC CHARACTER
  Passwords must contain at least one character other than A-Z
  and 0-9.



SUP ALREADY OFF
  The validator is attempting to turn off a Supervisor that is
  already off.



SUP ALREADY ON
  The validator is attempting to turn on a Supervisor that is
  already on.



SUPERVISOR IS NOT LEGAL
  The Supervisor is not defined as legal Netval Supervisor.



SUPERVISOR UNAVAILABLE
  A circuit cannot be built to the Supervisor because it is not
  available to the network.






                      Netval Error Messages                  Page 13-231







Netval External Reference Specification             July 12, 1988



SYSMSG1 ERROR ON SUPERVISOR n: <sysmsg1 status>
  There was an error (specified by <sysmsg1 status>) in the
  updating of the Class Group table for Supervisor n.



SYSMSG1 UNAVAILABLE
  The Class Group update slave is not accessable.



TAPE UNIT u ALREADY ASSIGNED
  The validator has the unit specified assigned and is trying to
  assign or use another unit.



TAPE UNIT ASSIGNED TO <username>
  Tape is assigned to another validator, try again later.



TAPE UNIT ATTACH FAILED
  The tape attach failed; an explanation follows.



TAPE UNIT DETACH FAILED
  The tape detach failed; an explanation follows.



TOO MANY RESENDS
  The block was retransmitted more than the maximum allowable
  times unsuccessfully.



UN2 ERROR ON SUPERVISOR s
  There has been an error updating the MUD for Supervisor "s"
  (the specific error is explained immediately preceding this
  message).






                      Netval Error Messages                  Page 13-232







Netval External Reference Specification             July 12, 1988



UNRECOGNIZED INPUT
  Unexpected data was received from the UN2 circuit.



USE CLEAR COMMAND TO DEACTIVATE AUTOMATIC CONSISTENCY
  The validator is setting the consistency schedule to a start
  time and stop time of 0:00; the CLEAR command should be used to
  turn off the automatic consistency.



USER ALREADY EXISTS
  The specified username already exists.



USER ENTRY BUSY
  The username entry is being updated by another validator.



USER HAS THE NO PASSWORD OPTION AND CANNOT HAVE HIS PASSWORD
  CHANGED
  The NO PASSWORD option must be turned off before the user can
  have a password.



USER NOT FOUND
  The specified username was not found in the CUD.



"value" SHOULD BE A base NUMBER BETWEEN min AND max
  The value entered by the validator is not acceptable; the
  correct value should be in radix "base", and range from "min"
  to "max".



WRITE FAILED
  The CUD block may not be written to the disk.





                      Netval Error Messages                  Page 13-233







Netval External Reference Specification             July 12, 1988



YOU ALREADY HAVE BLOCK n LOCKED.
  The Programmer validator is attempting to lock a CUD block, and
  there is already one locked.



YOU CANNOT ACCESS THAT USERNAME
  The validator is an Account Supervisor and a username was
  entered that is not in his Global Account.

13.3  Command Error Messages

The messages described in this Section are output during the
scanning of the command line.  "FREEWORD" refers to textual
input, such as a username, filename, etc.  "KEYWORD" refers to an
expected string as described in the command.


ARGUMENT MISSING
  A required argument is not in the command line.



ARGUMENT TOO LONG
  The supplied value is illegal due to its length.



DO NOT HAVE PROPER AUTHORIZATION
  The user is not validated with enough license to execute this
  command.



ILLEGAL CHARACTER ENTERED
  A character was entered for a username, password or list name
  that is not acceptable.



INVALID ARGUMENT
  An argument supplied is not legal.






                      Netval Error Messages                  Page 13-234







Netval External Reference Specification             July 12, 1988



INVALID COMMAND
  The command entered was not recognized as a legal command.



INVALID INPUT
  There are too many freewords in the command line.



INVALID OPERAND
  A keyword in the command line is not legal.



NUMBER OUT OF BOUNDS
  The value entered is too large.



PARAMETER MISSING
  A keyword or value is missing.



TOO MANY COMMAND ARGUMENTS
  There are extraneous arguments in the input line.

13.4  Device Messages

The messages described in this Section are error returns from
device operations.


DEVICE BUSY
  The device being accessed is busy.



DEVICE FAILURE
  The auxilliary circuit was lost.



END OF FILE DETECTED



                      Netval Error Messages                  Page 13-235







Netval External Reference Specification             July 12, 1988



  An end of file has been detected before it was expected.



END OF VOLUME DETECTED
  An end of medium has been detected.



INTERVENTION REQUIRED
  The tape drive or line printer unit being used is off-line.



ORANGE BALL
  An unexpected orange ball has been detected on the circuit.



PROGRAM ERROR
  There is an error in the program.  Contact your Tymshare
  representative.



START MEDIUM
  A start of medium has been detected.



TIMED OUT
  A time-out has expired on a device.



TRANSMISSION ERROR
  A possible hardware problem has occurred.  The operation may be
  attempted again.

13.5  Circuit Build Error Messages

The following error messages are ISIS codes received when trying
to build a circuit.





                      Netval Error Messages                  Page 13-236







Netval External Reference Specification             July 12, 1988



ACCESS NOT PERMITTED
  The host specified cannot be accessed by the name being used.



BAD HOST NUMBER
  The host number specified is illegal.



BAD MUD
  There is a problem with the Master User Directory.



BAD REQUESTING HOST NUMBER
  The requesting host number is illegal.



CIRCUIT BUILD ERROR: INTEGER
  The error code received, integer, was unrecognizable.



CIRCUITS BUSY
  There are no circuits available.



CONTINUE
  Circuit build failure.



DOWN-LINE LOAD REQUEST FAILURE
  A downline load request failed.



FORMAT ERROR
  Program error, contact your Tymshare representative.






                      Netval Error Messages                  Page 13-237







Netval External Reference Specification             July 12, 1988



HOST DOWN
  The specified host is not up in the network.



HOST OUT OF PORTS
  The host is out of ports.



HOST SHUT
  The specified host is in a shut state.



INVALID PASSWORD
  The password specified is not the correct password for the
  username.



INVALID USERNAME
  username supplied is illegal.



ISIS UNABLE TO COMPLETE REQUEST
  There is a temporary problem in building the circuit, try again
  later.



LOGIN ERROR:   integer
  The error code received, integer, was unrecognizable.



NO HOST SPECIFIED
  The host number is missing from the circuit request.



NO USERNAME
  The username is missing from the circuit request.




                      Netval Error Messages                  Page 13-238







Netval External Reference Specification             July 12, 1988



NO PASSWORD
  The password is missing from the circuit request.



PLEASE LOG IN
  An error occurred in the circuit request.



OUT OF ORIGINATION PORTS
  There are no origination ports available.



REQUESTING HOST NOT UP ON REQUESTING NODE
  Illegal host.



SLOT 0 WILL NOT HONOR REQUEST...TRY LATER



SUP WILL NOT HONOR REQUEST...TRY LATER



SYSTEM UNAVAILABLE
  The host is not up for access by the user.



TIMEOUT
  There was a timeout on the circuit.



TRY AGAIN IN 2 MINUTES
  There is a temporary problem, the user should try again later.








                      Netval Error Messages                  Page 13-239







Netval External Reference Specification             July 12, 1988



13.6  Operator Log Errors

This section is a partial list of error messages entered into the
operator log.


CONSISTENCY CHECKSUM MISMATCH, SUPERVISOR n ON BLOCK



ERROR <reading/writing> FILE: <name>
  There was a disk error reading or writing the specified file.



FORMAT ERROR IN MUD_UPDATE_FILE IN BLOCK n AT <address>:
ILLEGAL <part>
  There was an error in the <part> header in a MUD change record
  at the address specified.



MUD UPDATE FILE IS n PERCENT FULL
  The MUD update file is 50% larger than the last time this mes-
  sage was reported.























                      Netval Error Messages                  Page 13-240







Netval External Reference Specification             July 12, 1988



                  14.  Netval Disk File Formats

NETVAL disk files, in order of appearance, are:


        Unit 0:
        CUD
        CUD Parameter

        Unit 1:
        Configuration
        Node host
        Class/group
        Operator log
        Mud update
        DNIC
        Passtable
        Schedtable


The following Sections describe the specific files.

14.1  CUD File Format

The CUD file is made up of a number of CUD blocks, determined by
the configuration parameter Maximum Normal CUD Block.

Each CUD block contains a number of CUD entries, of variable
length, terminated by:



     - a full word of zero if no more entries
     - 4 bytes of checksum in the last word














                    Netval Disk File Formats                  Page 14-241







Netval External Reference Specification             July 12, 1988



The CUD in MUD I format is identical to the MUD.  The fol-
lowing describes a CUD entry in a CUD block - MUD I format:

                             1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
  bit 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  wd        |---------------------|---------------------|---------------------|---------------------|
   0     size of entry
            |---------------------|---------------------|---------------------|---------------------|
   1        |  |                 first word of username
            |---------------------|---------------------|---------------------|---------------------|
   2        |  |            second word of username - optional
            |---------------------|---------------------|---------------------|---------------------|
   3        |  |             third word of username - optional
            |---------------------|---------------------|---------------------|---------------------|
   4        |  |            fourth word of username - optional
            |---------------------|---------------------|---------------------|---------------------|
   5        |  |             fifth word of username - optional
            |---------------------|---------------------|---------------------|---------------------|
                      S = number of words in username
            |------------------------------------------------------------------------------------|
 S+1                            password cipher
            |------------------------------------------------------------------------------------|
 S+2                           entry change date
            |------------------------------------------------------------------------------------|
 S+3                                  GAN
            |------------------------------------------------------------------------------------|
 S+4                                  UUN
            |-------------------------------------------------|----------------------------------|
 S+5                  control                             district
            |---------------------|---------------------------------------------------------------|
 S+6                                    password change date
            |---------------------|---------------------|---------------------|---------------------|
 S+7    # bytes+I+E+  class/byte count    H+G+    group, host or node
            |---------------------|---------------------|---------------------|---------------------|
        H+G+    group, host or node                   .  .  .
            |---------------------|---------------------|---------------------|---------------------|
        H+G+  last group, host or node    # bytes+I+E+  class/byte count
            |---------------------|---------------------|---------------------|---------------------|
                                  .  .  .
            |---------------------|---------------------|---------------------|---------------------|
                    .  .  .                  0F        0F        0F        0F
            |---------------------|---------------------|---------------------|---------------------|
 bit                         1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
         0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1




                    Netval Disk File Formats                  Page 14-242







Netval External Reference Specification             July 12, 1988



     WORD

          0  bits 0-7 total size of CUD entry in bytes
             bits 8-31 zero

        1-5 username, characters are left justfied, words are
zero filled
            bit 0 is on in last word of name

        S+1 password cipher

        S+2 date entry was last changed, except for password
change
            (seconds since 1/1/74)

        S+5 bits 0 - 19 control bits - if bit is on, parameter is
set:
                    BIT
                     4   operator
                     3   shut override
                     7   force password change exepmt (off if FPC
disabled)
                     9   no self password change (off if NSP dis-
abled)
                    10   transparent login
                    13   ignore destination
                    14   new password
                    15   no password
                    17   network administrator
                    18   account supervisor
                    19   auditor
            bits 20 - 31 district

        S+6 BIT
            0-7  zero (previously IRC)
            8-31 password change date (days since 1/1/74)

        S+7 Access Entries
            BIT
            0-3  size of access entry description in bytes (4 -
14)
              4  if on, origin is defined explicitly (in-place)
in the
                 CUD entry
              5  if in-place origin, if on, list is exception



                    Netval Disk File Formats                  Page 14-243







Netval External Reference Specification             July 12, 1988



list;
                 otherwise in-place list is a regular list
           6-15  if in-place origin, byte count of in-place list;
                 otherwise, class number
             16  if in-place origin, on if bits 18-31 is a host,
else it
                 is a node - hosts MUST be listed first;
                 otherwise on if bits 18-31 is a home (group or
host)
             17  on if bits 18-31 is a group (not a host)
          18-31  host, node, or group

     ...followed by optional additional host, node or group half
words
        for the access entry (as in bits 16 - 31)

     ...followed by additional access entries, up to 11, possibly
starting
        on a halfword boundry

    Note: The maximum size for each access entry is 14 bytes; the
          maximum in-place origin size is 10 bytes (5 hosts or
nodes).
          The entry is terminated by at least one half word of
hexadecimal
          0FFFF.






















                    Netval Disk File Formats                  Page 14-244







Netval External Reference Specification             July 12, 1988




The CUD in MUD II format consists of the MUD data and the NUD
data as described below.

The following describes a MUD entry in a MUD II block (type 0):

           _____________________________________________________________
         |      0000           |   AP Offset             |          MUD entry size
            _______________________________|____________________________
          | UD NI TA P                     |
          | _______________________________|_____________________________
          |                                           UUN
           _____________________________________________________________
          |                             password cipher
          | ____________________________________________________________
          | name size |                  first word of username
          | ____________________________________________________________
          |                      next word of username - optional
          | ____________________________________________________________
                                             .
                                             .
                                     (up to 5 username words)
                                             .
          | ____________________________________________________________
          |      APE type       |   APE size    |    Orig Off   |  Dest Off
          | ____________________________________________________________
          |      Home Off   |   Local Off   | U D N A | RCRC | SRP  |
          | ____________________________________________________________
          | Origination Specification
          | ____________________________________________________________
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Destination Spectication
          | ____________________________________________________________
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Home Spectication
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Local Sets Spectication
          | ____________________________________________________________
                                             .
                             (remaining AP entries - if any)
                                             .
                             (remaining MUD entries - if any)



                    Netval Disk File Formats                  Page 14-245







Netval External Reference Specification             July 12, 1988



                                             .
           _________________________________
          |                    0000
          | _______________________________


The following describes a MUD entry in a MUD II block (type 1):

           _____________________________________________________________
         |      0001           |   AP Offset             |          MUD entry size
            _______________________________|____________________________
          | UD NI TA P                     |                 IRC - optional
          | _______________________________|____________________________
          |                                           UUN
           _____________________________________________________________
          |                             password cipher
          | ____________________________________________________________
          |                     password cancelation date - optional
          | ____________________________________________________________
          | name size |                  first word of username
          | ____________________________________________________________
          |                      next word of username - optional
          | ____________________________________________________________
                                             .
                                             .
                                     (up to 5 username words)
                                             .
          | ____________________________________________________________
          |      APE type       |   APE size    |    Orig Off   |  Dest Off
          | ____________________________________________________________
          |      Home Off   |   Local Off   | U D N A | RCRC | S    |
          | ____________________________________________________________
          | Origination Specification
          | ____________________________________________________________
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Destination Spectication
          | ____________________________________________________________
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Home Spectication
          |  .  .  .  .  .  .  .   .  .   .   .   .   .   .  .   .  .
          | ____________________________________________________________
          |  Local Sets Spectication
          | ____________________________________________________________



                    Netval Disk File Formats                  Page 14-246







Netval External Reference Specification             July 12, 1988



                                             .
                             (remaining AP entries - if any)
                                             .
                             (remaining MUD entries - if any)
                                             .
           _________________________________
          |                    0000
          | _______________________________








































                    Netval Disk File Formats                  Page 14-247







Netval External Reference Specification             July 12, 1988



MUD Entry Fields:

     TYPE           - type is 0 if no IRC or password cancella-
                    tion date, type is 1 if IRC or password can-
                    cellation date included in entry

     APE OFFSET     - offset to start of entry

     MUD ENTRY SIZE - total MUD entry in bytes, including 0000
                    (two bytes)

     CONTROL FLAG BITS

                         U    - username (1 if MUD entry is user-
                              name)
                         D    - destination name (1 if MUD entry
                              is destination name)
                         N    - no password
                         I    - ignore destination
                         T    - transparent login
                         A    - auxiliary circuit password
                              required

     IRC            - IRC number values 1 - 7, 0 means no IRC
                    (one nibble)

     UUN            - Universal User Number (one word)

     PASSWORD CIPHER & DATE - one word cipher, one word cancella-
                    tion is included only if type is 1, cancella-
                    tion may be zero when it is included

     NAME SIZE      - number words in the name field, must be
                    non-zero (one nibble)

     USERNAME       - 1-10 pairs of characters, first pair is
                    name size and first character of name, last
                    pair is padded with FF if needed to complete
                    the pair









                    Netval Disk File Formats                  Page 14-248







Netval External Reference Specification             July 12, 1988




     ACCESS PROFILE ENTRIES

               APE type - ape entry type (one byte)

               APE size - number of bytes in entire AP entry (one
                    byte)

               Origin offset - byte offset to origin (one byte)

               Destination offset - byte offset to destination
                    (one byte)

               Home offset - byte offset to home (one byte)

               Local Sets offset - byte offset to local sets (one
                    byte)

               AP Control Flags

                         U    - username ok for this APE
                         D    - destination name ok for this APE
                         N    - normal circuit (1 indicates nor-
                              mal circuit request is permitted)
                         A    - auxiliary circuit (1 indicates
                              auxiliary circuit request is per-
                              mitted)
                         RC   - regular call as username - col-
                              lect call as username
                         RC   - regular call as destination name
                              - collect call as destination name
                         S    - shut override (1 indicates shut
                              override is permitted)
                         R    - destination name required in des-
                              tination

               Origin Specification - description of origin

               Destination Specification - description of desti-
                    nation

               Home Specificaiton - home destination description

               Local Sets Specification - local set description




                    Netval Disk File Formats                  Page 14-249







Netval External Reference Specification             July 12, 1988



     0000 - end of MUD entries in block flag (two bytes)




The following describes the NUD data in a CUD block:

          _____________________________________________________________
          |                                  Entry Change Date
          | ____________________________________________________________
          |                                           GAN
          | ____________________________________________________________
          | NA AS O AU FE NS                 |           District
          |_____________________________________________________________
          |                             Password Change Date
          | ____________________________________________________________



ENTRY CHANGE DATE
   The date the username was last changed except for change pass-
word.

GAN
   Global account number (optional by network).

CUD CONTROL BITS

     NA   - Network Administrator
     AS   - Account Supervisor license
     O    - Operator license
     AU   - AUditor license
     FE   - Force password change Exempt (always off if FPC dis-
          abled)
     NS   - No Self password change (always off if NSP disabled)

14.2  CUD Parameter File Format

The format of the CUD parameter file is a single header page, as
follows:








                    Netval Disk File Formats                  Page 14-250







Netval External Reference Specification             July 12, 1988



  wd        |---------
---------------------------------------------------------------------------|
   0                     next GAN to be assigned
            |---------
---------------------------------------------------------------------------|
   1                     next UUN to be assigned
            |---------
---------------------------------------------------------------------------|
   2                            unused
            |---------
---------------------------------------------------------------------------|
                            .  .  .
            |---------
---------------------------------------------------------------------------|
  62                            unused
            |---------
---------------------------------------------------------------------------|
  63                           checksum
            |---------
---------------------------------------------------------------------------|

14.3  Configuration File

The configuration file is the first file on unit one; it is one
page in length; its format is as follows:























                    Netval Disk File Formats                  Page 14-251







Netval External Reference Specification             July 12, 1988



  wd        |---------------------|---------------------|---------------------|---------------------|
   0          "N"               "E"                "T"              "V"
            |---------------------|---------------------|---------------------|---------------------|
   1          "A"               "L"               disk incarnation...
            |---------------------|---------------------|------------------------------------------|
   2            ...number                          label date....
            |------------------------------------|------------------------------------------|
   3           ...and time                          DISK_UNIT_...
            |------------------------------------|------------------------------------------|
   4           ...ONE_SIZE                          unit for...
            |------------------------------------|------------------------------------------|
   5           ...file 1                         address for...
            |------------------------------------|------------------------------------------|
   6           ...file 1                          length of...
            |------------------------------------|------------------------------------------|
   7           ...file 1                            unit for...
            |------------------------------------|------------------------------------------|
   8           ...file 2                         address for...
            |------------------------------------|------------------------------------------|
   9           ...file 2                          length of...
            |------------------------------------|------------------------------------------|
  10           ...file 2
            |------------------------------------|

                                .  .  .























                    Netval Disk File Formats                  Page 14-252







Netval External Reference Specification             July 12, 1988



                                          |---------
---------------------------------|
  31                                              unit
for...
            |---------
---------------------------|------------------------------------------|
  32           ...last file                      address
for...
            |---------
---------------------------|------------------------------------------|
  33           ...last file                       length
of...
            |---------
---------------------------|------------------------------------------|
  34           ...last file
MAXIMUM_CUD_BLOCK
            |---------
---------------------------|------------------------------------------|
  35        ...SIZE_IN_SECTORS
MAXIMUM_EXPECTED_...
            |---------
---------------------------|------------------------------------------|
  36          ...SUPERVISORS
MAXIMUM_CUD_...
            |---------
---------------------------|------------------------------------------|
  37            ...BLOCK
INCLUDE_GAN
            |---------
---------------------------|------------------------------------------|
  38           INCLUDE_DISTRICT
MINIMUM_PASSWORD...
            |---------
---------------------------|------------------------------------------|
  39            ..._SIZE
REQUIRE_NONALPHANUMERIC
            |---------
---------------------------|------------------------------------------|
  40       CLASS_0_GROUP_0_ASSIGNABLE
NETVAL_CUD_IS_A_MUD
            |---------
---------------------------|------------------------------------------|
  41                        PROGRAMMER_NAME_SIZE
            |---------
---------------------------------------------------------------------------|



                    Netval Disk File Formats                  Page 14-253







Netval External Reference Specification             July 12, 1988



  42                       PROGRAMMER_NAME...
            |---------
---------------------------------------------------------------------------|
  43                      ...PROGRAMMER_NAME...
            |---------
---------------------------------------------------------------------------|

                                .  .  .

            |---------
---------------------------------------------------------------------------|
  47                       ...PROGRAMMER_NAME
            |---------
---------------------------------------------------------------------------|
  48                            MAXIMUM_HOST
            |---------
---------------------------------------------------------------------------|
  49                            MAXIMUM_NODE
            |---------
---------------------------------------------------------------------------|
  50                            MAXIMUM_CLASS
            |---------
---------------------------------------------------------------------------|
  51                       MAXIMUM_CLASS_TABLE_SIZE
            |---------
---------------------------------------------------------------------------|
  52                            MAXIMUM_GROUP
            |---------
---------------------------------------------------------------------------|
  53                       MAXIMUM_GROUP_TABLE_SIZE
            |---------
---------------------------------------------------------------------------|
  54                       MAXIMUM_DNIC_TABLE_SIZE
            |---------
---------------------------------------------------------------------------|
  55         time of last logical volume successful disk
write
            |---------
---------------------------------------------------------------------------|
  56                          DISK_UNIT_ZERO_SIZE
            |---------
---------------------------------------------------------------------------|
  57                                 unused
            |---------
---------------------------------------------------------------------------|



                    Netval Disk File Formats                  Page 14-254







Netval External Reference Specification             July 12, 1988



                                .  .  .
            |---------
---------------------------------------------------------------------------|
  62                                 unused
            |---------
---------------------------------------------------------------------------|
  63                                checksum
            |---------
---------------------------------------------------------------------------|




DISK INCARNATION
  0 for Netval version 2; 1 for Netval version 3.

LABEL DATE AND TIME
  ISIS time that configuration file was recorded to disk.

DISK_UNIT_ONE_SIZE
  Defined in configuration file (NVAL05.A##).

For each file (order is: configuration, node host, class/group,
operator log, mud update, CUD, CUD parameter):

     UNIT
  0 = CUD, CUD parameter
  1 = all other files

     ADDRESS
  Offset, in pages, from beginning of disk to start of file.

     LENGTH
  Number of pages in file.

     CREATION DATE
  ISIS time of file initialization.

MAXIMUM_CUD_BLOCK_SIZE_IN_SECTORS
MAXIMUM_EXPECTED_SUPERVISORS
MAXIMUM_NORMAL_CUD_BLOCK
  Defined in configuration file (NVAL05.A##).

INCLUDE_GAN
INCLUDE_DISTRICT



                    Netval Disk File Formats                  Page 14-255







Netval External Reference Specification             July 12, 1988



  Defined in configuration file (NVAL05.A##); zero if FALSE, one
if True.

MINIMUM_PASSWORD_SIZE
  Defined in configuration file (NVAL05.A##).

REQUIRE_NONALPHANUMERIC
CLASS_0_GROUP_0_ASSIGNABLE
NETVAL_CUD_IS_A_MUD (MUD I) - or - MUD_SUP_VERSION (MUD II)
  Defined in configuration file (NVAL05.A##); zero if FALSE, one
if True.  MUD version is 430 or higher.

PROGRAMMER_NAME_SIZE
  Defined in configuration file (NVAL05.A##).

PROGRAMMER_NAME
  Ascii characters filled out to 20 bytes with spaces.

MAXIMUM_HOST
MAXIMUM_NODE
MAXIMUM_CLASS
MAXIMUM_CLASS_TABLE_SIZE
MAXIMUM_GROUP
MAXIMUM_GROUP_TABLE_SIZE
  Defined in configuration file (NVAL05.A##).
MAXIMUM_DNIC_TABLE_SIZE
  Defined in configuration file (NVAL05.A##).

TIME OF LAST LOGICAL VOLUME SUCCESSFUL DISK WRITE
  If the Logical Volume parameter is enabled in the configuration
file, this is the last successful disk write to this unit.

DISK_UNIT_ZERO_SIZE
  Defined in configuration file (NVAL05.A##).

14.4  Node Host File

This file consists of a one page header, a description of the
node lists, a description of the host lists, a description of
classes in terms of node lists and host lists, and a description
of groups in terms of host lists.  The file header is as follows:







                    Netval Disk File Formats                  Page 14-256







Netval External Reference Specification             July 12, 1988



                            1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
 bit 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 wd        |---------------------|---------------------|---------------------|---------------------|
  0          "N"               "H"               "C"               "G"
           |------------------------------------------------------------------------------------|
  1                               MAXIMUM_LIST
           |------------------------------------------------------------------------------------|
  2                       MAXIMUM_NAMED_LIST_NAME_SIZE
           |------------------------------------------------------------------------------------|
  3                    MAXIMUM_NAMED_LIST_DESCRIPTION_SIZE
           |------------------------------------------------------------------------------------|
  4                        MAXIMUM_NAMED_LIST_ENTRY
           |------------------------------------------------------------------------------------|
  5                      MAXIMUM_PAGES_IN_NAMED_LIST
           |------------------------------------------------------------------------------------|
  6                     MAXIMUM_LISTS_IN_GLOBAL_ACCESS
           |------------------------------------------------------------------------------------|
  7                     MAXIMUM_PAGES_IN_GLOBAL_ACCESS
           |------------------------------------------------------------------------------------|
  8                        FIRST_NODE_LIST_PAGE
           |------------------------------------------------------------------------------------|
  9                        LAST_NODE_LIST_PAGE
           |------------------------------------------------------------------------------------|
 10                        FIRST_HOST_LIST_PAGE
           |------------------------------------------------------------------------------------|
 11                        LAST_HOST_LIST_PAGE
           |------------------------------------------------------------------------------------|
 12                     FIRST_CLASS_DEFINITION_PAGE
           |------------------------------------------------------------------------------------|
 13                      LAST_CLASS_DEFINITION_PAGE
           |------------------------------------------------------------------------------------|
 14                     FIRST_GROUP_DEFINITION_PAGE
           |------------------------------------------------------------------------------------|
 15                      LAST_GROUP_DEFINITION_PAGE
           |------------------------------------------------------------------------------------|
 16                                 unused
           |------------------------------------------------------------------------------------|
                                  .  .  .
           |------------------------------------------------------------------------------------|
 62                                 unused
           |------------------------------------------------------------------------------------|
 63                                checksum
           |------------------------------------------------------------------------------------|





                    Netval Disk File Formats                  Page 14-257







Netval External Reference Specification             July 12, 1988



NHCG
  File identifier.

MAXIMUM_LIST
MAXIMUM_NAMED_LIST_NAME_SIZE
MAXIMUM_NAMED_LIST_DESCRIPTION_SIZE
MAXIMUM_NAMED_LIST_ENTRY
  Defined in configuration file (NVAL05.A##).

MAXIMUM_PAGES_IN_NAMED_LIST
  Computed according to definitions in configuration file
(NVAL05.A##).

MAXIMUM_LISTS_IN_GLOBAL_ACCESS
  Defined in configuration file (NVAL05.A##).

MAXIMUM_PAGES_IN_GLOBAL_ACCESS
FIRST_NODE_LIST_PAGE
LAST_NODE_LIST_PAGE
FIRST_HOST_LIST_PAGE
LAST_HOST_LIST_PAGE
FIRST_CLASS_DEFINITION_PAGE
LAST_CLASS_DEFINITION_PAGE
FIRST_GROUP_DEFINITION_PAGE
LAST_GROUP_DEFINITION_PAGE
  Computed according to definitions in configuration file
(NVAL05.A##).



The following is a description of a node or host list.

















                    Netval Disk File Formats                  Page 14-258







Netval External Reference Specification             July 12, 1988



 wd        |------------------------------------------------------------------------------------|
  0              ASCII representation of the list name . . .
           |------------------------------------------------------------------------------------|
                                .  .  .
           |------------------------------------------------------------------------------------|
           . . . ASCII representation of the list name
           |------------------------------------------------------------------------------------|
                        number of bytes in list name
           |------------------------------------------------------------------------------------|
              ASCII representation of the list description . . .
           |------------------------------------------------------------------------------------|
                                .  .  .
           |------------------------------------------------------------------------------------|
           . . . ASCII representation of the list description
           |------------------------------------------------------------------------------------|
                      number of bytes in list description
           |------------------------------------------------------------------------------------|
                              count of values in list
           |------------------------------------------------------------------------------------|
                                   value 1
           |------------------------------------------------------------------------------------|
                                   value 2
           |------------------------------------------------------------------------------------|
                                .   .   .
           |------------------------------------------------------------------------------------|
                                  last value
           |------------------------------------------------------------------------------------|
                                   checksum
           |------------------------------------------------------------------------------------|




REPRESENTATION OF THE LIST NAME
  The ASCII bytes describing the list name.

NUMBER OF BYTES IN LIST NAME
  The number of bytes used in the list name string (maximum is
defined by the configuration parameter maximum named list name
size).

ASCII REPRESENTATION OF THE LIST DESCRIPTION
  If the include list descriptions parameter is enabled, this is
the list description.




                    Netval Disk File Formats                  Page 14-259







Netval External Reference Specification             July 12, 1988



NUMBER OF BYTES IN LIST DESCRIPTION
  If the include list descriptions parameter is enabled, this is
the length of the list description (maximum is defined by the
configuration parameter maximum named list description size).

COUNT OF VALUES IN LIST
  The number of values that follow (maximum count is defined by
maximum named list entry parameter in the configuration file
(NVAL05.A##)).

VALUE
  If a node list, a node number (range is defined by maximum node
parameter in the configuration file (NVAL05.A##)); if a host
list, a host number (range is defined by maximum host parameter
in the configuration file (NVAL05.A##)).



The following is the representation of classes and groups in the
node host file.


                            1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
 bit 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 wd        |------------------------------------|------------------------------------------|
  0            exception flag                count of entries in...
           |------------------------------------------------------------------------------------|
  1             ...global access          first entry page number...
           |------------------------------------------------------------------------------------|
  2                ...of list              first entry host flag
           |------------------------------------------------------------------------------------|
  3                second entry page number of list
           |------------------------------------|------------------------------------------|
  4      second entry host flag           third entry page number...
           |------------------------------------------------------------------------------------|
  5                ...of list              third entry host flag
           |------------------------------------|------------------------------------------|
                                 .  .  .
           |------------------------------------|------------------------------------------|
                                   checksum
           |------------------------------------|------------------------------------------|
 bit                        1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1





                    Netval Disk File Formats                  Page 14-260







Netval External Reference Specification             July 12, 1988



EXCEPTION FLAG
  A halfword value; zero if global access is not defined to be an
exception; one if it is defined to be an excpetion.

COUNT OF ENTRIES IN GLOBAL ACCESS
  A fullword value of the number of lists that make up the global
access definition.

OFFSET NUMBER OF LIST
  The offset number of the list entry, i.e., 0 is first list in
file, 1 is second list in file, etc.

HOST FLAG
  A halfword value; zero if the preceeding list is a nodelist;
one if it is a host list.

14.5  Class/Group Table

The size of the table is defined in the Supervisor and by the
NETVAL configuration file parameters maximum class table size and
maximum group table size.  The number of classes and groups is
defined in the Supervisor and by the NETVAL configuration file
parameters maximum class and maximum group.

























                    Netval Disk File Formats                  Page 14-261







Netval External Reference Specification             July 12, 1988



                            1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
 bit 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 wd        |------------------------------------+-|----------------------------------------|
  0         index to first class         E+     size of first list
           |------------------------------------+-|----------------------------------------|
  1         index to second class        E+     size of second list
           |------------------------------------+-|----------------------------------------|
                                .   .   .
           |------------------------------------+-|----------------------------------------|
            index to last class          E+     size of last list
       -|----------------------------------+-|----------------------------------------|
       H+        node or host            H+        node or host
       -|----------------------------------+-|----------------------------------------|
       H+        node or host            H+        node or host
       -|----------------------------------+-|----------------------------------------|
                                .   .   .
       -|----------------------------------+-|----------------------------------------|
       H+        node or host            H+        node or host
       -|----------------------------------+-|----------------------------------------|
            index to first group         E+     size of first group
           |------------------------------------+-|----------------------------------------|
            index to second group        E+     size of second group
           |------------------------------------+-|----------------------------------------|
                                .   .   .
           |------------------------------------+-|----------------------------------------|
            index to last group          E+     size of last group
           |------------------------------------+-|----------------------------------------|
                      host                           host
           |------------------------------------|------------------------------------------|
                      host                           host
           |------------------------------------|------------------------------------------|
                                .   .   .
           |------------------------------------|------------------------------------------|
                      host                           host
           |------------------------------------|------------------------------------------|
 bit                        1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1




INDEX TO CLASS
  Pointer to first value in class, i.e., the displacement (in
bytes) from the start of the CLASS table for the first node or
host in the class.



                    Netval Disk File Formats                  Page 14-262







Netval External Reference Specification             July 12, 1988



E
  If on, list is values not in the class (i.e., an exception
class).

SIZE OF LIST
  Number of bytes in class values (zero if undefined).

NODE OR HOST
  Halfword value of originating host (range is defined by maximum
host parameter in the configuration file) or node (range is
defined by maximum node parameter in the configuration file) with
hosts listed first.

H
  If on, value is a host number.

INDEX TO GROUP
  Pointer to first value in group, i.e., the displacement (in
bytes) from the start of the group table for the first host in
the group.

E
  If on, list is values not in the group (i.e., an exception
group).

SIZE OF LIST
  Number of bytes in group values (zero if undefined).

HOST
          Halfword value of destination host (range defined by
maximum host parameter in the configuration file).

14.6  Operator Log File Format

The file consists of a number of pages (defined by the Operlog
File Length parameter in the configuration file).  Each page con-
tains a single operator log message; the last page contains file
information.  Message pages are formatted as follows:










                    Netval Disk File Formats                  Page 14-263







Netval External Reference Specification             July 12, 1988



  wd        |------------------------------------------------------------------------------------|
   0                         sequence number
            |------------------------------------------------------------------------------------|
   1                        time of message
            |------------------------------------------------------------------------------------|
   2              message type                 size of message...
            |------------------------------------------------------------------------------------|
   3               ...I] bytes                     message...
            |------------------------------------------------------------------------------------|
                                 .   .   .
            |------------------------------------------------------------------------------------|
  62                        ....message
            |------------------------------------------------------------------------------------|
  63                            checksum
            |------------------------------------------------------------------------------------|




SEQUENCE NUMBER
  A sequential number is assigned to each message as it is
       written to the file.

TIME OF MESSAGE
  ISIS time that the message was written to the file.

MESSAGE TYPE
  This is currently only recorded and not used in any other way.
Current values are:
  0               miscellaneous messages
  1               validator message
  2               file messages
  3               CUD messages
  4               MUD update file messages
  5               UN2 messages
  6               consistency messages
  7               SYSMSG1 messages
  8               ARCHIVE messages
  10              CUD PARAMETER file messages
  11              Logical volume messages

SIZE OF MESSAGE IN BYTES
  Currently values are 1 - 238 bytes.

MESSAGE



                    Netval Disk File Formats                  Page 14-264







Netval External Reference Specification             July 12, 1988



  The ASCII characters that make up the message, 4 bytes per
word.



The format of the last page is:


  wd        |------------------------------------------------------------------------------------|
   0                         last read sequence
            |------------------------------------------------------------------------------------|
   1                                 unused
            |------------------------------------------------------------------------------------|
                               .   .   .
            |------------------------------------------------------------------------------------|
  62                                 unused
            |------------------------------------------------------------------------------------|
  63                          checksum of this page
            |------------------------------------------------------------------------------------|




LAST READ SEQUENCE
  The sequence of the last message read by a validator with the
MESSAGE command.

14.7  MUD Update File

The MUD UPDATE file consists of a single page header followed by
CUD change information.  The format of the header is as follows
(with DNICs):

  wd        |---------------------|---------------------|---------------------|---------------------|
   0           5A                5A                00                41
            |---------------------|---------------------|---------------------|---------------------|
   1                       end-of-file pointer
            |------------------------------------------------------------------------------------|
   2                  last Class/Group creation time
            |------------------------------------------------------------------------------------|
   3                          date of last dnic file update
            |------------------------------------------------------------------------------------|
   4       DNIC sent to all sups        |  DNIC sent to some sups
            |------------------------------------------------------------------------------------|
   5                    date of last passchanger



                    Netval Disk File Formats                  Page 14-265







Netval External Reference Specification             July 12, 1988



            |------------------------------------------------------------------------------------|
   6                    last record pointer
            |------------------------------------------------------------------------------------|
   7                            unused
            |------------------------------------------------------------------------------------|
   8                        flag for Supervisor 121
            |------------------------------------------------------------------------------------|
   9                        pointer for Supervisor 121
            |------------------------------------------------------------------------------------|
  10                 time of last MUD update for Supervisor 121
            |------------------------------------------------------------------------------------|
  11           time of last Class/Group update for Supervisor 121
            |------------------------------------------------------------------------------------|
  12          start date of last consistency run for Supervisor 121
            |------------------------------------------------------------------------------------|
  13       last block processed during consistency for Supervisor 121
            |------------------------------------|------------------------------------------|
  14        manual flag for Sup 121           stopped flag for Sup 121
            |------------------------------------------------------------------------------------|
                           stop date for Supervisor 121
            |------------------------------------------------------------------------------------|
  16                        flag for Supervisor 122
            |------------------------------------------------------------------------------------|
  17                        pointer for Supervisor 122
            |------------------------------------------------------------------------------------|
  18                 time of last MUD update for Supervisor 122
            |------------------------------------------------------------------------------------|
  19           time of last Class/Group update for Supervisor 122
            |------------------------------------------------------------------------------------|
  20          start date of last consistency run for Supervisor 122
            |------------------------------------------------------------------------------------|
  21       last block processed during consistency for Supervisor 122
            |------------------------------------|------------------------------------------|
  22        manual flag for Sup 122           stopped flag for Sup 122
            |------------------------------------------------------------------------------------|
  23                       stop date for Supervisor 122
            |------------------------------------------------------------------------------------|
                                .  .  .
            |------------------------------------------------------------------------------------|
  56                          flag for Supervisor 127
            |------------------------------------------------------------------------------------|
  57                        pointer for Supervisor 127
            |------------------------------------------------------------------------------------|
  58                 time of last MUD update for Supervisor 127
            |------------------------------------------------------------------------------------|



                    Netval Disk File Formats                  Page 14-266







Netval External Reference Specification             July 12, 1988



  59           time of last Class/Group update for Supervisor 127
            |------------------------------------------------------------------------------------|
  60          start date of last consistency run for Supervisor 127
            |------------------------------------------------------------------------------------|
  61       last block processed during consistency for Supervisor 127
            |------------------------------------|------------------------------------------|
  62        manual flag for Sup 127           stopped flag for Sup 127
            |------------------------------------------------------------------------------------|
  63                       stop date for Supervisor 127
            |------------------------------------------------------------------------------------|



The format of the header is as follows (without DNICs):

  wd        |---------------------|---------------------|---------------------|---------------------|
   0           5A                5A                00                41
            |---------------------|---------------------|---------------------|---------------------|
   1                       end-of-file pointer
            |------------------------------------------------------------------------------------|
   2                  last Class/Group creation time
            |------------------------------------------------------------------------------------|
   3                          unused
            |------------------------------------------------------------------------------------|
   4                          unused
            |------------------------------------------------------------------------------------|
   5                    date of last passchanger
            |------------------------------------------------------------------------------------|
   6                    last record pointer
            |------------------------------------------------------------------------------------|
   7                            unused
            |------------------------------------------------------------------------------------|
   8                        flag for Supervisor 121
            |------------------------------------------------------------------------------------|
   9                        pointer for Supervisor 121
            |------------------------------------------------------------------------------------|
  10                 time of last MUD update for Supervisor 121
            |------------------------------------------------------------------------------------|
  11           time of last Class/Group update for Supervisor 121
            |------------------------------------------------------------------------------------|
  12          start date of last consistency run for Supervisor 121
            |------------------------------------------------------------------------------------|
  13       last block processed during consistency for Supervisor 121
            |------------------------------------|------------------------------------------|
  14        manual flag for Sup 121           stopped flag for Sup 121



                    Netval Disk File Formats                  Page 14-267







Netval External Reference Specification             July 12, 1988



            |------------------------------------------------------------------------------------|
                           stop date for Supervisor 121
            |------------------------------------------------------------------------------------|
  16                        flag for Supervisor 122
            |------------------------------------------------------------------------------------|
  17                        pointer for Supervisor 122
            |------------------------------------------------------------------------------------|
  18                 time of last MUD update for Supervisor 122
            |------------------------------------------------------------------------------------|
  19           time of last Class/Group update for Supervisor 122
            |------------------------------------------------------------------------------------|
  20          start date of last consistency run for Supervisor 122
            |------------------------------------------------------------------------------------|
  21       last block processed during consistency for Supervisor 122
            |------------------------------------|------------------------------------------|
  22        manual flag for Sup 122           stopped flag for Sup 122
            |------------------------------------------------------------------------------------|
  23                       stop date for Supervisor 122
            |------------------------------------------------------------------------------------|
                                .  .  .
            |------------------------------------------------------------------------------------|
  56                          flag for Supervisor 127
            |------------------------------------------------------------------------------------|
  57                        pointer for Supervisor 127
            |------------------------------------------------------------------------------------|
  58                 time of last MUD update for Supervisor 127
            |------------------------------------------------------------------------------------|
  59           time of last Class/Group update for Supervisor 127
            |------------------------------------------------------------------------------------|
  60          start date of last consistency run for Supervisor 127
            |------------------------------------------------------------------------------------|
  61       last block processed during consistency for Supervisor 127
            |------------------------------------|------------------------------------------|
  62        manual flag for Sup 127           stopped flag for Sup 127
            |------------------------------------------------------------------------------------|
  63                       stop date for Supervisor 127
            |------------------------------------------------------------------------------------|



END-OF-FILE POINTER
  A pointer to the actual end of data in the file, i.e., the
pointer to where the next CUD change record will be stored.





                    Netval Disk File Formats                  Page 14-268







Netval External Reference Specification             July 12, 1988



LAST CLASS/GROUP CREATION TIME
  The ISIS time of the last SEND TABLE command.


DATE OF LAST DNIC FILE UPDATE
  The ISIS time of the last SEND DNIC command.


DNIC SENT TO ALL SUPS
  True is last send command was completed on all supervisors.


DNIC SENT TO SOME SUPS
  True is last send command was completed on some supervisors.


DATE OF LAST PASSCHANGER
  The ISIS time when passchanger last ran (only if FPC enabled).


LAST RECORD POINTER
  A pointer to the beginning of the last record in the file; used
to recover appropriately from a crash during a pending MUD change
notification.


For each possible Supervisor (121-127):
  FLAG
  The value 0 - 7; if zero, the Supervisor has not been turned ON
  by the SET command, otherwise, 1 for Supervisor 121, 2 for
  Supervisor 122, etc.


  POINTER
  A pointer to the next data in the file to be sent to the Super-
  visor.


  TIME OF LAST MUD UPDATE
  The ISIS time of the last Supervisor MUD update.


  TIME OF LAST CLASS/GROUP UPDATE
  The ISIS time of the last Supervisor Class/Group update.




                    Netval Disk File Formats                  Page 14-269







Netval External Reference Specification             July 12, 1988



  START DATE OF LAST CONSISTENCY RUN
  The ISIS time of the previous Consistency start, (not currently
  running) automatic or manual.


  LAST BLOCK PROCESSED DURING CONSISTENCY
  The last block that was processed during the previous con-
  sistency run.


  MANUAL FLAG
  Zero if the previous consistency run was a manual run, one if
  not.


  STOPPED FLAG
  Zero if the previous consistency run was halted by a user, one
  if not.


  STOP DATE
  The ISIS date of the end of the last consistency run.



CUD Change information is in the following format:






















                    Netval Disk File Formats                  Page 14-270







Netval External Reference Specification             July 12, 1988



                              1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3
   bit 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   wd        |------------------------------------|------------------------------------------|
    0       CUD block number of change      index into CUD block of change
             |------------------------------------|------------------------------------------|
    1     number of words in change (N)                unused
             |------------------------------------|------------------------------------------|
    2                            changed CUD data
             |------------------------------------------------------------------------------------|
                                   .  .  .
             |------------------------------------|------------------------------------------|
  N+2       CUD block number of change      index into CUD block of change
             |------------------------------------|------------------------------------------|
  N+3     number of words in change (M)                unused
             |------------------------------------|------------------------------------------|
  N+4                            changed CUD data
             |------------------------------------------------------------------------------------|
                                   .  .  .
             |------------------------------------------------------------------------------------|
 M+N+4+
             |------------------------------------------------------------------------------------|
                                   .  .  .
                                 end-of-file



14.8  DNIC Files

If the INCLUDE_DNIC flag is enabled in the configuration file
then the DNIC files will be included on the NETVAL disk.  The
DNIC files consist of:

- DNIC Header
- DNIC Edit Data File
- DNIC Table













                    Netval Disk File Formats                  Page 14-271







Netval External Reference Specification             July 12, 1988



The format of the DNIC Header is as follows:
     wd
              _____________________________________________________________
       0      |      D             N              I            C
              | ____________________________________________________________
       1      |                               DNIC COUNT
              | ____________________________________________________________
       2      |  WAS SENT TO SUPS    |
              |_____________________________________________________________
       2.5    |                         Date DNIC File Changed
              | ____________________________________________________________
       3.5    |                       Date DNIC Table Sent to SUPs
              | ____________________________________________________________
       4.5    |                     Date Sent to Supervisor 121
              |_____________________________________________________________
       5.5    |                     Date Sent to Supervisor 122
              |_____________________________________________________________
                                     .  .  .
              ______________________________________________________________
      10.5    |                     Date Sent to Supervisor 127
              | ____________________________________________________________
      11.5    |                                           unused
              |_______________________________________________________________
                                             .  .  .
              ______________________________________________________________
      62      |                                           unused
              |_____________________________________________________________
      63      |                      CHECKSUM
              | ____________________________________________________________



















                    Netval Disk File Formats                  Page 14-272







Netval External Reference Specification             July 12, 1988






The DNIC edit file and DNIC table have the same data struc-
ture.

The DNIC header is as follows:

     DNIC - ASCII character label.

     DNIC COUNT - the number of actual DNIC entries

     WAS SENT TO SUPS - true is DNIC table has been sent to
the supervisors

     DATE DNIC FILE CHANGED - last date when DNIC edit file
was changed

     DATE DNIC TABLE SENT TO SUPS - last date when SEND DNIC
command was executed

     SENT TO SUPERVISOR 121-127 - last date successful
updated on sup number

























                    Netval Disk File Formats                  Page 14-273







Netval External Reference Specification             July 12, 1988



     wd
              _____________________________________________________________
       0      |             D             N              I            C
              | ____________________________________________________________
       1      |    N S T 0   0 0 0 0 |    second lookup    |   first lookup
              | ____________________________________________________________
                                             .  .  .
              _____________________________________________________________
     n*63     |             D             N              I            C
              | ____________________________________________________________
              |    N S T 0   0 0 0 0 |    second lookup    |   first lookup
              | ____________________________________________________________

     NOTE:  In n*63, N is the number of DNIC pages set in
     the configuration file.

     The DNIC data consists of:

          DNIC - consists of exactly 4 digits 0 - 9.

          N - if N is a one then DNIC is native, if N is 0
     then DNIC is non-native.

          S - if S is one then DNIC is shared, if S is 0
     DNIC is not shared.

          T - if T is one then DNIC is translated, if T is 0
     then DNIC is not translated.

          SECOND LOOKUP - number of NTN digits to be used
     for second MUD lookup.

          FIRST LOOKUP - number of NTN digits to be used for
     first MUD lookup.

14.9  PASSTABLE File


The passtable file is kept on disk only if either FORCE PASSWORD
CHANGE or GLOBAL PASSWORD ONLY LOGIN is enabled in the configura-
tion file.







                    Netval Disk File Formats                  Page 14-274







Netval External Reference Specification             July 12, 1988



The format of the passtable header is as follows:

  wd        |---------------------|---------------------|---------------------|---------------------|
   0                  P                A                S                S
            |---------------------|---------------------|---------------------|---------------------|
   1                            last entry count
            |------------------------------------------------------------------------------------|


The PASSTABLE header is as follows:

     PASS - ASCII character label.

     LAST ENTRY COUNT - the number of actual passtable
entries



The passtable header is followed by the passtable data which
consists of the following:

  wd        |---------------------|---------------------|---------------------|---------------------|
   2                                 GAN
            |------------------------------------------------------------------------------------|
   3                               passlife
            |------------------------------------------------------------------------------------|
   4         force password change      |    global password login
            |------------------------------------------------------------------------------------|
                                    .  .  .
            |---------------------|---------------------|---------------------|---------------------|
(n*3) - 1                            GAN
            |------------------------------------------------------------------------------------|
                                   passlife

            |------------------------------------------------------------------------------------|
             force password change      |    global password login
            |------------------------------------------------------------------------------------|



NOTE:  In n*3, N is the number of passtable entries entered
in the configuration file.






                    Netval Disk File Formats                  Page 14-275







Netval External Reference Specification             July 12, 1988




The PASSTABLE data consists of:

     GAN - number entered by SET GANPASS or SET GPOGAN.

     PASSLIFE - password validity period of GAN (only
present if FPC enabled).

     FORCE PASSWORD CHANGE - on if GAN is set for force
password change (only present if FPC enabled).

     GLOBAL PASSWORD LOGIN - on if GAN is set for global
password login (only present if GPO enabled).

14.10  SCHEDTABLE File



The format of the schedtable file is as follows:

  wd        |---------------------|---------------------|---------------------|---------------------|
   0           S                C                H                D
            |---------------------|---------------------|---------------------|---------------------|
   1          consistency on            |       consistency
            |------------------------------------------------------------------------------------|
   2              start                 |       consistency
            |------------------------------------------------------------------------------------|
   3               end                  |       passchanger on
            |------------------------------------------------------------------------------------|
   4                     passchanger time
            |------------------------------------------------------------------------------------|
   5                    passchanger next time
            |------------------------------------------------------------------------------------|
   6                            unused
            |------------------------------------------------------------------------------------|
                                .  .  .
            |------------------------------------------------------------------------------------|
  63                            unused
            |------------------------------------------------------------------------------------|









                    Netval Disk File Formats                  Page 14-276







Netval External Reference Specification             July 12, 1988






The SCHEDTABLE data is as follows:

SCHD
  ASCII character label.


CONSISTENCY ON
  True is consistency is set on.


CONSISTENCY START
  The ISIS time each day when consistency is to start.


CONSISTENCY END
  The ISIS time each day when consistency is to stop.


PASSCHANGER ON
  True if passchanger is to run (only if FPC is enabled).


PASSCHANGER TIME
  The ISIS time each day when passchanger is to start.


PASSCHANGER NEXT TIME
  The next ISIS time when passchanger is to start.

















                    Netval Disk File Formats                  Page 14-277







Netval External Reference Specification             July 12, 1988



                 15.  Netval Archive Tape Format

The following 2 sections describe the NETVAL Archive tape format.

15.1  General Description

The following describes the general format of the NETVAL tape;
refer to the following Section for a specific description of each
record.  Following each record name is the length of the record
in bytes, and any significant contents.  Items marked with "***"
are defined in the NETVAL configuration file, NVALvv.Arr, where
vv=version, rr=revision.

                              field
                               size  information

      VOL1 label                 80  date, "NETVAL", version
      HDR1 label                 80  "configuration", seq = 0001
      HDR2 label                 80  block length = 00256
      ...tape-mark...
      configuration file        256
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "node_host (header)", seq = 0002
      HDR2 label                 80  block length = 00256
      ...tape-mark...
      node host header          256
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "node_host (hostlists)", seq = 0003
      HDR2 label                 80  block length = ***
      ...tape-mark...
      1 block of data for
        each defined HOSTLIST   ***
      ...tape-mark...
      EOF1 label                 80  block count = no. of defined HOSTLISTS
      ...tape-mark...

      HDR1 label                 80  "node_host (nodelists)", seq = 0004
      HDR2 label                 80  block length = ***
      ...tape-mark....



                   Netval Archive Tape Format                  Page 15-278







Netval External Reference Specification             July 12, 1988



      1 block of data for
        each defined NODELIST   ***
      ...tape-mark...
      EOF1 label                 80  block count = no. of defined NODELISTS
      ...tape-mark...

      HDR1 label                 80  "node_host (classes)", seq = 0005
      HDR2 label                 80  block length = ***
      ...tape-mark...
      1 block of data for
        each defined CLASS      ***
      ...tape-mark...
      EOF1 label                 80  block count = no. of defined CLASSES
      ...tape-mark...

      HDR1 label                 80  "node_host (groups)", seq = 0006
      HDR2 label                 80  block length = ***
      ...tape-mark...
      1 block of data for
        each defined GROUP      ***
      ...tape-mark...
      EOF1 label                 80  block count = no. of defined GROUPS
      ...tape-mark...

      HDR1 label                 80  "oper_log", seq = 0007
      HDR2 label                 80  block length = ***
      ...tape-mark...
      1 block of data for each
        *** OPER_LOG pages      ***
      ...tape-mark...
      EOF1 label                 80  block count = ***
      ...tape-mark...

      HDR1 label                 80  "mud_update", seq = 0008
      HDR2 label                 80  block length = 00260
      ...tape-mark...
      MUDUPDATE file header     260
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "DNIC files", seq = 0009 (if include_dnic)
      HDR2 label                 80  block length = ***
      ...tape-mark...
      DNIC header                256



                   Netval Archive Tape Format                  Page 15-279







Netval External Reference Specification             July 12, 1988



      DNIC file                 ***
      DNIC table                *** = dnic file length
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "passtable", seq = 0009 or 0010 (if FPC or GPO)
      HDR2 label                 80  block length = ***
      ...tape-mark...
      PASSTABLE header                256
      PASSTABLE file                 ***
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "schedtable", seq = 0009, 0010 or 0011
      HDR2 label                 80  block length = 00256
      ...tape-mark...
      SCHEDTABLE file                 256
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      HDR1 label                 80  "CUD", seq = schedtable seq + 1
      HDR2 label                 80  block length = ***
      ...tape-mark...
      1 block of data for
        each *** CUD blocks     ***
      ...tape-mark...
      EOF1 label                 80  block count = ***
          ...tape-mark...

      HDR1 label                 80  "cud_parameter", seq = CUD seq + 1
      HDR2 label                 80  block length = 00256
      ...tape-mark...
      CUD parameter file        256
      ...tape-mark...
      EOF1 label                 80  block count = 000001
      ...tape-mark...

      ...tape-mark...







                   Netval Archive Tape Format                  Page 15-280







Netval External Reference Specification             July 12, 1988



15.2  Record Descriptions

This Section describes the specific format of each NETVAL tape
record in order of appearance.  Items marked with "***" are
defined in the NETVAL configuration file, NVALvv.Arr, where
vv=version, rr=revision.

                                                       size in bytes
 VOL1 label (ANSII standard, 80 bytes total):
      id ("VOL1")                                                4
      date ("DDMMYY")                                            6
      accessibility (" ")                                        1
      reserved                                                  26
      owner id ("NETVAL ")                                       7
      version id ("VV.RR")                                       5
      reserved                                                  30
      label level ("1")                                          1


 HDR1 label (ANSII standard, 80 bytes total):
      id ("HDR1")                                                4
      file name                                                 17
      volume serial ("      ")                                   6
      section ("0001")                                           4
      file sequence number                                       4
      generation ("0001")                                        4
      version ("00")                                             2
      creation date (" YYDDD" )                                  6
      expiration date (" YYDDD")                                 6
      accessibility (" ")                                        1
      block count ("000000")                                     6
      reserved (" ")                                            20


 HDR2 label (ANSII standard, 80 bytes total):
      id ("HDR2")                                                4
      record format ("F")                                        1
      block length                                               5
      reserved                                                  70


 configuration file data (256 bytes total):
      file data                                                256
           id ("NETVAL")                        6
           disk incarnation number              4



                   Netval Archive Tape Format                  Page 15-281







Netval External Reference Specification             July 12, 1988



           label date and time                  4
           DISK_UNIT_ONE_SIZE***                4
           configuration file description:
                unit (1)                        4
                address (0)                     4
                length (1)                      4
           node host file description:
                unit (1)                        4
                address (1)                     4
                length                          4
           class group file description:
                unit (1)                        4
                address                         4
                length                          4
           OPER_LOG file description:
                unit (1)                        4
                address                         4
                length (OPERLOG_FILE_LENGTH***) 4
           MUDUPDATE file header description:
                unit (1)                        4
                address                         4
                length                          4
           DNIC file header description:
                unit (1)                        4
                address                         4
                length                          4
           PASSTABLE file header description:
                unit (1)                        4
                address                         4
                length                          4
           SCHEDTABLE file header description:
                unit (1)                        4
                address                         4
                length                          4
           CUD file description:
                unit (0)                        4
                address (0)                     4
                length                          4
           CUD parameter file description:
                unit (0)                        4
                address                         4
                length                          4
           MAXIMUM_CUD_BLOCK_SIZE_IN_SECTORS    4
           MAXIMUM_EXPECTED_SUPERVISORS         4
           MAXIMUM_CUD_BLOCK                    4



                   Netval Archive Tape Format                  Page 15-282







Netval External Reference Specification             July 12, 1988



           INCLUDE_GAN (1 if TRUE, 0 if FALSE)  2
           INCLUDE_DISTRICT                     2
             (1 if TRUE, 0 if FALSE)
           MINIMUM_PASSWORD_SIZE                4
           REQUIRE_NON_ALPHA_NUMERIC            2
              (1 if TRUE, 0 if FALSE)
           CLASS_0_GROUP_0_ASSIGNABLE           2
              (1 if TRUE, 0 if FALSE)
           NETVAL_CUD_IS_A_MUD  - MUD I         2
              (1 if TRUE, 0 if FALSE)
              (MUD II - MUD_SUP_VERSION add 2 more)
                (version number of superviosr in network)
           PROGRAMMER_NAME_SIZE                 4
           PROGRAMMER_NAME                     20
           MAXIMUM_HOST                         4
           MAXIMUM_NODE                         4
           MAXIMUM_CLASS                        4
           MAXIMUM_CLASS_TABLE_SIZE             4
           MAXIMUM_GROUP                        4
           MAXIMUM_GROUP_TABLE_SIZE             4
           MAXIMUM_DNIC_TABLE_SIZE              4
           logical volume time stamp            4
           DISK_UNIT_ZERO_SIZE                  4
           unused                              26
                 (if MUD I add 2)
                 (if DNIC not included add 16)
                 (if FPC or GPO not included add 12)
           checksum                             4


 EOF1 label (ANSII standard, 80 bytes total):
      id ("EOF1")                                                4
      file name                                                 17
      volume serial ("      ")                                   6
      section ("0001")                                           4
      file sequence number                                       4
      generation ("0001")                                        4
      version ("00")                                             2
      creation date (" YYDDD" )                                  6
      expiration date (" YYDDD")                                 6
      accessibility (" ")                                        1
      block count                                                6
      reserved (" ")                                            20





                   Netval Archive Tape Format                  Page 15-283







Netval External Reference Specification             July 12, 1988



 node host file header data:
      total data:                                                     256
      total data:                                                     256
           id ("NHCG")
           id ("NHCG")
           MAXIMUM_LIST                                4
           MAXIMUM_NAMED_LIST_NAME_SIZE                4
           MAXIMUM_NAMED_LIST_DESCRIPTION_SIZE        4
           MAXIMUM_NAMED_LIST_ENTRY                   4
           pages in a named list                      4
           MAXIMUM_LISTS_IN_GLOBAL_ACCESS             4
           pages in a global access                   4
           first node list page                       4
           last node list page                        4
           first host list page                       4
           last host list page                        4
           first class definition page                4
           last class definition page                 4
           first group definition page                4
           last group definition page                  4
           unused                                    188
           checksum                                   4


 HOSTLIST and NODELIST data block:
      list offset                                            4
      NAMED_LIST_DEFINITION:                                ***
          list name text
                     MAXIMUM_NAMED_LIST_NAME_SIZE ***
          list name text size                       4
          list description text
              MAXIMUM_NAMED_LIST_DESCRIPTION_SIZE ***
          list description text size                4
          count of defined values in list to follow 4
          list values (4 each)
                       MAXIMUM_NAMED_LIST_ENTRY*4 ***
          checksum                                  4


 CLASS and GROUP (global access) data block:
      CLASS or GROUP number                                  4
      GLOBAL_ACCESS_DESCRIPTION:                            ***
          exception flag (1 if exception; else 0)   2
          count of defined values in list to follow 4
          list values



                   Netval Archive Tape Format                  Page 15-284







Netval External Reference Specification             July 12, 1988



               MAXIMUM_LISTS_IN_GLOBAL_ACCESS * 6 ***
                   list offset           4
                   hostlist flag         2
                    (1 if hostlist; 0 if nodelist)
          checksum                                  4


 MUDUPDATE file header data:
      checksum for data                                          4
      total data:                                                     256
           id (hex 5A5A0041)                        4
           eof byte pointer (0)                     4
           last CLASS/GROUP creation date           4
           dnic edit file change date               4
           dnic sent to all sups                    2
             (1 if all sups updated, else 0)
           dnic sent to some sups                   2
             (1 if some sups updated, else 0)
           last passchanger date                    4
           pointer to last record (0)               4
           unused                                   4
           supervisor update table
             one for each sup 121-127             224
                 sup number                         4
                 mud change file pointer        4
                 last mud update time           4
                 last CLASS/GROUP update time   4
                 start of last consistency      4
                 last block of consistency      4
                 manual flag                    2
                   (1 if manual consistency)
                 stopped flag                   2
                   (1 if consistency stopped)

 DNIC file header data:
      total data:                                                     256
           id ("DNIC")                              4
           dnic count                               4
           sent to sup flag                         2
             (1 if sent, else 0)
           edit file change date                    4
           last send dnic command date              4
           sup update table                        28
           unused                                 206
           checksum                                 4



                   Netval Archive Tape Format                  Page 15-285







Netval External Reference Specification             July 12, 1988



 PASSTABLE file header data:
      total data:                                                     ***
           id ("PASS")                              4
           eoe count pointer                        4
           pass GAN entries
             NUMBER_OF_PASSTABLE_ENTRIES * 12     ***
                 GAN                            4
                 passlife                       4
                 force password change flag     2
                   (1 if GAN set FPC, else 0)
                 global password flag           2
                   (1 if GAN set GPO, else 0)
           unused                                 ***
           checksum                                 4

 SCHEDTABLE file header data:
      total data:                                                     256
           id ("SCHD")                              4
           consistency on flag                      2
             (1 if consistency turned on, else 0)
           consistency start time                   4
           consistency stop time                    4
           passchanger on flag                      2
             (1 if passchanger turned on, else 0)
           passchanger run time                     4
           passchanger next time                    4
           unused                                 228
           checksum                                 4

 OPER_LOG file data (*** per block):
      page offset                                                4
      page data                                                256


 CUD block data: (*** per block):
      block offset                                               4
      block data                                *** CUD block size


CUD Parameter file data:
      data (sector from file)                                  256







                   Netval Archive Tape Format                  Page 15-286







Netval External Reference Specification             July 12, 1988



             16.  ASCII Dump Tape Format Description

The next 2 sections describe the NETVAL ASCII tape dump format
which is generated by the DUMP command.  The DUMP command will be
included in the archive sub-system if the conditional flag
INCLUDE_DUMP is enabled in the NETVAL configuration file,
NVALvv.Arr, where vv==version and rr=revision.

16.1  General Description

The following is a general description of the ASCII tape
dump format.  Following each record name is the length of
the record in bytes.  Sizes indicated by *** are defined by
the NETVAL configuration file.

                               field
                                size information
       VOL1 label                 80 date, "NETVAL", version
       HDR1 label                 80 "ASCII dump", seq = 0001
       HDR2 label                 80 block length=***,record length=80
       ...tape-mark...
       ASCII CUD data file       ***
         1 block of ASCII data
           ASCII_DUMP_BLOCKING_FACTOR of
             user data           80
             change date/profile 80
             additional profiles if any
               each profile      80
       ...tape-mark...
       EOF1 label                80 block count = no. of blocks
       ...tape-mark...
        ...tape-mark...

16.2  Record Description














               ASCII Dump Tape Format Description                  Page 16-287







Netval External Reference Specification             July 12, 1988



The following is a description of the specific format of
each field of the ASCII tape data in order of appearance for
each user record.  The VOL1, HDR1, HDR2 and EOF1 label
records are the same as described in section 15.2.

The field sizes are either constant or variable.  Constant
field sizes are indicated by a single number, variable field
sizes are indicated by the range of the minimum size to the
maximum size.







                                                   field    record
                                                    size      size
      CUD user
data:                                                       80
           user
count                                       8
           user name text                             21
           user GAN or zero if not INCLUDE GAN        12
           user UUN            user district or zero if not
INCLUDE DIST   5            abreviated control
options                      22               ACCOUNT
SUPERVISOR:        as               IGNORE
DESTINATION:         id               NETWORK
ADMINISTRATOR:        na               NO
PASSWORD:                np               SHUT
OVERRIDE:                so
              AUDITOR:                        au
              OPERATOR:                        op
              TRANSPARENT LOGIN:         tl

     CHANGE DATE and FIRST ACCESS PROFILE
ENTRY:                80            password change
date                              10               mm/dd/yy
or blank            entry change
date                              10               mm/dd/yy
or blank            number of access pro-
files                   4            profile position
number     ' P1'           3               profile descrip-
tion:                 with system defined



               ASCII Dump Tape Format Description                  Page 16-288







Netval External Reference Specification             July 12, 1988



class           6-53                   class number
                     ' Cnnn'                     1-6
(home)group(s)/host(s)                      ' (H)Gnn'/'
(H)Hnnnnn'

                or with user defined origin            7-48
                (minimum of 1 origin and 1
                destination, maximum total of 6)
                  1-5 origin host(s)/origin node(s)
                     ' OHnnnnn'/' ONnnnnn'
                    or                   1-5 not origin
host(s)/origin node(s)                      ' NHnnnnn'/'
NNnnnnn'                   1-5 (home)group(s)/host(s)
                     ' (H)Gnn'/' (H)Hnnnnn'
              unused (blank filled)                    0-47


NOTE:   Single quotes indicate ASCII data as it appears on
tape, where () indicate characters which are not necessarily
present.  Numeric values are indicated by 'n', where each
the maximum number of digits which the value may contain.



























               ASCII Dump Tape Format Description                  Page 16-289







Netval External Reference Specification             July 12, 1988



                                                   field    record
                                                    size      size
      ADDITIONAL ACCESS PROFILE
ENTRIES:                        80            profile posi-
tion number ' Pnn'            3-4               profile
description:                 with system defined
class           6-53                   class number
                     ' Cnnn'                     1-6
(home)group(s)/host(s)                      ' (H)Gnn'/'
(H)Hnnnnn'

                or with user defined origin            7-48
                (minimum of 1 origin and 1
                destination, maximum total of 6)
                  1-5 origin host(s)/origin node(s)
                     ' OHnnnnn'/' ONnnnnn'
                    or                   1-5 not origin
host(s)/origin node(s)                      ' NHnnnnn'/'
NNnnnnn'                   1-5 (home)group(s)/host(s)
                     ' (H)Gnn'/' (H)Hnnnnn'
              unused (blank filled)                   23-71



























               ASCII Dump Tape Format Description                  Page 16-290
   ]*m]2