                                                                 April 13, 1988









                    GENERAL EXTERNAL DESIGN SPECIFICATIONS

                                      FOR

                           ISIS CONSAT VERSION 7.00

                                  PROVIDED BY

                               THE ASYNC SECTION





                                    TYMNET
                        NETWORK TECHNOLOGY DEVELOPMENT
                                April 13, 1988

















      ******************************************************************
      **                  PROPRIETARY INFORMATION                     **
      **                                                              **
      **  MDC-TYMNET's  proprietary  rights  are  included  in  the   **
      **  information disclosed herein.  The recipient, by receiving  **
      **  this document,  agrees that neither this document nor  the  **
      **  information disclosed herein nor any part thereof shall be  **
      **  reproduced  or  transferred to other documents or used  or  **
      **  disclosed  to  others for manufacturing or for  any  other  **
      **  purpose  except as specifically authorized in  writing  by  **
      **  MDC-TYMNET.                                                 **
      ******************************************************************

                                                                     ISCS07.GED
                                                                 April 13, 1988







                                   TABLE OF CONTENTS

        Section                                                            Page



        1.   Introduction                                                     1
          1.1   General                                                       1
          1.2   Design Considerations                                         1
             1.2.1    PIR 2043 - Design Considerations                        2
             1.2.2    PIR 2214 - Design Considerations                        2
                1.2.2.1     CONSAT                                            2
                1.2.2.2     PAD                                               3
                1.2.2.3     Design Constraints                                3


        2.   PIR 2043 - 1984 X.3 Parameters                                   4
          2.1   Editing PAD Service Signals - Reference 19                    4
          2.2   Echo Mask - Reference 20                                      8
          2.3   Parity Treatment - Reference 21                              11
             2.3.1    Parity Detection                                       12
             2.3.2    Parity Checking                                        14
             2.3.3    Parity Generation                                      15
             2.3.4    PAD Operation Monitor - Parity Setting Display         15

          2.4   Page Wait - Reference 22                                     16
          2.5   1984 X.3 Parameter Changes For Users                         18
             2.5.1    Example 1 - Read Terminal Parameter Command            18
             2.5.2    Example 2 - Set terminal Parameter Command             18
             2.5.3    Example 3 - Help Display                               20


        3.   PIR 2214 - X.121 NUMBERING PLAN                                 22
          3.1   New CONSAT Login Syntax                                      22
             3.1.1    OPTION FIELD                                           23
             3.1.2    USER FIELD                                             23
                3.1.2.1     Regular Username                                 24
                3.1.2.2     X.121 Username                                   24

             3.1.3    DESTINATION LIST                                       24
             3.1.4    EXTENSION FIELD                                        25
             3.1.5    PASSWORD FIELD                                         25

          3.2   CONSAT LOGII Login Status Messages                           26
             3.2.1    Group 1 Login Status Messages                          27
             3.2.2    Group 2 Login Status Messages                          28
             3.2.3    Group 3 Login Status Messages                          29
             3.2.4    Group 4 Login Status Messages                          30

                                                                     ISCS07.GED
                                                                 April 13, 1988


             3.2.5    Group 5 Login Status Messages                          31

          3.3   Selection PAD Command Signal                                 31
             3.3.1    Facility Code Enhancements                             32
             3.3.2    Facility Request Code Changes                          34
             3.3.3    Address Block Format Enhancements                      35

          3.4   LOGII PAD Service Signal Changes                             37
             3.4.1    TYMNET Selection Command Error Service Signals         37
             3.4.2    PAD Service Signals Representing Login Status)         42
                3.4.2.1     LOGII PAD Logon Status Service Signals           44
                3.4.2.2     LOGI PAD Logon Status Service Signals            47

             3.4.3    Help  Display                                          48
                3.4.3.1     Help Displays - LOGII is OFF, and LESSHELP is ON 48
                3.4.3.2     Help Displays - LOGII, and LESSHELP is OFF       49
                3.4.3.3     Help Displays - LOGII, and LESSHELP is ON        50
                3.4.3.4     Help Displays - LOGII is ON, and LESSHELP is OFF 52


        4.   Enhancement - Control Character to Restore Full-Duplex          54


        5.   PIR 2518 - CONSAT Port Usage Information                        55
          5.1   Enabling Statistics on CONSAT Port Usage Process             55
          5.2   Collecting Statistic of CONSAT Port Usage                    56


        6.   System Generation                                               57
          6.1   SETFLAG - Enable Flag                                        57
             6.1.1    X32584                                                 57
             6.1.2    LOGII Protocol Flag                                    58
             6.1.3    XPRADR - Transparent Addressing Scheme                 59

          6.2   DEFPTY - Default Parity Type                                 60
          6.3   PRTPAR - Port Parity                                         60
          6.4   PTYERR - Parity Error Retry Count                            61
          6.5   PRFDEF - PAD Profile Definition                              62
          6.6   LGTIMR  - Define Login Inactivity Timeout Counter            63
          6.7   ESCSTP  - Define Maximum Number Of ESCape/<CR> Key Strokes   64
          6.8   DEFOADR - Define Default Origination Address                 65
          6.9   MYOADR  - Define My Origination Address                      66
          6.10  Define Addressable Port With Reverse Charging                67
             6.10.1   ADRPRT - Define ASYNC Addressable Ports With RC        67
             6.10.2   SADPRT - Define SIO Addressable Ports With RC          68
             6.10.3   OUTHOST - Define OUTDIAL Host With RC                  68
             6.10.4   INCOMI - Define PAD Addressable Ports With RC          69

          6.11  NTN Mapping Macros - Map Network Terminal Numbers With Ports 69
             6.11.1   ANTNMP - NTN Mapping Macro For ASYNC Ports             70
             6.11.2   SNTNMP - NTN Mapping Macro For SIO Ports               71



                                                                     ISCS07.GED
                                                                 April 13, 1988


                                     APPENDICES
                                     ==========


        I.   Sample CONSAT Version 7.00 LOGII Command File                   73


        II.  Sample CONSAT Version 7.0 LOGII Tymfile                         74


        III. X.3 Terminal Parameter Meanings                                 80


        IV.  Profile 0 - TYMNET Transparent Standard Profile                 81


        V.   Profile 1 - CCITT Simple Standard Profile                       82


        VI.  Profile 2 - CCITT Transparent Profile                           83


        VII. Profile 3 - TYMNET Simple Standard Profile                      84


        VIII.   GLOSSARY                                                     86




























                                                                     ISCS07.GED
        Introduction                                             April 13, 1988






                                   1 -  Introduction


             This General Design Document for ISIS Consolidated  Tymsat version
        7.00 covers implementation for Project Initiation Request numbers 2043,
        2214, 2496, and 2518.  The  main purpose of this project is  to enhance
        the CONSAT to support Logon Session II (LOGII) protocol, and to provide
        support of the 1984 CCITT X.3 parameters.  Other  enhancements include;
        the  capability of  restoring  full duplex  from half  duplex,  and the
        capability of providing CONSAT port usage information via XDDT.






                                     1.1  General


             PIR 2043  enhances the  CONSAT/PAD to provide  the 1984  CCITT X.3
        parameters 19, 20, 21, and 22.

             PIR 2214 is the general PIR supported by the LOGII  (Logon Session
        II) project.  This PIR's title is X.121 Style Numbering Plan.  LOGII is
        a  protocol which  redefines the  Tymnet logon  session  mechanism.  It
        provides  a flexible,  expandable set  of messages,  to pass  the logon
        session related information through the network.

             PIR  2496 adds  a  control E  option  at CONSAT  login  to reverse
        control H (halfduplex) back to full duplex.  The control key only takes
        effect at the first login attempt.

             PIR 2518 enhances XDDT to provide the CONSAT port  usage (maximum,
        and minimum) information.






                              1.2  Design Considerations


             Design  considerations  for  PIR 2043  and  2214  are specifically
        covered within this section.





        1                                                            ISCS07.GED
        Introduction                                             April 13, 1988


                    1.2.1  PIR 2043 - Design Considerations

             The    1984  CCITT   recommendation  X.29 defines   how   the  PAD
        should  respond  to  a valid  "set",  "read",   or "set  and  read" PAD
        message.  The CONSAT/PAD's response to a valid "read" or "set and read"
        PAD  message will  contain  a list  of parameter  references  and their
        current  values.      However,  some of  the X.25  host  interface  can
        only   support X.3  parameter 1  to 18.   Thus, if  we response   to  a
        "read"  PAD message   with 22 parameters (1  to 22),  this will  not be
        accepted by  the   remote  X.25  interface.    In  order to  avoid this
        incompatibility, a new flag "X32584" is  designed to provide the switch
        of support between  1980's  and 1984's  X.25 interfaces.   If  the flag
        "X32584" is  set  to  ON,  the  CONSAT/PAD  will respond  to   a  valid
        "read"   PAD  message   with   all  parameter  references   (1-22)  and
        their  current  values.  Otherwise,   the CONSAT/PAD will respond  to a
        valid "read"  PAD  message  with   18 parameters (1-18)  only.  (Please
        see section 8  System Generation for details.)

             PVC  is  not supported  for   PAD  ports.   However,   macros  are
        provided  for ports  that do  not go  through TID  detection   for  the
        parity type.





                    1.2.2  PIR 2214 - Design Considerations

             The idea behind the new  login syntax is to alleviate  the parsing
        processes performed  by the  slot, giving the  task to  the supervisor.
        This will allow  future modifications to  the login syntax  and content
        without involving the ISIS, Node Code, and interface slots.

             Users in the CONSAT environment performing the login  process will
        be governed by  the ADRII login syntax.   If the login  syntax changes,
        there should not be major changes in the CONSAT slot.

             The same idea should also apply to the CONSAT/PAD environment.



        1.2.2.1  CONSAT

             For compatibility reasons, the CONSAT slot must be flexible enough
        so that  after deployment,  the CONSAT  can be  used in  an environment
        where the Supervisor does not support the new login syntax features.

             The enhanced CONSAT will allow users, without any knowledge of the
        new features, to login as usual.  For users who wish to make use of the
        new features, the CONSAT must be configured accordingly.

             If the new CONSAT resides in a node without the  LOGII capability,


        2                                                            ISCS07.GED
        Introduction                                             April 13, 1988


        and the CONSAT  is configured to support  the new features,  the CONSAT
        slot  will not  be  able to  build any  circuit.   This is  due  to the
        incompatibility of the communications  between the CONSAT slot  and the
        ISIS and Node Code.  For this environment, either the CONSAT  slot must
        be downgraded to the earlier version, or the whole node is  upgraded to
        the most  current versions  with LOGII capability.   The Node  Code and
        ISIS  must  be  LOGII  to enable  the  use  of  LOGII  protocol between
        themselves and the CONSAT slot.



        1.2.2.2  PAD

             CCITT recommendation X.28  defines how the  PAD should be  used to
        perform  the  login  process.   The  enhancements  should  consider the
        restricted X.28 call set up  syntax and implement the X.28 call  set up
        procedures to make use of the new ADRII login syntax.



        1.2.2.3  Design Constraints

             Due to the time  constraints, the phase 1 implementation  of LOGII
        will provide only the following functions:

               1. Non-SIO PAD, defined by 1984 CCITT X.3 parameters.

               2. Regular CONSAT connections under ASYNC or SIO, ie. no Telex.

               3. OUTDIAL.

               4. Addressable Ports.

               5. Other restrictions specified by the CONSAT version 7.xx ERS.

             Login process via the mechanism of PVC(Permanent  Virtual Circuit)
        will be considered as  future development, as well as  other functions,
        such as TELEX.
















        3                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988






                          2 -  PIR 2043 - 1984 X.3 Parameters


             This section covers  the CONSAT/PAD's general external  design for
        the CCITT X.3 Parameters  19, 20, 21, and  22 as specified in  the 1984
        X.3 CCITT Recommendation.  Documents related to this project are:
         
             (1) CCITT (Red Book),  Volume VIII - FASCICLE  VIII.2,  Data 
                 Communication   Networks   Services    And   Facilities, 
                 Recommendations  X.1  - X.15.  VIIIth Plenary  Assembly, 
                 Malaga-Torremolinos, 8 - 19 October 1984.
           
             (2) CCITT (Red Book),  Volume VIII - FASCICLE  VIII.3,  Data
                 Communication   Networks   Services   And    Facilities, 
                 Recommendations  X.20 - X.32.  VIIIth Plenary  Assembly, 
                 Malaga-Torremolinos, 8 - 19 October 1984. 
              
             (3) CCITT (Red Book),  Volume VII - FASCICLE VII.3, Terminal 
                 Equipment   And   Protocols  For   Telematic   Services, 
                 Recommendations   of  The  T  Series.   VIIIth   Plenary 
                 Assembly, Malaga-Torremolinos, 8 - 19 October 1984. 
                 (T.50 International Alphabet No. 5)
                
             (4) Consolidated  Tymsat  External Reference  Specification. 
                 Tymnet Networks Technology Development, AUGUST 19, 1987.







                    2.1  Editing PAD Service Signals - Reference 19

             As the 1984 CCITT Recommendation X.3 specifies, PAD provides 
        an editing function for the start-stop mode DTE users in both PAD 
        command  state  and data transfer state.  This  editing  function 
        contains three basic operations;  (1) Character delete,  (2) Line 
        delete, and (3) Line display.
         
             The editing function is always available when the user is in
        PAD command state, and the use of the  editing  function  in  the 
        data transfer state is determined by parameter 15.  
              
             The   editing   function  support  of  the   CONSAT/PAD   is 
        implemented to allow the user to select the following:
            
             (1) Whether or not  PAD service signals are  transmitted  to 
                 the user terminal; and

        4                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


    
             (2) in what format PAD service signals should be used. 
         

             The PAD editing functions are governed by parameters [3]  6, 
        15,  16, 17, 18. Herein, we discuss only the details of parameter 
        19 in terms of using editing PAD service signals.
         
             Editing PAD service signal is available only when  parameter
        6 is set to a non-zero value.

             When  parameter  6  is  set to equal or greater than 1,  the    
        following combinations of conditions will be  applied to the  use
        of Editing PAD service signals in compliance with 1984 X.3:

             (1) Parameter 19 is set to zero (0). 
                 No  editing PAD service signals will be provided in both 
                 command and data transfer state.

             (2) Parameter 15 is set to zero (0) and parameter 19 is  set 
                 to greater than 1. 
                 Editing PAD service signals shall be provided in command
                 state only.

             (3) Parameter  15  is  set to 1 and parameter 19 is  set  to 
                 greater  than 1.
                 Editing PAD service signals shall be provided  for  both 
                 command and data transfer states.


























        5                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


             The  use of editing PAD service signals can be described  in 
        Table 1/X.3.
                  
                             Table 1/X.3      
          -------------------------------------------------------------
          |      |          | Selectable possible |        PAD        |
          | Par. |   Par.   |        values       |     parameter     |
          | ref. | descrip. |---------------------|      meaning      |
          |      |          | Mandatory | Optional|                   |
          -------------------------------------------------------------
          |      |          |           |         |                   |
          |      | Control  |           |         |                   |
          |  6   | of  PAD  |     1     | Values  | PAD service signal|
          |      | service  |           |   >=    | are transmitted to|
          |      | signals  |           |   1     | start-stop DTE    |
          |      |          |           |         |                   | 
          -------------------------------------------------------------
          |      |          |           |         |                   |
          |  15  | Editing  |     0     |         | No use of editing |
          |      |          |           |         | in  data transfer |
          |      |          |           |         | state             |
          |      |          |           |         |                   |
          |      |          |     1     |         | Use of editing in |
          |      |          |           |         | the data transfer |
          |      |          |           |         | state             |
          |      |          |           |         |                   |  
          -------------------------------------------------------------
          |      |          |           |         |                   |
          |  19  | Editing  |           |    0    | No editing PAD    |
          |      |   PAD    |           |         | service signals   |
          |      | service  |           |         |                   |
          |      |          |     1     |         | Editing PAD       |
          |      |          |           |         | service signals   |
          |      |          |           |         | for printers      |
          |      |          |           |         |                   |
          |      |          |           |    2    | Editing PAD       |
          |      |          |           |         | for display       |
          |      |          |           |         | terminals         |
          |      |          |           |         | Editing PAD       |
          |      |          |           |         |                   |
          |      |          |           |    8    | service signals   |
          |      |          |           |  32-126 | using one char.   |
          |      |          |           |         | from the range of |
          |      |          |           |         | IA5               |
          |      |          |           |         |                   |
          ------------------------------------------------------------- 
           
          NOTE(s): 1. Par. ref. - Parameter references
                   2. Par. descrip. - Parameter descriptions
                   3. IA5 - International Alphabet No. 5.  Please refer
                      to CCITT Fascicle VII.3 - Recommendation T.50.

             For  security  reasons,  the line display  function  is  not

        6                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


        allowed  in  call  set-up  command  mode.  The  character  delete 
        function is allowed in general,  but it will be prohibited in the 
        user password field and the private call user data field which is
        preceded by character "P".  Therefore, the  editing  PAD  service
        signals are not applicable to these situations.

















































        7                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                             2.2  Echo Mask - Reference 20

             The  CONSAT/PAD   provides  the   function   that   receives
        character(s) from the user terminal and echoes them back  to  the
        user terminal.  These  characters  are  also  checked  for  other
        purposes.

             In  addition to the CONSAT/PAD "Echoing"  capability,  users 
        will  be allowed to select defined sets of character(s)  received 
        from  the  terminal  to be "MASKED" and not echoed  back  to  the 
        terminal.  

             Echo of character(s) is determined by X.3 parameter  2.  And 
        character(s) "echo mask" is determined by X.3 parameter 20.  This 
        is described in Table 2/X.3







































        8                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                             Table 2/X.3      
          -------------------------------------------------------------
          |      |          | Selectable possible |        PAD        |
          | Par. |   Par.   |        values       |     parameter     |
          | ref. | descrip. |---------------------|      meaning      |
          |      |          | Mandatory | Optional|                   |
          -------------------------------------------------------------
          |  2   | Echo(E)  |     0     |         | No echo           |
          |      |          |     1     |         | Echo              |
          -------------------------------------------------------------
          |      |          |           |         |                   |
          |  20  | Echo     |     0     |         | No echo mask (all |
          |      | Mask     |           |         | characters echoed)|
          |      |          |           |         |                   |
          |      |          |           |    1    | No echo of CR     |
          |      |          |           |         |                   |
          |      |          |           |    2    | No echo of LF     |
          |      |          |           |         |                   |
          |      |          |           |    4    | No echo of VT, HT,|
          |      |          |           |         | FF                |
          |      |          |           |    8    | No echo of BEL,BS |
          |      |          |           |         |                   |
          |      |          |           |   16    | No echo of ESC,ENQ|
          |      |          |           |         |                   |
          |      |          |           |   32    | No echo of ACK,NAK|
          |      |          |           |         | SOH, EOT, ETB, ETX|
          |      |          |           |         | STX               |
          |      |          |           |         |                   |
          |      |          |           |   64    | No echo of Editing|
          |      |          |           |         | char. as  designed|
          |      |          |           |         | by par. 16, 17, 18|
          |      |          |           |         |                   | 
          |      |          |           |   128   | No echo of all    |
          |      |          |           |         | other char. in IA5|
          |      |          |           |         | col. 0, and 1 not |
          |      |          |           |         | mentioned  above  |
          |      |          |           |         | and DEL           |
          |      |          |           |         |                   |
          -------------------------------------------------------------
         
          NOTE(s): 1. Par. ref. - Parameter references.
                   2. Par. descrip. - Parameter descriptions. 
                   3. IA5 - International Alphabet No. 5.  Please refer
                      to  CCITT  Fascicle  VII.3 - Recommendation T.50
                      TABLE 10/T.50 - Basic 7-bit code table.









        9                                                            ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988



         
             There are certain rules that must be observed and followed:
         
             (1) User selection of the character(s) echo and echo mask is
                 applied to both command state and data transfer state.
         
             (2) Parameter 20  applies only when parameter 2 is set to 1. 
                 If parameter 2 is set to zero (0),  CONSAT/PAD will  not 
                 echo  any  received  character(s) in  any state, at  any
                 time. 
             
             (3) X-ON and X-OFF  are  not  echoed  if parameter 5, 12, or
                 22 is set to a non-zero (0) value. 
             
             (4) If the parameter 20 is set to 64, there will be  no echo
                 of editing characters  as  designed by parameter 16, 17,
                 and 18.  The setting of parameter 15 is ignored.




































        10                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                         2.3  Parity Treatment - Reference 21

             The  enhanced  CONSAT/PAD will provide the functionality  of 
        parity  checking  and parity generation in accordance  with  1984 
        X.3 reference 21.
         
             The CONSAT/PAD  will  transmit and expect to  receive  8-bit 
        character(s)  to  and/or from the user terminal in  both  command 
        state and data transfer state. 
           
             When  the value of parameter 21 is set to 0,  the CONSAT/PAD 
        will not perform the parity checking and generation  process.  It 
        will  only inspect the first seven bits and will  not  take  into
        account the eighth bit (the last bit preceding the stop element.)
        The result of setting parameter 21 is described in Table 3/X.3.
         
                             Table 3/X.3      
          -------------------------------------------------------------
          |      |          | Selectable possible |        PAD        |
          | Par. |   Par.   |        values       |     parameter     |
          | ref. | descrip. |---------------------|      meaning      |
          |      |          | Mandatory | Optional|                   |
          -------------------------------------------------------------
          |  21  | Parity   |     0     |         | No parity checking|
          |      | treatment|           |         | or generation     |
          |      |          |           |         |                   |
          |      |          |           |    1    | Parity checking   |
          |      |          |           |         |                   |
          |      |          |           |    2    | Parity generation |
          |      |          |           |         |                   |
          |      |          |           |    3    | Parity checking   |
          |      |          |           |         | and  generation   |
          |      |          |           |         | Value  formed  by |
          |      |          |           |         | combination (1+2) |
          |      |          |           |         |                   |
          ------------------------------------------------------------- 

             If  parameter 21 is set to zero (0) then no parity  checking 
        and generation will take place.  However, the PAD service signals 
        will be sent in "Even" parity toward the user terminal.  
         
        NOTE(s): 1. Par. ref. - Parameter references.
                 2. Par. descrip. - Parameter descriptions.
                 3. Par.  21 = 1  indicates  parity checking of character
                    received from terminal (start-stop mode DTE).
                 4. Par. 21  = 2 indicates parity generation of character
                    transmitted to the terminal (start-stop mode DTE).
                 5. No echo of character with parity error when parameter
                    21 = 1 or 3.





        11                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                    2.3.1  Parity Detection
             Parity detection can be performed based on the TID (Terminal 
        Identifier) at the user login time. Three perspective TID(s) will 
        be used to represent the parity types. Thus, 
             
                        -----------------------------
                        | TID(s)   |   Parity Type  |
                        -----------------------------
                        |          |                |  
                        |   A      |    Save        |
                        |   K      |    Even/Odd    |
                        |   O      |    Mark/Space  |
                        |          |                |
                        -----------------------------
                  

             TID  character "A" will be used to indicate that no  "parity 
        treatment" is required.  This is actually the "Save" parity.  The
        CONSAT/PAD will preserve the parity and pass data transparently.
         
             TID  character "K" will  be  used to  detect "Even" or "Odd"
        parity.
         
             TID  character "O" will  be  used  to detect  "Space"     or 
        "Mark"  parity since it has been already used for "Space"  parity 
        treatment by the CONSAT version 6.
         
             A carriage return <CR> has been originally  designated as  a
        speed detection character and is used  to  trigger the  "Terminal
        Identifier Message" to be output toward the user terminal. 

             In addition, a carriage return <CR> can be used as  a  valid 
        TID character if the flag "CRTID" is set to ON.  However, it will
        not be used for the parity detection purpose for the  PAD  parity
        treatment.



















        12                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988



             A new macro "DEFPTY" will be created  to  provide  a  global
        parity setting.  Users may define, at  the  slot  level,  default 
        parity type for all ports  during system  generation time.

             A  new  macro "PRTPAR" will be created to allow the user  to 
        specify  the parity type on the port basis at  system  generation 
        time. (Please see section 9 New Macros for details.)

             The macro "PRTPAR" will  override  the port  default  parity
        type specified by the macro "DEFPTY".

             The type of parity detected by the TID character(s) at login
        time  will  override the port parity type defined by  the  system 
        generation macros "DEFPTY" and "PRTPAR".
         
             Finally, the parity setting for a port  can be determined in
        the following priority order:
           
                (1) TID character(s) at user login time;
                (2) Port parity type specified by the macro "PRTPAR"; 
                (3) The global default parity type specified by the macro
                    "DEFPTY".































        13                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                    2.3.2  Parity Checking

             Data character(s) received by the CONSAT/PAD will be checked 
        against  the  parity type  to  ensure  error  free  transmission. 
        If a parity error occurs,  a PAD parity error service signal will 
        be sent toward the user terminal.  Users are allowed a  specified
        numbers of parity error retries.  If the parity error retry count
        is exceeded, the call will be cleared.

             CCITT currently has not defined the format of the PAD parity 
        error  service  signal.  The  Tymnet extended  PAD  parity  error 
        service signal will be provided. Thus,
              
             The character0/7 (BEL) will be sent.

             Received character (from start-stop DTE) will not be echoed
        if a parity error has been detected.

             The PAD parity error service signal will be  provided  when
        parity checking is in place and parameter 6 is set to a non-zero
        value.

             A  new  macro "PTYERR(n)" will  be  provided  for  the  user 
        to specify the number of parity error occurrences allowed  during
        each call (Please see section 9 New Macro for details.)
          




























        14                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                    2.3.3  Parity Generation

             Parity generation process will be performed upon receipt  of 
        data  character(s) from the network (host).  The data  characters 
        will  be mapped to the correct parity type,  and passed on toward 
        the user terminal.





                    2.3.4  PAD Operation Monitor - Parity Setting Display
             An additional command "PARITY" is provided in the CONSAT/PAD
        Operation Monitor for the "Parity Setting Display" of  all active
        ports.  The syntax and output of this command are illustrated  in
        the following example;

        please log in: isistech:575;
        node: 2067
        host: 575
         
        slot #: 1
        Slot 01 running: DDT
        ?vern
         
        ISIS version: 700d, slot's version: 7.000
        *?stat
         
        :>parity

        PORT ISIS DEFAULT CURRENT
                  PARITY  PARITY
         
        17     4D  SAVE    EVEN
        23     4E  SAVE    EVEN
        32     4F  SAVE    SAVE
        48     4B  SAVE    SAVE
        54     50  SAVE    SAVE
        57     4C  SAVE    SPACE
        58     49  SAVE    ODD
        67     4A  SAVE    MARK













        15                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                             2.4  Page Wait - Reference 22

           
           
             The enhanced CONSAT/PAD will be able to suspend transmission 
        after  a  specified  number of linefeed  character(s)  have  been 
        transmitted toward the user terminal.
         
             This  function  is  much like data traffic  "flow  control". 
        However,  it  is  being  done by  the  "paging  mechanism".   For 
        example,  if "page wait" function (parameter 22) is enabled, data 
        character(s)  will be transmitted from the CONSAT/PAD toward  the 
        user  terminal  one  page  at a time.  The  size  of  a  page  is 
        determined   by  the  number  of  linefeed(s)  which  have   been 
        transmitted  by  the  CONSAT/PAD.  Definition of  the  number  of 
        linefeed(s)  is  user  selectable in order to trigger  the  "page 
        wait" condition. This is described in Table 4/X.3.
               
             The  "page wait" function applies only to the data  transfer 
        state.
          
                  
                             Table 4/X.3      
          -------------------------------------------------------------
          |      |          | Selectable possible |        PAD        |
          | Par. |   Par.   |        values       |     parameter     |
          | ref. | descrip. |---------------------|      meaning      |
          |      |          | Mandatory | Optional|                   |
          -------------------------------------------------------------
          | 22   |  Page    |           |         |                   |
          |      |  Wait    |     0     |         | Page wait disabled|
          |      |          |           |         |                   |
          |      |          |           | 1 - 22  | Number  of   line |
          |      |          |           |         | feed character(s) |
          |      |          |           |         |                   |
          |      |          |     23    |         | considered by the |
          |      |          |           |         | PAD for the  page |
          |      |          |           | 24-225  | wait function.    |
          |      |          |           |         |                   |
          |      |          |           |         |                   |
          |      |          |           |         |                   |
          -------------------------------------------------------------

         
          NOTE(s): 1. Par. ref. - Parameter references.
                   2. Par. descrip. - Parameter descriptions.
         







        16                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988



             When parameter 13 is  set to a non-zero value,  the count of
        the number of linefeed(s) will also include the linefeed(s) which
        are generated by the function of parameter 13.

             At the end of each page of data transmission, a "page  wait" 
        PAD service signal will be sent to the user terminal if parameter 
        6 is not set to zero (0). And no further data will be transmitted
        toward  the  user  terminal until the "page  wait"  condition  is 
        cancelled. 
         
             Upon  receiving  the cancellation of "page wait"  condition, 
        the CONSAT/PAD will transmit a format effector [x] and resume the 
        normal data transmission. 
         
             The cancellation of "page wait" condition is determined when 
        any of following occurs:
         
           1.
            (a) On  receipt  of any condition that resets the  count  of 
                linefeeds (See (2) Page wait reset conditions);
          
            (b) On  receipt  of  the "page wait" cancellation  character
                (X-ON); or
         
            (c) On resetting parameter 22 to zero (0).
             
           2. The  count  of linefeed  will be reset to zero (0)  by  the 
              CONSAT/PAD when any of following occurs:
             
            (a) After  the  format  effector  following  the  page  wait 
                cancellation character;
            
            (b) On receipt of all data forwarding conditions;
         
            (c) On echoing linefeed in user input;
           
            (d) After  the  "line deleted PAD service" signal (will all 
                associated linefeeds) has been sent; or
             
            (e) On leaving the "PAD command" state after all  associated 
                linefeeds. 












        17                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988


                       2.5  1984 X.3 Parameter Changes For Users

             
             The enhanced CONSAT/PAD will produce minimum impact  to  the
        PAD users. Differences from the current CONSAT/PAD implementation
        can be noticed and illustrated in the following examples.
         
           
         





                    2.5.1  Example 1 - Read Terminal Parameter Command

        Remark: Please refer to Appendix I for new X.3 terminal parameter
                and Appendix II for the revised terminal profiles.
            
           
        :*** the current CONSAT/PAD version 6
        pad>par? 

        par  1:1, 2:1, 3:2, 4:0, 5:1, 6:5, 7:0,  8:0,  9:0, 10:80, 11:3, 
        12:1, 13:0, 14:0, 15:1, 16:127, 17:24, 18:18, 0:0, 101:1, 102:1, 
        103:30


        :*** the enhanced CONSAT/PAD
        pad>par?

        par  1:1, 2:1, 3:2, 4:0,  5:1, 6:5, 7:0, 8:0, 9:0, 10:80, 11:3,
        12:1, 13:0, 14:0, 15:1, 16:127, 17:24, 18:18, 19:0, 20:0, 21:0, 
        22:0, 0:0, 101:1, 102:1, 103:30

         





                    2.5.2  Example 2 - Set terminal Parameter Command

        pad>set? 19:1

        par 19:1

         

        pad>set? 20:129

        par 20:inv


        18                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988
























































        19                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988








                    2.5.3  Example 3 - Help Display

        Remark: This example illustrates the difference of help screen no.
                4 between version 6 and the enhanced CONSAT/PAD.
         


        :*** Help display for the CONSAT/PAD version 6
        pad>help 4

        Help for extended commands that set CCITT X.3 terminal parameters

        Parm    Command             Description
         No
          1  ESC(ape)          - escape from data transfer mode
          2  ECH(o)            - echo
          3  FOR(ward)         - data forwarding combinations
          4  IDL(e)            - idle timer
          5  ANC(illary)       - flow control of terminal by network
          6  SER(vice)         - types of service signals sent
          7  BRE(ak)           - action if a break typed
          8  FLU(sh)           - discard output to terminal
          9  CRP(adding)       - padding after carriage return
         10  WID(th)           - column at which a line ends
         11  SPE(ed)           - (output) terminal speed
         12  FLO(w)            - flow control of network by terminal
         13  CRL(f)            - linefeed insertion after carriage return
         14  LFP(adding)       - padding after linefeed
         15  EDI(t)            - data editing capability
         16  CHA(racterdelete) - value of ascii symbol used to backspace
         17  LIN(edelete)      - value of ascii symbol used to clear the 
                                 edit buffer
         18  DIS(playline)     - value of ascii symbol used to display the 
                                 edit buffer
        Please see HELP 6 to display examples.

         











        20                                                           ISCS07.GED
        PIR 2043 - 1984 X.3 Parameters                           April 13, 1988



        :*** Help display for new enhanced the CONSAT/PAD
        pad>help 4

        Help for extended commands that set CCITT X.3 terminal parameters

        Parm Command             Description
          1  ESC(ape)          - escape from data transfer mode
          2  ECH(o)            - echo
          3  FOR(ward)         - data forwarding combinations
          4  IDL(e)            - idle timer
          5  ANC(illary)       - flow control of terminal by network
          6  SER(vice)         - types of service signals sent
          7  BRE(ak)           - action if a break typed
          8  FLU(sh)           - discard output to terminal
          9  CRP(adding)       - padding after carriage return
         10  WID(th)           - column at which a line ends
         11  SPE(ed)           - (output) terminal speed
         12  FLO(w)            - flow control of network by terminal
         13  CRL(f)            - linefeed insertion after carriage return
         14  LFP(adding)       - padding after linefeed
         15  EDI(t)            - data editing capability
         16  CHA(racterdelete) - value of ascii symbol used to backspace
         17  LIN(edelete)      - value of ascii symbol used to clear the 
                                 edit buffer
         18  DIS(playline)     - value of ascii symbol used to display the 
                                 edit buffer
         19  EPS(s)            - editing PAD service signals
         20  EMS(k)            - echo mask
         21  PRT(m)            - parity treatment
         22  PAG(e)            - page wait
         






















        21                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988






                         3 -  PIR 2214 - X.121 NUMBERING PLAN


             As  stated  in  the  introduction, PIR  2214  is  the  general PIR
        supported by the  LOGII project.  LOGII  is a protocol  which redefines
        the TYMNET logon session mechanism.  This mechanism is used  in several
        related projects.  Projects using the LOGII mechanism are:

           MUDII            - MUD reformat                          - PIR 1714
           ADRII            - X.121 /Hostnames addressing           - PIR 2214
           NODE CODE LOGII  - NODE CODE version that supports LOGII - PIR 1883
           ISIS LOGII       - ISIS X.121 Style Numbering Plan       - PIR 2165
           CONSAT/PAD LOGII - CONSAT/PAT version that supports LOGII- PIR 2214


             The General External Design Document for each related project is:

           LOGII            - LG2GED.DOC
           ADRII            - ADRII.GED
           MUDII            - MD2GED.DOC
           NODE CODE LOGII  - TIILG2.GED
           CONSAT/PAD LOGII - ISCS07.GED


             The scope of this section is to cover the  necessary modifications
        and enhancements to the general CONSAT and PAD processes.  This project
        does not cover all the  functions provided by the CONSAT  slot.  Follow
        up projects  are necessary so  the entire CONSAT  will support  the new
        LOGII login syntax.






                             3.1  New CONSAT Login Syntax


             For a detailed description  of the new login syntax,  please refer
        to the Address Processing project(ADRII), PIR# 1553.  The  login syntax
        description provided in this document is for quick reference only.

             The new login syntax for the ADRII is briefly defined as follows:

             New Login Syntax:

           [ option ] [ user  ] [ destination ] [ extension ] [ password ]
           [ field  ] [ field ] [    list     ] [   field   ] [   field  ]


        22                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


             The  new  login process  does  not preclude  the  old  style login
        syntax.   Users  can  still logon  to  the  destination  host interface
        without using the new login syntax.

             The  extension field  is  not interpreted  by the  CONSAT,  and is
        passed on to the Supervisor.   The extension field can be used  to pass
        user data to the destination interface.

             The extension field does not exist if the user tries to  login via
        the X.28  login process provided  by the PAD.   However, the  Call User
        Data Block can be used to send user data to the destination interface.





                    3.1.1  OPTION FIELD

             The option  field consists  of control  characters allowed  in the
        existing  login  process,  and  the  option  enclosed  by  parentheses.
        Multiple options are separated by a comma(,).

             The option field items include the following:

                TCLass=A                Throughput class(Same as Control A)
                TCLass=B                Throughput class(Same as Control B)
                TCLass=C                Throughput class(Same as Control C)
                TCLass=D                Throughput class(Same as Control D)
                Hdx, or Halfduplex      Halfduplex device(Same as Control H)
                Interact                Interactive device(Same as Control I)
                Batch                   Batch type device(Same as Control V)
                Volume                  Volume circuit(Same as Control V)
                Rc or Reverse           Reverse Charging request






                    3.1.2  USER FIELD

             This is the field where the user puts in the user name.  Two types
        of user name formats are allowed:

           o  Regular Username
           o  X.121 Username








        23                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        3.1.2.1  Regular Username

             Regular  usernames  must  begin with  a  letter,  digit, asterisk,
        pound-sign, or dollar-sign. It can have total from 0 - 20 characters.

             For example: JSMITH.



        3.1.2.2  X.121 Username

             The X.121 usernames consist  of a dash, a Data  Network Identifier
        Code (DNIC) and a Network Terminal Number (NTN).  The DNIC  consists of
        exactly  four decimal  digits,  and the  NTN  consists of  zero  to ten
        decimal digits.  To aid  readability, X.121 usernames can  also include
        parentheses, dashes, pluses, minuses, and blanks.  However, they cannot
        precede the initial dash, nor appear within the DNIC.





                    3.1.3  DESTINATION LIST

             The destination  list may  consist up  to two  destination fields.
        The  destination field  indicates the  requested  destination interface
        address.  This address can be  a gateway or the final  destination host
        interface.

             The following examples show some possible combinations:

                username:BUBB:1234;password     or

                username:1234;password


             Each destination field starts with a colon(:), and is  followed by
        one of the following entries.

                HOST-NUMBER.SUBHOST
                  This is a host number (0 to 5 decimal digits)
                  followed by a period and then followed by a
                  subhost number (0 to 4 decimal digits).
                  Multiple entries can be entered, separated by
                  a comma (,).

                *
                  This is a login request to the active Supervisor.

                %NODE-NUMBER
                  This address requests a circuit to the node number
                  entered, and will be connected to the DDT process.
                  This is used in place of a kernel host number.

        24                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988



                HOST-NAME
                  This address begins with a letter to indicate a name
                  is being entered.  The second character and after can
                  be another letter or digit or punctuation. The 
                  HOST-NAME can have up to 20 characters.

                - RPOA
                  This is the Recognized Private Operating Agency.

                - DNIC NTN
                  This format indicates that X.121 addressing is used.
                  DNIC is a 4-digit number, and NTN is a 10-digit number.






                    3.1.4  EXTENSION FIELD

             This field is enclosed by brackets([ ]).  Format of this  field is
        undefined.

             If it is entered, it will not be examined by the CONSAT,  and will
        be passed on directly to the Supervisor.





                    3.1.5  PASSWORD FIELD

             This field  is used if  the username requires  a password  for the
        network Supervisor to complete the login process.



















        25                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                        3.2  CONSAT LOGII Login Status Messages


             This section contains the new login status messages  resulted from
        CONSAT  LOGII logins.   Ports functioning  as CONSAT  ports  and  ports
        functioning as PAD ports have different sets of login  status messages.
        Please  refer to  PAD LOGII  Service Signals  for the  PAD  LOGII Login
        Status Messages.

             The LOGII CONSAT  port login status  messages can be  grouped into
        five categories:

           Group 1. Node Code indicates that a Dispatcher port
                    number cannot be provided.

           Group 2. Node Code rejects the circuit request due
                    to logon error or network problem.

           Group 3. Supervisor rejects the circuit request due
                    to logon error or network problem.

           Group 4. Supervisor detects login error and prompt
                    for correct information or new login string.

           Group 5. CONSAT detected error condition during 
                    login.


             Each  group contains  several messages.   LOGII GED  describes the
        first four groups of messages in detail.  Each message has  a different
        code followed by its explanation.   Since the  user might not  know the
        TYMNET network  terminology, CONSAT  does not  display the  messages as
        described in the LOGII GED (see document LG2GED.DOC).





















        26                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.2.1  Group 1 Login Status Messages

             Messages in this group are resulted from the Node Code's not being
        able to provide a Dispatcher port.  After any of the following  message
        is displayed, the  port will be disconnected.   User has to  reboot the
        terminal to get the "please log in:" prompt again for another login.

             LOGII GED                      CONSAT Display
             =========                      ==============

         No command circuit to the          same
             Supervisor.

         No available Dispatcher port.      same

         Node Code not present.             same

         No Node Code buffers available.    same

         Circuits/minute exceeded for       same
             the slot.

         Circuits/minute exceeded for       same
             the host.

         Slot not licensed for auxiliary    same
             circuits.

         Interface made LOGII request       same
             but Sup is not LOGII capable.

         Invalid ICRM format.               Consat internal error type 29-08

         Invalid CCT specified.             Consat internal error type 29-09




















        27                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.2.2  Group 2 Login Status Messages

             Messages in this group are resulted from Node Code's rejecting the
        circuit request due to the following reasons:

             LOGII GED                      CONSAT Display
             =========                      ==============

         ICRM received for port already     Consat internal error type 24-00
             in logon.

         ICRS received on unassigned port.  Consat internal error type 24-01

         Invalid ICRS form.                 Consat internal error type 24-02

         Command channel lost, sent to      same
             logon ports.

         ICRS received before RCRI was      Consat internal error type 24-04
             sent.

         Waited too long for partial        same
             message to complete.


             After any  of the above   message is displayed,  the port  will be
        disconnected.  User has to reboot  the terminal to get the  "please log
        in:" prompt again for another login.


























        28                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.2.3  Group 3 Login Status Messages

             Messages in this  group are due  to the Supervisor's  rejecting of
        the login for network problems.  After any of the following  message is
        displayed,  the port  will  be disconnected.   User has  to  reboot the
        terminal to get the "please log in:" prompt again for another login.

             LOGII GED                      CONSAT Display
             =========                      ==============

         Invalid NCRM format.               Consat internal error type 27-00

         Supervisor in slow sleep state.    same

         Insufficient Supervisor buffer     same
             space.

         Logons limited by Probe            same
             operator command.   

         Invalid CCT in ICRM/NCRM.          Consat internal error type 27-04

         Invalid originating host number.   same

         Invalid throughput class in        Consat internal error type 27-06
             ICRM/NCRM.

         Originating host is down.          same

         Originating host is not on         same
             the base.

         Originating host is terminate      same
             only.

         Duplicate logon fields.            same

         Logon field too long.              same

         Bad MUD.                           same

         Normal request logon failure       logon failure limit exceeded
             limit exceeded.

         Logon session timeout.             same









        29                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.2.4  Group 4 Login Status Messages

             Messages  in this  group  are resulted  from errors  in  the login
        string or  other problems  during building the  circuit.  User  will be
        prompt for more information or with the reason of reject followed  by a
        "please log in: " prompt.

             LOGII GED                      CONSAT Display
             =========                      ==============n

         Escape indication detected.        escape indication detected
                                            please log in:

         Username prompt.                   Username:

         Error type username.               error, type username:

         Password prompt.                   password:

         Error type password.               error, type password:

         Invalid logon character.           invalid logon character
                                            please log in:

         Invalid destination specified.     invalid destination specified
                                            please log in:

         Access denied.                     access denied
                                            please log in:

         Terminating host is unknown.       terminating host is unknown
                                            please log in:

         Terminating host is down.          terminating host is down
                                            please log in:

         Terminating host is shut.          terminating host is shut
                                            please log in:

         Terminating host is originate      terminating host is originate only
             only.                          please log in:

         Terminating host is out of ports.  terminating host is out of ports
                                            please log in:

         No network path to destination.    no network path to destination 
                                            please log in:







        30                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.2.5  Group 5 Login Status Messages

             Due to the design differences between the LOGII and LOGI.  Certain
        functions performed by the Node  Code for LOGI CONSAT is  now performed
        by the LOGII CONSAT.  When LOGII CONSAT performs these  functions, some
        error  might  occur and  the  user will  be  informed with  one  of the
        following messages depending on the situation.

             REASON                       CONSAT Display
             ======                       ==============

         CONSAT detected that there is    no supervisor...disconnecting
         no Supervisor existing when
         it is ready to display the
         "please log in:" prompt.

         CONSAT detected that the         please see your representative, if
         number of ESCape key or <CR>         you have trouble login in
         key entered has reached the
         maximum limit.
         
         CONSAT login timeout for        please see your representative, if
         a non-addressable port.               you have trouble login in

         CONSAT detected format          network problem...logon aborted
         error in the LOGII ISIS
         messages.


             After any  of the  above message  is displayed,  the port  will be
        disconnected.  User has to reboot  the terminal to get the  "please log
        in:" prompt for another login.






                           3.3  Selection PAD Command Signal


             The Selection PAD Command Signal is used to make an  outgoing call
        from  a DTE  connected to  a  CONSAT/PAD port  to a  remote  DTE.  This
        command  signal  consists   of  three  blocks;  the   Facility  Request
        Block(optional), the Address  Block(mandatory), and the Call  User Data
        Block(optional).

             X.28 PAD Selection Command Signal Syntax :

         [facility request block] [address block] [call user data block]


                       CCITT Format               TYMNET Extended Format

        31                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                       ------------               ----------------------

                [fac1,...]-[adr][Pc1...c12]     [fac1,...]-[adr][Pc1...c12]
                [fac1,...]-[adr][Dc1...c12]     [fac1,...]-[adr][Dc1...c12]
                                                [fac1,...]-[adr][Hab1...ab12]

             The selection command is terminated with a carriage return or plus
        "+"; therefore these  characters should only appear  at the end  of the
        command.

             The Facility Request  Block consists of several  facility requests
        marked by facility request codes.  Each request is separated by a comma
        ",".   The  following is  an  example  of the  general  format  for the
        facility request block:

                T____,N_________,R,G__,TCL=n-


             The dash  "-" marks the  end of this  block.  The  descriptions of
        each request code can be found in the following sections.

             The following is an example of the facility request:

                T3106,NJSMITH;password,R,G01,TCL=4-


             The character and line delete editing characters, when  entered by
        the  user, will  be acted  upon by  the PAD.   The only  characters not
        allowed to be  deleted are those that  are not echoed.  Please  see the
        NUI Facility Code Enhancements,  and Call User Data  Block Enhancements
        for the specific exceptions.

             The Line Display editing function is still invalid when entering a
        Selection PAD Command.  Depending  upon the X.3 parameter  six setting,
        an error message is displayed when this editing function is requested.

             All  characters  are locally  echoed  by the  PAD  except  for the
        password portion  of the NUI  facility, and those  characters following
        the P Option in the Call User Data Block.





                    3.3.1  Facility Code Enhancements
                   
                N      - indicates that NUI selection is being requested.
                         The "N" is directly followed by the Network User
                         Identification (NUI).  The NUI will be one of the
                         following formats:

                        Nusername;password


        32                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                          The "username;" is echoed but the optional password
                          following the ";" is not echoed.  

                        N=ddddnnnnnnnnnn

                          The "=" indicates a Data network identification
                          code (DNIC) and a Network terminal number (NTN) is
                          being specified instead of the username format.
                          The DNIC will consist of four digits (0-9).
                          The NTN consists of one to ten digits.


             If the NUI consists of a username and password, it can not contain
        the character semicolon ";"  or any control characters.   The semicolon
        will be used to separate the username from the password.  The Colon ":"
        is not allowed  in the username  string since it  marks the end  of the
        user name string for a CONSAT port.

             When spaces  are entered  within the password  portion of  the NUI
        facility request, they are forwarded to the supervisor,  because TYMNET
        passwords contain spaces  as valid password characters.   Spaces within
        the NUI facility but outside the password field will be discarded.

             DEL  characters will  be  acted upon  unless they  are  within the
        password portion of the NUI.

                Note: If the NUI is not entered, the OADR, defined by the 
                      MYOADR macro, is used by the supervisor to perform
                      the validation process.           

























        33                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.3.2  Facility Request Code Changes

                G     - This code requests the Closed User Group selection.
                        The "G" should be directly followed
                        by a closed user group index number.
                        The index number will be used to find the
                        associated interlock code.

                        Example:  Gcc

                        The closed user group index number "cc" is 
                        specified by a two digit decimal number.

                R     - This code indicates the Reverse Charging is requested.
                        The collect call request is subject to network
                        validation.  The destination host interface may
                        choose to reject the call based on other reverse
                        charging criteria.  The default, if R is not entered,
                        is no reverse charging.
                
                        Example:  R

                T     - This facility code indicates RPOA selection is
                        requested.  The RPOA value follows the T.

                        Example:  Tdnic

                        The RPOA "dnic" consists of four digits (0-9).

                TCL=  - This facility code indicates the throughput class.
                        The decimal value after the "=" can range from 3 to 12.

                              CCITT                             TYMNET
                        THROUGHPUT CLASS                     TRANSLATION
                                 3                              64 CPS
                                 4                              64 CPS
                                 5                              64 CPS
                                 6                              64 CPS
                                 7                             160 CPS
                                 8                             512 CPS
                                 9                             512 CPS
                                10                            2048 CPS
                                11                            2048 CPS
                                12                            2048 CPS










        34                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.3.3  Address Block Format Enhancements
        abbreviated address

                        - A period (.) will begin each abbreviated address,
                          and must be terminated by an asterisk(*) if
                          Call User Data Field is requested.  
                          Multiple abbreviated addresses are separated
                          by a comma(,).

                          The string after the first period(.) will be
                          passed as is to the Supervisor for validation.
                          The PAD does not validate any of the characters
                          following the (.).  Therefore, the user must
                          remember to terminate the Address Block with an
                          (*) prior to entering CUD.  Otherwise data intended 
                          to be CUD will be passed to the supervisor as part
                          of the abbreviated address.
                          Possible formats of the string are :
                          
                          .hhhhh.ssss*
                                5 digits of host number, and 4 digits of
                                subhost number.
                          .%nnnnn*
                                The kernel host of the specified 5-digit
                                node number is requested.
                          .host-name
                                Host name is requested.
                Example:  

                .12345.12
                          12345 is the host number, and 12 is the
                          subhost number.

                .1234.12,954.78
                          Multiple host numbers are being requested.
                          1234 and 954 are the host number.
                          12 and 78 are the subhost numbers for
                          each requested host number.
                .HOST123
                          Host name HOST123 is being requested.
                .%1234
                          Requesting kernel host of node 1234.












        35                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988




        full address
                        - The PAD verifies digits 0-9 have been used to
                          specify the full address.  There are two
                          possible formats for this entry.


             The following descriptions apply only if the flag XPRADR is set to
        OFF.  Please refer to the system generation section for details.

                  The full address format is in the form

                                <DNIC><NTN>
                Example:

                  31060123456789
                        3106 is the four digit DNIC.
                        0123456789 is the 10-digit Network Terminal Number.


             The PAD verifies this full address format is at least  five digits
        long, consisting of four(4) DNIC and at least one(1) Host digits.

             Following descriptions only apply if the XPRADR flag is set to ON.
        Please refer to the system generation section for details.

                        The transparent full address can be in either of
                        the following two forms:

                                1 <DNIC> <NTN>
                                <LOCAL NTN>
                          
                        These formats are treated transparently by the PAD.
                        With the XPRADR flag set ON, this full address can be
                        in any numerical form not defined by Tymnet's
                        numbering plan.

                        The interpretations of the addresses are subject 
                        to the TYMNET Supervisor's knowledge of the
                        specific numbering plan customized for the network.

                Example:

                  131060123456789
                        1 indicates a special numbering plan is requested.
                        3106 is the four digit DNIC.
                        0123456789 is the 10-digit Network Terminal Number.

                  234567
                        This is a LOCAL NTN.



        36                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                         3.4  LOGII PAD Service Signal Changes






                    3.4.1  TYMNET Selection Command Error Service Signals

             Errors detected by the PAD, prior to requesting the  circuit, will
        be  error  dependent  service signals  and  non-CCITT  specific.  These
        service  signals will  begin with  "err :  " as  the  following example
        shows.

                Example:
                With PAD prompt

                        pad>Nusername;psw
                        err : missing mandatory Address Block

                        pad>_

                Without PAD prompt

                        Nusername;psw
                        err : missing mandatory Address Block

                        _


             The  message number  (Msg No.)  refers to  the  CONSAT/PAD message
        number assigned to the message and is also used to identify the message
        in the CONSAT ERS.

        Msg No. Header          Default Text / Reason
        ------  ------  ----------------------------------------------

        150       4     edit buffer overflow (please type <cr>)   

                        Displayed when user types more than 128d 
                        characters as a PAD Command signal.


        152       4     command name unknown (try a different syntax)

                        General parsing routine could not recognize
                        command signal.







        37                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        165       4     deleting character in password field or after P in

                        CUD BLOCK not allowed
                        A LOGII only signal displayed when user tries to
                        delete a character that was not echoed.


        166       4     line display not allowed if entering selection command

                        Sent to user if line display editing character is
                        pressed when a Selection PAD Command is being typed.


        280       4     a facility name was not recognized

                        An unrecognized facility was entered by the user.
                        For example:  tpc=3 / c / tcl=,


        281       4     a facility name was not present after a comma

                        The user entered a , after a facility but then
                        terminated the facility block.
                        For example: nusername;psw,-


        282       4     neither an address nor a nui was entered

                        Generated by code because called address
                        was not given or LOGI code tried to get
                        address from NUI but NUI was not entered.


        283       4     a numerical username contained a non-digit

                        LOGI only signal displayed because code
                        tries to use NUI for calling address (9+NUI)
                        but username not all digits.


        284       4     host number or subaddress was too long

                        User specified too many digits in address.
                        LOGI only signal displayed when more than
                        14 full address digits, or for abbreviated
                        format, more than 5 host digits or more
                        than 4 subhost digits.







        38                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        285       4     if a direct call address is used"AC it must be 9

                        A LOGI only signal displayed when a direct call
                        is specified and more than 1 digit (9) is entered.


        286       4     the dnic must have 4 digits

                        A LOGI only signal displayed when less than
                        4 digits are specified in a full address.


        287       4     missing abbreviated address terminator

                        Displayed when an abbreviated address is
                        entered by the user and is not terminated
                        with an * prior to entering CUD.  A LOGI
                        only signal because all addresses must be
                        digits. If an abbreviated address format is
                        used and a non-digit is found, or a dot (.)
                        is typed and digits do not follow, then
                        the user receives this signal.


        288       4     invalid address digit or unknown call user data type

                        When a character other than P, H, or D is specified
                        as the first character of the CUD block.  This
                        could occur if an invalid character is entered
                        in an address block using the full address
                        format, or after the * if the abbreviated 
                        address format is used.


        289       4     an invalid facility value was specified

                        This message will appear, because the user entered 
                        an invalid facility value. For example TCL=0.


        290       4     called address must be at least 4 digits long

                        LOGI message only, requiring a four digit address.


        291       4     invalid character in nui

                        This error message will be displayed when the user
                        enters two semi-colons, a colon, or control
                        characters within the NUI facility.




        39                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        293       4     a call is already in progress

                        This message is displayed to the user whenever
                        a Selection PAD Command is entered and a call
                        has already been established.


        294       4     rpoa cannot be used on intranetwork calls

                        This message is displayed to the user if the
                        RPOA facility is requested on a local call.
                        This includes abbreviated address and
                        full address (if the DNIC is the same as
                        the default DNIC).


        295       4     call user data too long

                        This message is displayed because the user
                        specified more than 12 ASCII or 24 Hexadecimal
                        digits (12 Hexadecimal pairs) in the Call User
                        Data Block.


        296       4     invalid throughput class value

                        Throughput class value is limited to greater
                        than or equal to 3 and less than or equal to 12d.
                        If the user specifies a value outside  this range
                        range this message will be displayed.


        297       4     illegal hex digit in call user data

                        Hex digits are characters 0-9, and a-f or A-F.
                        Any character entered after the H other than
                        these will cause this error to be displayed.


        298       4     invalid CUG index value

                        An invalid CUG index was entered when 
                        the CUG facility was requested.


        299       4     CUG not subscribed

                        The port in use when requesting the CUG facility
                        is not subscribed to the tymfile defined CUG.





        40                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        300       4     undefined CUG index

                        A interlock code was not present for this port in 
                        the interlock code table.


        304       4     odd number of hexadecimal digits - must be in pairs

                        If H is specified as the CUD format then
                        hexadecimal digit pairs are required.  If the
                        user specifies an odd number of digits this
                        message will be displayed.


        305       4     missing mandatory Address Block

                        LOGII requires an Address Block.  When the user
                        does not specify it this message will be 
                        displayed.


        306       4     selection command aborted signal received

                        While copying the characters from the
                        edit buffer to the CMDBUF area a signal
                        is encountered.  This would be an internal
                        error, and this message would be displayed.



























        41                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


                    3.4.2  PAD Service Signals Representing Login Status)

             Pad  service  signals,  for all  login  status  received  from the
        network, will be per the 1984 CCITT X.28 Recommendation.  There are two
        logon status handlers in the PAD. One for LOGII status and one for LOGI
        status.  Both would display  a clear message, because the  call request
        was not successful and therefore cleared.  The characters "clr" will be
        sent, followed by a space and 2 or 3 characters representing  the clear
        cause code.  After the clear cause is displayed, the cursor will  be at
        the beginning of a new line.

                Example:
                With PAD prompt

                        pad>Nusername;psw-3106000777
                        clr dte

                        pad>_

                Without PAD prompt

                        Nusername;psw-3106000777
                        clr dte
                        _

                NOTE: blank line between clear message and prompt 
                      due to carriage return line feed preceding 
                      prompt.  Underscore "_" is cursor.


             The  message number  (Msg No.)  refers to  the  CONSAT/PAD message
        number  assigned to  the  message and  is  also used   to  identify the
        message in the CONSAT ERS.

                PAD X.28 Clear Cause Service Signals

        Msg No. Header          Default Text

        402       1             occ

                                number busy


        403       1             nc

                                network congestion                   


        404       1             inv

                                invalid facility request             



        42                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        405       1             na

                                access barred                        


        406       1             err

                                local procedure error               


        407       1             rpe

                                remote procedure error              


        408       1             np

                                not obtainable


        409       1             der

                                out of order                         


        410       1             dte

                                dte                                        


        411       1             pad

                                pad clearing                        


        412       1             unk

                                unknown                             


        414       1             rna

                                reverse charging acceptance
                                not subscribed










        43                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        3.4.2.1  LOGII PAD Logon Status Service Signals

             This Logon Status Handler  displays X.28 service signals  based on
        the interpretation of  MOs 04, 24, 27  and 29.  The routine  checks for
        lower and upper table limits.  If either limit is reached,  unk (TYMNET
        message number 412) is displayed as the clear cause.  The  .FTBUF (from
        terminal buffer), the .FEDBF (from edit buffer) and the  .LGBUF (logger
        buffer) are  emptied.  The  port is  cleaned up  and the  clear service
        signal is then sent followed by the PAD prompt if parameter 6 is set to
        5.  If the status in register 9 indicates an invalid logon  attempt was
        made by  the user,  then a  counter is  incremented.  When  the counter
        indicates 3 invalid attempts were made, then TYMNET message  number 163
        (command  state re-entry  count exceeded...disconnecting)  is displayed
        and the user is dropped.

             - Internal LOGII Logon Status Service Signals -

             The  CONSAT  can pass  a  status  via register  9  to  indicate an
        internal problem discovered during a logon attempt.
                
        CLEAR CAUSE     REASON                      VALUE IN R9

            nc          no supervisor prior to ICRM     -7
           unk          invalid                         -6
            nc          X.409 msg format error          -5
           unk          invalid                         -4
           unk          invalid                         -3
           unk          invalid                         -2
           unk          invalid                         -1

             - LOGII Logon Status Service Signals For MO-04 -

        CLEAR CAUSE     REASON                      VALUE IN R9

           unk          escape indication detected      00
           inv          username                        01
           inv          error type username             02
           inv          password                        03
           inv          error type password             04
           rpe          invalid logon chr               05
            np          invalid destination spec        06
            na          access denied                   07
            np          terminating host is unknown     08
           der          term host down                  09
           der          term host shut                  0A
            na          term host is orig only          0B
           occ          term host out of ports          0C
            nc          no network path to dest host    0D
           unk          invalid                         0E-1F





        44                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988



             - LOGII Logon Status Service Signals For MO-24 -

        CLEAR CAUSE     REASON                      VALUE IN R9

            nc          ICRM rec on port already        20
                        in logon
            nc          ICRS received on unassigned     21
                        port
            nc          Invalid ICRS form               22
            nc          cmd channel lost                23
            nc          ICRS rec before RCRI was sent   24
            nc          waited too long for port msg    25
                        to comp
           unk          invalid                         26-3F

             - LOGII Logon Status Service Signals For MO-27 -

        CLEAR CAUSE     REASON                      VALUE IN R9

            nc          invalid NCRM format             40
            nc          supervisor in slow sleep state  41
            nc          insufficient sup buffer space   42
            nc          logons limited by Probe op cmd  43
            nc          invalid CCT in ICRM/NCRM        44
            nc          invalid originating host no     45
            nc          invalid throughput class in     46
                        ICRM/NCRM
            nc          originating host is down        47
            nc          originating host is not on the  48
                        base
            nc          originating host is terminate   49
                        only
            nc          duplicate logon fields          4A
            nc          logon field too long            4B
            nc          bad MUD                         4C
            nc          normal request logon failure    4D
                        limit
            nc           logon session timeout          4E
           unk          invalid                         4F-5F














        45                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988



             - LOGII Logon Status Service Signals For MO-29 -

        CLEAR CAUSE     REASON                      VALUE IN R9

            nc          no cmd ckt to the sup           60
            nc          no available dispatcher port    61
            nc          node code not present           62
            nc          no node code buffers available  63
            nc          circuits/min exceeded for the   64
                        slot
            nc          circuits/min exceeded for the   65
                        host
            nc          slot not licensed for aux       66
                        circuits
            nc          interface made LOGII req but    67
                        sup LOGI
            nc          Invalid ICRM format             68
            nc          Invalid CCT specified           69
           unk          invalid                         6A-7F


































        46                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988


        3.4.2.2  LOGI PAD Logon Status Service Signals

             This Logon Status Handler  displays X.28 service signals  based on
        the value of register 9.  If a zero status is contained in  register 9,
        it  means continue.   The  CONSAT needs  to  send the  password  to the
        Network so the PAD does not handle this status, but returns  control to
        the CONSAT.   If a non-zero  status is contained  in the  register, the
        routine checks for  lower and upper table  limits.  If either  limit is
        reached,  unk (TYMNET  message number  412) is  displayed as  the clear
        cause.  The .FTBUF  (from terminal buffer),  and the .FEDBF  (from edit
        buffer) are  emptied.  The  port is  cleaned up  and the  clear service
        signal is then sent followed by the PAD prompt if parameter 6 is set to
        5.  If the status in register 9 indicates an invalid logon  attempt was
        made by  the user  then it  is counted.   When a  maximum of  3 invalid
        attempts are made then the user is dropped, via the port being hung.

             - LOGI Logon Status Service Signals -

        CLEAR CAUSE     REASON                      VALUE IN R9

            nc          no supervisor                   -7
           unk          unused                          -6
            nc          msg format error                -5
            nc          login aborted                   -4
            nc          no path available               -3
            nc          zapper                          -2
           unk          got a psn                       -1
           unk          continue                        00
           unk          please login                    01
           inv          error, username                 02
           inv          error, password                 03
           inv          username                        04
           inv          password                        05
           unk          unused                          06
           unk          unused                          07
            nc          pls see your rep...             08
            nc          bad mud                         09
            nc          circuit busy                    0A
            np          host not available              0B
           occ          host out of ports               0C
           der          term host down                  0D
           der          term host shut                  0E
            nc          try again in 2 minutes          0F
            na          access not permitted            10
            np          no host specified               11
            np          bad host number                 12
            nc          mud error                       13







        47                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988







                    3.4.3  Help  Display

             The PAD Help Display is  enabled only if the PADCOMMANDS  macro is
        specified  in  the  slot  tymfile  enabling  TYMNET  Extended Commands.
        Otherwise, typing HELP on a  port functioning as a PAD port  in command
        mode will only get an error message.  Only the help displays for HELP 1
        and HELP 4 (when LESSHELP is off), and HELP (when LESSHELP is on), have
        been modified  for PAD version  7.00.  There is  a slight  variation to
        these displays depending on whether XPRADR or LOGII is on or off.



        3.4.3.1  Help Displays - LOGII is OFF, and LESSHELP is ON
         pad>HELP


         Help Information

         Nusername(;psword),Tdddd,R,Gnn-<DNIC><NTN>Dc1c2...c12
         Nusername,tcl=n-.host#.subhost*Pc1c2...c12
         Nusername(;psword)-Hca1cb1...ca12cb12

         CLR
         RESET
         INT
         STAT
         PROF n
         PAR?
         PAR?0:0
         SET
         SET?
         SETn1:v1,n2:v2,...
         SET?n1:v1,...
















        48                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988





        3.4.3.2  Help Displays - LOGII, and LESSHELP is OFF
         pad>HELP 1


         You may establish a call by using the Selection PAD Command
         Signal, which may consist of the following:

                    Facility Request Block Formats

         Nusername(;psword) - the NUI facility, username and password
         Tdddd              - a 4 decimal digit RPOA facility
         R                  - reverse charging is requested
         Gnn                - a 1 or 2 digit closed user group index
         TCL(ass)=nn        - a 1 or 2 digit throughput class facility
         ,                  - facility request separator
         -                  - an end of facilities delimiter

                         Address Block Formats

         ddddnnnnnnnnnn     - 4 digit DNIC and a 10 digit NTN
         .hhhhh.ssss*       - a 1 to 5 digit host number and a 1 to 4
                              digit sub-host abbreviated address

                      Call User Data Block Formats

         Dc1c2...c12        - call user data of up to 12 characters
         Pc1c2...c12        - same as D but characters are not echoed
         Hca1cb1...ca12cb12 - same as D but hexadecimal digit pairs each
                              corresponding to an ascii character

         If a port is so configured, the following command transfers
         The port from command mode to login mode:

         LOG(in)            - the command

















        49                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988





        3.4.3.3  Help Displays - LOGII, and LESSHELP is ON

             A  slight difference  in the  full address  format is  due  to the
        XPRADR flag setting.

             - "HELP" Display when XPRADR is OFF -
         pad>HELP


         Help Information

         Nusername(;psword),Tdddd,R,Gnn-<DNIC><NTN>Dc1c2...c12
         Nusername,tcl=n-.host#.subhost,.host#.subhost*Pc1c2...c12
         N=<DNIC><NTN>-.hostname*Hca1cb1ca2cb2...ca12cb12
         -<DNIC><NTN>

         CLR
         RESET
         INT
         STAT
         PROF n
         PAR?
         PAR?0:0
         SET
         SET?
         SETn1:v1,n2:v2,...
         SET?n1:v1,...
























        50                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988



             - "HELP" Display when XPRADR is ON -
         pad>HELP



         Help Information

         Nusername(;psword),Tdddd,R,Gnn-1<DNIC><NTN>Dc1c2...c12
         Nusername,tcl=n-.host#.subhost,.host#,subhost*Pc1...c12
         N=<DNIC><NTN>-.hostname*Hca1cb1...ca12cb12
         -<LOCAL NTN>

         CLR
         RESET
         INT
         STAT
         PROF n
         PAR?
         PAR?0:0
         SET
         SET?
         SETn1:v1,n2:v2,...
         SET?n1:v1,...






























        51                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988





        3.4.3.4  Help Displays - LOGII is ON, and LESSHELP is OFF

             - "HELP_1" Display when XPRADR is OFF -
         pad>HELP 1


         You may establish a call by using the Selection PAD Command
         Signal, which may consist of the following:

                    Facility Request Block Formats

         Nusername(;psword) - the NUI facility, username and password
         N=ddddnnnnnnnnnn   - the NUI facility, DNIC and NTN
         Tdddd              - a 4 decimal digit RPOA facility
         R                  - reverse charging is requested
         Gnn                - a 1 or 2 digit closed user group index
         TCL(ass)=nn        - a 1 or 2 digit throughput class facility
         ,                  - facility request separator
         -                  - an end of facilities delimiter

                         Address Block Formats

         ddddnnnnnnnnnn     - 4 digit DNIC and a 10 digit NTN
         .hhhhh.ssss*       - a 1 to 5 digit host number and a 1 to 4
                              digit sub-host abbreviated address

                      Call User Data Block Formats

         Dc1c2...c12        - call user data of up to 12 characters
         Pc1c2...c12        - same as D but characters are not echoed
         Hca1cb1...ca12cb12 - same as D but hexadecimal digit pairs each
                              corresponding to an ascii character

         If a port is so configured, the following command transfers
         the port from command mode to login mode:

         LOG(in)            - the command














        52                                                           ISCS07.GED
        PIR 2214 - X.121 NUMBERING PLAN                          April 13, 1988



             - "HELP_1" Display when XPRADR is ON -
         pad>HELP 1


         You may establish a call by using the Selection PAD Command
         Signal, which may consist of the following:

                    Facility Request Block Formats

         Nusername(;psword) - the NUI facility, username and password
         N=ddddnnnnnnnnnn   - the NUI facility, DNIC and NTN
         Tdddd              - a 4 decimal digit RPOA facility
         R                  - reverse charging is requested
         Gnn                - a 1 or 2 digit closed user group index
         TCL(ass)=nn        - a 1 or 2 digit throughput class facility
         ,                  - facility request separator
         -                  - an end of facilities delimiter

                         Address Block Formats

         1ddddnnnnnnnnnn    - 1 plus 4 digit DNIC and a 10 digit NTN
         nnnnnn             - a 6 digit local NTN
         .hhhhh.ssss*       - a 1 to 5 digit host number and a 1 to 4
                              digit sub-host abbreviated address

                      Call User Data Block Formats

         Dc1c2...c12        - call user data of up to 12 characters
         Pc1c2...c12        - same as D but characters are not echoed
         Hca1cb1...ca12cb12 - same as D but hexadecimal digit pairs each
                              corresponding to an ascii character

         If a port is so configured, the following command transfers
         the port from command mode to login mode:

         LOG(in)            - the command

















        53                                                           ISCS07.GED
        Enhancement - Control Character to Restore Full-Duplex   April 13, 1988






              4 -  Enhancement - Control Character to Restore Full-Duplex


             This enhancement allows CONSAT to revert to  full-duplex operation
        on receipt of designated control character (control-E) at login.

           1. If user has entered half-duplex mode via 
              (possibly accidental) insertion of control-H at login.

           2. Or leaves a half-duplex session for a full-duplex one.


             The  user  will be  able  to  return to  full-duplex  by  means of
        entering the control-E character within the following fields:

             LOGI LOGIN  - within the "username:host#" field
             LOGII LOGIN - within the "username:destination-list" field


             This feature only takes effect at the initial login stage.  Once a
        terminater  is encountered  by the  CONSAT login  handler,  the circuit
        state is decided.  It can only be changed by rebooting the  terminal to
        start over the login process.

             The  control-E  character is  not  sent to  the  Supervisor.  LOGI
        Supervisor memorizes the half-duplex  status of a circuit when  a reset
        character is entered.  However, LOGII Supervisor clears the half-duplex
        setting when encounters the ESC character.






















        54                                                           ISCS07.GED
        PIR 2518 - CONSAT Port Usage Information                 April 13, 1988






                     5 -  PIR 2518 - CONSAT Port Usage Information


               The implementation  of PIR 2518  is intended to  provide general
        statistics on CONSAT Port Usage.  The statistics for CONSAT  Port Usage
        is based on the number of Async ports that have been in use  during the
        past 24 hour.  Information from the CONSAT slot includes the following:

                  (a) Average Maximum Async. Port(s) in used;
                  (b) Average Minimum Async. Port(s) in used;
                  (c) Average Mean    Async. Port(s) in used;
                  (d) A Simple Standard Deviation.
         

             With the statistics on CONSAT port usage process enabled, the user
        should be aware of the following important notes)

                  (a) It is very CPU time consuming;
                  (b) It is very memory occupied;
                  (c) It is for Async ports only
                      with the exclusion of PVC ports.
         






                 5.1  Enabling Statistics on CONSAT Port Usage Process


             In order to  enable the collection  process for the  statistics on
        CONSAT  port  usage information,  the  user  has to  turn  on  the flag
        "MX.ACC" at system generation time.  For example;
             
               setflg(MX.ACC,ON)


             The default value of this flag is MX.ACC = OFF.











        55                                                           ISCS07.GED
        PIR 2518 - CONSAT Port Usage Information                 April 13, 1988


                    5.2  Collecting Statistic of CONSAT Port Usage


             The user can  collect the Async  port usage information  via XDDT.
        Therefore, a new XDDT feature has been developed for this purpose.  The
        following is an example that illustrates how to use the XDDT command to
        collect Async port usage information:

        please log in: ::isistech:14;

        node: 2014
        host: 14

        slot #: ;r03

        Slot 03 running: DDT
        *::?host

        0 Host 34d has 0d ports, is answered
        1 Host 35d has 24d ports, is answered
        0d ports in use
        *::?stat

        :>::usage

        CONSAT -- CONsolidated tymSAT  7.00

        Slot started at  11Apr88 20:00   GMT
        Last crash at    0000000 00:00   GMT
        Current time is  11Apr88 20:07   GMT
        Assembly time is 07Apr88 20:56   GMT

         Maximum  Minimum  Average  Simple   
         Port(s)  Port(s)  Port(s)  Standard 
         In  Use  In  Use  In  Use  Deviation
         .......  .......  .......  .........

          110       12      61      32


        :>::q

        Slot 03 running: DDT
        *%q
        EXIT









        56                                                           ISCS07.GED
        System Generation                                        April 13, 1988






                                6 -  System Generation







                              6.1  SETFLAG - Enable Flag


             Three new flags  have been created  for ISIS CONSAT  Version 7.00;
        the X32584  flag, the  LOGII flag  and the  XPRADR flag.   The "X32584"
        indicates what X.3 parameters are supported by the X.25 host interface.
        The  "LOGII"  flag  enables  the  LOGII  logon  session  protocol.  The
        "XPRADR"  flag   is  introduced   to  enable/disable   the  transparent
        interpretation of the X.28 destination address field block.





                    6.1.1  X32584

             Flag   "X32584"   will   be  created  to   indicate   the  current
        support of X.3 parameters by the remote X.25 host interface.

             Syntax      : SETFLAG(X32584,NO/OFF)

             Default     : OFF

             Description :

             This macro definition  enables/disables the response  of  1984 X.3
        parameters to a valid "read"  or "set and "read" PAD  message.       If
        flag X32584 is set to ON  then the CONSAT/PAD will respond to   a valid
        "read"  PAD message  with all  parameter references   (1-22)  and their
        current values.

             If   flag  X32584   is  set to  OFF  then   the   CONSAT/PAD  will
        respond  to  a valid "read" PAD message with 18 parameter  (1-18) only.
        .end








        57                                                           ISCS07.GED
        System Generation                                        April 13, 1988


                    6.1.2  LOGII Protocol Flag

             Syntax : SETFLAG(LOGII,ON/OFF)

             Default : ON.

             Description :

             This  macro definition  enables/disables the  LOGII  logon session
        protocol  in the  CONSAT slot.   If this   flag is  not  specified, the
        CONSAT slot   will be  capable of using  LOGII logon  session protocol.
        The following statement  can be used to  disable the LOGII  features to
        save memory space if only LOGI features are desired.

             Example:  SETFLAG(LOGII,OFF)







































        58                                                           ISCS07.GED
        System Generation                                        April 13, 1988







                    6.1.3  XPRADR - Transparent Addressing Scheme

             Syntax : SETFLAG(XPRADR,OFF/ON)

             Default : OFF.

             Description :

             This  macro  enables/disables the  transparent  addressing scheme.
        For the supervisor to recognize Tymnet addressing syntax, a  dash(-) is
        required before the <DNIC> <NTN>.   When the XPRADR is left  to default
        (OFF) or specified as OFF,  the CONSAT/PAD places a dash(-)  before the
        full address specified by the  user.  When XPRADR is enabled,  then the
        CONSAT/PAD  does not  place a  dash(-) before  the user  specified full
        address.

             When a PAD user  enters the - <DNIC>  <NTN> with this flag  set to
        OFF in the selection PAD command, the PAD will verify the  full address
        is  comprised of  digits (0-9)  with at  least four  DNIC and  one host
        digit.  The CONSAT/PAD will then send it to the Supervisor in  the form
        of  - <DNIC> <NTN>, inserting the dash(-) before the DNIC.

             If the flag is set to  ON, whatever the PAD users types  after the
        dash(-),  ie.  - <string>,  the  <string> is  sent  to  the Supervisor.
        CONSAT will not insert a dash(-) before the address, but will  check to
        see that all address characters are digits (0-9).

             Following is the  mapping of the login  string entered by  the PAD
        user and the string that CONSAT/PAD sends out to the Supervisor.

          XPRADR is OFF

                  User Enters           Login String to the Supervisor

               - <DNIC> <NTN>                - <DNIC> <NTN>
               

          XPRADR is ON

                  User Enters           Login String to the Supervisor

               - <full adr>                  <full adr>
               

             Setting this flag to ON  or OFF does not affect the  processing of
        the abbreviated address.  CONSAT/PAD will send the whole string  to the
        Supervisor the way it is entered by the user.


        59                                                           ISCS07.GED
        System Generation                                        April 13, 1988


             The following two macros will  be used to determine the   PAD port
        parity   type  when   ports   do  not   go  through  the  TID detection
        process.






                           6.2  DEFPTY - Default Parity Type


             Syntax      : DEFPTY(EVEN/ODD/SPACE/MARK/SAVE)

             Default     : SAVE parity

             Description :

             This macro is used to define the default parity type for all ports
        at system   generation  time.   If  this  macro   is  not  defined, the
        port parity type  will   be default  to  "SAVE" parity  since parameter
        21 defaults to zero (0)  for no parity treatment.  The  CONSAT/PAD will
        preserve the parity and pass data transparently.






                               6.3  PRTPAR - Port Parity


             Syntax      : PRTPAR(EVEN/ODD/SPACE/MARK/SAVE,p0,p1,..pn)

             Default     : SAVE parity

             Description :

             This  macro  defines the parity  type for a  particular port  or a
        set  of ports  at system  generation time.   Once the   parity  type is
        defined, it will be used for the parity checking and generation purpose
        by the CONSAT/PAD.  The port parity type can be changed during  the TID
        detection process.











        60                                                           ISCS07.GED
        System Generation                                        April 13, 1988


                        6.4  PTYERR - Parity Error Retry Count


             Syntax      : PTYERR(n)           where n = 1 to 100 decimals

             Default     : n = 3

             Description :

             This  macro is  used to  define the  parity error  retry  count at
        system generation time.  The default  value  of  retry count is  3.  If
        the parity error retry count is exceeded,  the call (circuit)  will  be
        cleared.  The retry  count will be reset  upon receipt  of   good  data
        character within the retry limit.

             If the parity error retry count is set to less than zero  (0) then
        a warning message will be  sent toward user terminal at   slot  tymfile
        assembly time.  The  default value 3 will  be assumed for   the  parity
        error retry  count.   If the  parity error retry  count is set  to zero
        (0),  macro "PTYERR" will be disabled, and no call will be  cleared due
        to parity error.

































        61                                                           ISCS07.GED
        System Generation                                        April 13, 1988








                         6.5  PRFDEF - PAD Profile Definition


             The NAD "macro" can accept  at most 16 arguments at a  time.   Due
        to this limitation, the macro "PRFDEF" will be modified as following:

           Syntax  : PRFDEF(pno,pnam,p1,p2,p3,p4,p5,p6,p7,p10,p11,p12,p13,p15,
                            p16,17,p18) or
                     PRFDEF(pno,CONT,p19,p20,p21,p22)

                     where pno        = Profile Index Number

                           pnam       = Symbolic name of the profile

                           CONT       = Indicate CONTINUATION of previous
                                        profile definition for parameters
                                        19 - 22

                           p1,...,p22 = A set of X.3 CCITT parameter  values
                                        to be associated with the designated
                                        profile.
         
           Description :

           (Please refer to CONSAT ERS version 6 for details)
           
           Example: PRFDEF(3,Tymnet Simple Standard,1,1,94,0,1,5,4,80,1,0,
                           1,127,4,18)
                    PRFDEF(3,CONT,0,0,0,0)



















        62                                                           ISCS07.GED
        System Generation                                        April 13, 1988








                6.6  LGTIMR  - Define Login Inactivity Timeout Counter


             Syntax : LGTIMR(num)

             Default : 8.

             Description :

             This optional macro  defines the Login Inactivity  Timeout Counter
        for the slot except the addressable ports.


             "Num" is a decimal value that:

           num = 0    ---> the inactivity timeout routine is disabled
           num > 127  ---> warning message is displayed at assembly time:
         
                %>>> WARNING *** LGTIMR value too big, changed to default

           0 < num < 128  ---> login timeout in (num * 15) seconds


             The login timeout routine is called every 15 seconds.  The default
        8 times would allow user 2 minutes to login before been timed out.

             If timeout occurs, the following message is displayed and user has
        to reboot the terminal for another login.

                      "please see your representative, if
                          you have trouble logging in" 

















        63                                                           ISCS07.GED
        System Generation                                        April 13, 1988








            6.7  ESCSTP  - Define Maximum Number Of ESCape/<CR> Key Strokes


             Syntax : ESCSTP(num)

             Default : 5

             Description:

             This  optional  macro defines  the  maximum number  of  escape key
        strokes or carriage return key  strokes that the user can enter  at the
        initial  login stage.   This  number is  defined  by "num"  which  is a
        decimal  value greater  than 0  and less  than 128.   When  an internal
        counter in CONSAT reaches this limit, the port will be disconnected and
        the following message displayed:

                      "please see your representative, if
                          you have trouble logging in"

             User has to reboot the terminal to be able to login again.




























        64                                                           ISCS07.GED
        System Generation                                        April 13, 1988








                   6.8  DEFOADR - Define Default Origination Address


             Syntax : DEFOADR(string)

             Default : None.

             Description :

             This optional  macro defines the  default Origination  Address for
        the slot.

             OADR  is sent  to the  Supervisor in  the circuit  request  by the
        CONSAT.  If MYOADR is not defined for the port requesting  the circuit,
        the "string" defined in  this macro is used  in the OADR field  for the
        Supervisor.

             The  "string" can  be entered  in the  form of  "-<DNIC><NTN>" for
        X.121 addressing format, or as  "username string" for  regular Tymnet's
        username format.

             This OADR will be used by the Supervisor as the user name if it is
        not  entered by  the user,  and  is subject  to the  validation  by the
        Supervisor.  It is also used as the CALLING ADDRESS by  the destination
        interface, ie. X.25 or PAD with incoming call capability.

             If this macro is not  defined, the OADR will be determined  by the
        macro MYOADR.  If  both are not defined,  the CONSAT will not  send the
        OADR to the Supervisor.



















        65                                                           ISCS07.GED
        System Generation                                        April 13, 1988








                     6.9  MYOADR  - Define My Origination Address


             Syntax : MYOADR(string,p0,p1,p2,...,p12,p13,p14)

             Default : Defined by DEFOADR macro.

             Description :

             This macro  defines the  Origination Address that  is sent  to the
        Supervisor in the circuit request.

             The first argument, string, defines the OADR to be sent out  as is
        in the circuit request.  This string  can be defined in the form  of "-
        <DNIC><NTN>" or in the form of "username".

             The second and the rest  of the arguments, up to 15  arguments are
        allowed, associate the "string" with  the ports that CONSAT is  to send
        out as the  OADR.  The port arguments  can be port ranges  in ascending
        order.

             If this macro is not  specified, the default OADR will be  used in
        the  circuit request.   If  both the  DEFOADR  and the  MYOADR  are not
        defined, the CONSAT will not send any OADR to the Supervisor.

             The OADR  is used by  the Supervisor, in  the absence of  the user
        name field, as the user name and is subject to the validation process.

             This OADR  is also used  as a CALLING  ADDRESS by  the destination
        interface, ie. X.25 or PAD with incoming call capability.

             Example :

             MYOADR(-31060123456789,0-4,10-20,22,23)

             MYOADR(MVS1,0-31)












        66                                                           ISCS07.GED
        System Generation                                        April 13, 1988


                  6.10  Define Addressable Port With Reverse Charging






                    6.10.1  ADRPRT - Define ASYNC Addressable Ports With RC

             Syntax:

             ADRPRT(port-range,host#,adr-range,att,rc)
        :ASYNC addressable ports

             Description :

             These macros  define an addressable  port environment.   The port-
        range specifies the ports  within this environment.  The  host# defines
        the  host number  assigned for  the addressable  ports.   The adr-range
        defines  the addresses  assigned for  the ports.   The att  defines the
        attribute for the port assignment.  Please refer to the existing CONSAT
        ERS for detailed descriptions of the above parameters.

             The last  parameter, rc, indicates  whether this  addressable port
        environment will accept reverse charging or not.

             The  letters  RC  must  be  placed  in  this  parameter  to enable
        acceptance of reverse charge calls.  If the parameter is  not specified
        then reverse charge calls will be rejected.  CONSAT reports the reverse
        charging capability to the Supervisor, so that when user  makes collect
        calls, the Supervisor validates  the request.  Based on  the capability
        reported by the CONSAT,  the circuit request is screened  and validated
        accordingly.





















        67                                                           ISCS07.GED
        System Generation                                        April 13, 1988







                    6.10.2  SADPRT - Define SIO Addressable Ports With RC

             Syntax :

             SADPRT(port-range,host#,adr-range,att,rc)
        :SIO addressable ports

             Description :

             These macros  define an addressable  port environment.   The port-
        range specifies the ports  within this environment.  The  host# defines
        the  host number  assigned for  the addressable  ports.   The adr-range
        defines  the addresses  assigned for  the ports.   The att  defines the
        attribute for the port assignment.  Please refer to the existing CONSAT
        ERS for detailed descriptions of the above parameters.

             The last  parameter, rc, indicates  whether this  addressable port
        environment will accept reverse charging or not.

             The  letters  RC  must  be  placed  in  this  parameter  to enable
        acceptance of reverse charge calls.  If the parameter is  not specified
        then reverse charge calls will be rejected.  CONSAT reports the reverse
        charging capability to the Supervisor, so that when user  makes collect
        calls, the Supervisor validates  the request.  Based on  the capability
        reported by the CONSAT,  the circuit request is screened  and validated
        accordingly.





                    6.10.3  OUTHOST - Define OUTDIAL Host With RC

             Syntax : OUTHOST(host#,cmd-ports,inactivity-timer,rc)

             Description :

             The  host#  is  used for  the  circuit  targeting.   The cmd-ports
        indicates  the  maximum  number  of  command  ports  allowed,  and  the
        inactivity-timer sets the  duration in which  if there is  no activity,
        the circuit is to be terminated.

             Same as the  ADRPRT, the rc  parameter instructs CONSAT  to report
        the reverse charging capability to the Supervisor so that  collect call
        requests can be validated by the Supervisor.




        68                                                           ISCS07.GED
        System Generation                                        April 13, 1988


                    6.10.4  INCOMI - Define PAD Addressable Ports With RC

             Syntax : INCOMI(init,p0-pe,host#,adr0-adr1,attr,rc)

             Description :

             The  first parameter,  init, indicates  whether the  incoming call
        request  will  be  answered  automatically  by  the  PAD,  or  answered
        specifically by the  DTE.  The p0-pe  associates the port  numbers with
        the host number defined by the host#.

             This host number is requested by the user in the logon string, and
        is passed to the PAD  in the incoming needle.  The  adr0-adr1 specifies
        the addresses requested  by the circuit  request in the  subhost field.
        The  port  assignment criteria  is  determined by  the  attr parameter.
        Please refer  to the  CONSAT ERS  for the  detailed description  of the
        above parameters.

             The last field, rc, is defined the same way as the ADRPRT.






          6.11  NTN Mapping Macros - Map Network Terminal Numbers With Ports


             Two  macros are  used  to map  addressable ports  to  NTN numbers.
        ANTNMP maps ASYNC ports and SNTNMP maps SIO ports.
























        69                                                           ISCS07.GED
        System Generation                                        April 13, 1988







                    6.11.1  ANTNMP - NTN Mapping Macro For ASYNC Ports

             Syntax :

             ANTNMP(NTN,p0,p1,p2,...,p13,p14)                            :ASYNC
        ports to NTN mapping

             Default : No NTN mapping for ports.

             Description :

             These macros associate the NTN,  one to ten digits long,  with the
        ports defined in the p0-p14 parameters.

             This NTN is  used by the CONSAT,  when receiving an  incoming call
        request,  to  search  for  the port  number(s)  defined  for  this NTN.
        Multiple NTN mapping  macros can be specified  to map multiple  NTNs to
        the same ports.

             When <DNIC> <NTN> is used as the destination address,  CONSAT will
        receive this X.121 address  in the incoming needle from  the Supervisor
        in the form of  - <DNIC> <NTN>.  If  the requested <NTN> is  not found,
        the circuit will be rejected by the CONSAT.  If the <NTN> is found, the
        port assignment is based on the following rules.

             First, the terminating host  number is checked for  the associated
        port  range  assignments defined  by  the host  definition  macros, for
        example, the ADRPRT or  INCOMINGCALL macros.  The port number  is cross
        checked with the port range defined.  If no common ports can  be found,
        the circuit is rejected.  If more than one is found, the  assignment is
        then based on the attribute defined by the macros.

             The port number identifiers, p0-p14, can be a single  port number,
        or they can be a range of ports in ascending order.

             If this macro  is not defined, the  call requests that  comes into
        the CONSAT will not go through the NTN-to-port mapping process, and the
        requests  will  be granted  on  the basis  of  the  port's availability
        associated with the terminating host number.










        70                                                           ISCS07.GED
        System Generation                                        April 13, 1988


                    6.11.2  SNTNMP - NTN Mapping Macro For SIO Ports

             Syntax :

             SNTNMP(NTN,p0,p1,p2,...,p13,p14)                              :SIO
        ports to NTN mapping

             Default : No NTN mapping for ports.

             Description :

             These macros associate the NTN,  one to ten digits long,  with the
        ports defined in the p0-p14 parameters.

             This NTN is  used by the CONSAT,  when receiving an  incoming call
        request,  to  search  for  the port  number(s)  defined  for  this NTN.
        Multiple NTN mapping  macros can be specified  to map multiple  NTNs to
        the same ports.

             When <DNIC> <NTN> is used as the destination address,  CONSAT will
        receive this X.121 address  in the incoming needle from  the Supervisor
        in the form of  - <DNIC> <NTN>.  If  the requested <NTN> is  not found,
        the circuit will be rejected by the CONSAT.  If the <NTN> is found, the
        port assignment is based on the following rules.

             First, the terminating host  number is checked for  the associated
        port  range  assignments defined  by  the host  definition  macros, for
        example, the  SADPRT or INCOMINGCALL macros.  The port number  is cross
        checked with the port range defined.  If no common ports can  be found,
        the circuit is rejected.  If more than one is found, the  assignment is
        then based on the attribute defined by the macros.

             The port number identifiers, p0-p14, can be a single  port number,
        or they can be a range of ports in ascending order.

             If this macro  is not defined, the  call requests that  comes into
        the CONSAT will not go through the NTN-to-port mapping process, and the
        requests  will  be granted  on  the basis  of  the  port's availability
        associated with the terminating host number.















        71                                                           ISCS07.GED
                                                                 April 13, 1988



























                      *   ****  ****  ***** *   * ****  ***** *   *
                     * *  *   * *   * *     **  * *   *   *    * * 
                    ***** ****  ****  ****  * * * *   *   *     *  
                    *   * *     *     *     *  ** *   *   *    * * 
                    *   * *     *     ***** *   * ****  ***** *   *
























        72                                                           ISCS07.GED
        Sample CONSAT Version 7.00 LOGII Command File            April 13, 1988






              APPENDIX I.   Sample CONSAT Version 7.00 LOGII Command File


         ;;
         ;; ISCS07.C00 
         ;; ISIS CONSOLIDATED TYMSAT SAMPLE COMMAND FILE
         ;;
                 TITLE CONSAT 07.00 SAMPLE COMMAND FILE
                 SUBTTL 
         ;;
         ;; NOTE ==>> CONSAT/PAD 7.00 USES SEGMENT 9
         ;;
         ;@(BETATEST)ISCS07.I00
         ;@(BETATEST)ISCS07.T00
         ;@(BETATEST)ISCS07.R00
         ;@(BETATEST)ISCS07.P00
         1;FISCS07.N00
         CTA,CTASIZ;PSEG0,S0SIZE;PSEG1,S1SIZE;PSEG9,S9SIZE;P%P
         %Q































        73                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988






                APPENDIX II.   Sample CONSAT Version 7.0 LOGII Tymfile



        :       ***************ISIS CONSAT Version 7.XX TYMFILE************
        :       ISIS Consolidated Tymsat Sample Configuration file
        :       ISCS07.T00 - February 29, 1988
        :       ***********************************************************


        :***
        : These parameters may be set to help debugging and diagnosis
        :NCRSAV EQ      3               :number of crash tables
        :       SETFLAG(CPS,ON)         :define storage for cps counts
        :       SETFLAG(CRSTOP,OFF)     :restart if crash 
        :       SETFLAG(CHIST,ON)       :crash history - save I/O ring 
        :       SETFLAG(DCPSSW,ON)      :CPS shown in front panel display
        :       SETFLAG(SPYSVC,ON)      :enable SPY SVC
        :***


        :***
        : FLAGS
                SETFLAG(CRTID,ON)   :enable carriage return as a TID 
                SETFLAG(AEQCR,ON)   :TID of A same as a the carriage return TID
                SETFLAG(SLODTR,OFF) :require slow DTR, same as SLODTR EQ 0
                SETFLAG(YTID,OFF)   :CCT of YTID is 25, sam as YTID EQ 0
         SETFLAG(OMRON,OFF)  :Omron term used for YTID, same as OMRON EQ 0
        :***


        :***
        : Examples of new LOGII flags
                SETFLAG(LOGII,OFF)      :disable LOGII
                SETFLAG(XPRADR,ON)  :enable transparent address scheme in PAD
        :***


        :***
        : Other macros
        : Specify Ring Size
                ISISRING(1024)  :Set ISIS dispatcher ring size in decimal
                ASYNCRING(64)   :Set Async I/O ring size in decimal
        : PVC timing values
         PCOPAR(TRYDELAY,50)    :PCO timeout value in sec, same as PCOTRY EQ 50
         PCOPAR(RETRYDELAY,40)  :PCO retry value in sec, same as PCORTY EQ 40
         PCOPAR(PCWAIT,45)      :PCO wait value in sec before circuit rebuilt,
                                :same as PCOWAT EQ 45
        : Parity

        74                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988


                DEFPTY(SAVE)    :Set slot default port parity type
                PTYERR(10)      :Set parity error re-try limit


        :***
        : Configuration print out
                SHOWME(10)      :level of configuration information
        :***


        :***
        : Declare target node, slot
                LOCATION(2657,2)
        :***


        :***
        : Origination accounting host
                ACHOST(222)
        :***


        :***
        : Port definition
                DECLARE(ASYNC,64)       :64 ASYNC ports
                DECLARE(SIO,2)          :2 SIO ports
                DECLARE(MPVC,2)         :2 MPVC pseudo ports
                DECLARE(PRINT,1)        :1 printer
                OUTHOST(2608,8,90)      :outdial host number, command ports,
                                        :and inactivity timer in seconds
        :***


        :***
        : Messages:
                LTEXT(ULMSG,Welcome to Tymnet CONSAT 7.00 test"8d"8a)
        : Special text strings to be used for PVC message
                PTEXT(1,*** CIRCUIT BUILDING IN PROGRESS ***)
        :***


        :***
        : Declare exceptions
                TID120(0-1)     :Ports 0-1 to use 120 CPS TID-message
                TID240(2-3)     :Ports 2-3 to use 240 CPS TID-message
                TID480(4)       :Port 4 to use 480 CPS TID-message
                TIDSPP(5-6)     :Ports 5-6 to use TID-message with space parity
                NOBUSY(7)       :Port 7 - Non-VADIC moden port
                NO.CP(8)        :Port 8 - CP not used for hang/answer
                HD202(9-10)     :Port 9-10 to use half-duplex 202S modem
                BAUDQS(11)      :Port 11 special for BAUDOT translate chars.
        :***


        75                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988



        :***
        : Configuration examples for ASYNC PVC ports
        :
        : Port 12 using PVC options - automatic TID, uppercase Katakana with
        : space parity, and report circuit status to Probe
                PVCRNG(12)
                PVCEX(12,TID15,AID,KAT,UPC,SPAR,PROBE)
        : Port 13 supporting S-mode using PVC options - automatic TID, 
        : automatic login, permernant circuit, data to terminal forced to
        : space parity, and report circuit status to Probe.
                PVCEX(13,TID42,AID,ALO,PCO,SPAR,PROBE)
                UTEXT(USERNAME"BA785"BBPASSWORD"8D)
                UTXRNG(13)

        : Port 14 supporting 50 baud transparent Telex (TID33)
        : PVCRNG(14)
        :       PVCEX(14,TID33,AID,ALO,PCO,NOHNG,NOTXT)
        :       UTEXT(USERNAME"BA951"BBPASSWORD"8D)
        :       UTXRNG(14)
        : Port 15 supporting 50 baud virtual Telex (TID34) with
        : Who-aRe-yoU and Answer-BACK
        :       PVCRNG(15)
        :       PVCEX(15,TID34,AID,HDX,NOHNG,WRU,NOTXT)
        :       ABACK(15,"8D"8ATYMCA001)
        : Port 16-17 supporting 75 baud SPEEDLINK telex (TID37)
        : Ports are declared to originate circuits using PVC options
        :       PVCRNG(16-17)
        :       PVCEX(16-17,TID37,AID,ALO,PCO,NOHNG,PROBE,NOWRU,NONPI,NOTXT)
        :       UTEXT(USERNAME"BA952.06"BBPASSWORD"8D)
        :       UTXRNG(16)
        :       UTEXT(USERNAME"BA952.07"BBPASSWORD"8D)
        :       UTXRNG(17)
        : Port 18-19 supporting 75 baud SPEEDLINK telex (TID37)
        : Ports are declared as addressable ones using PVC options
                ADRPRT(18-19,952,06-07,NULL)
          PVCEX(18-19,TID37,AID,NOALO,NOHNG,RCV,PROBE,NOWRU,NONPI,NOTXT,BPTB)
                ADRZAP(18-19)
        :***


        :***
        : SIO PVC ports
                SPVRNG(0-1)
                SPVCEX(0,TID10,AID,ALO,PCO,NPI,RBP,TXT,NODSC)
                UTEXT(USERNAME"BA785"BBPASSWORD"8D)
                SUTXRG(0)
          SPVCEX(1,TID10,AID,NOALO,NOHNG,RCV,PROBE,NOWRU,NONPI,NOTXT,BPTB)
        :***


        :***
        : MPVC ports

        76                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988


        :
        : Port 20-22 matches to MPVC pseudo port 0-2, respectively
                PVCEX(20-22,TID10,AID,ALO,PCO,MPC)
                UTEXT(USNAME1"8D)
                UTXRNG(20)      :subport 20 matches to MPVC pseudo port 0
                UTEXT(USNAME2"8D)
                UTXRNG(21)      :subport 21 matches to MPVC pseudo port 1
        : Define MPVC pseudo ports and candidates
                UTEXT(USNAME"BA4000.5"BBPASSWORD"8D)
                MUTXRG(0)
                MPVCUS(0,USNAME1)
                LTEXT(MPC01,MPVC subport username matches pseudo port 0)
                LTEXT(MPC02,MPVC LOGON FAILURE pseudo port 0)
                MPVCFO(0,9D,92,97,MPC01,MPC02,100)      :9D block delimiter
                                                        :92 signal delimiter
                                                        :97 escape character
                UTEXT(USNAME"BA785"BAPASSWORD"8D)
                MUTXRG(1)
                MPVCUS(1,USNAME2)
                LTEXT(MPC11,MPVC subport username matches pseudo port 1)
                LTEXT(MPC12,MPVC LOGON FAILURE pseudo port 1)
                MPVCFO(1,9D,92,97,MPC11,MPC12,100)
        :***


        :***
        : PAD functions and options
        :    Declare configuration
                PADRELATEDFUNCTIONS(ON)  :turn on enhanced PAD capabilities
        :    Enhanced Options
                AUTOCAL(DEFCMD,NUSERNAME"BBPASSWORD"AD"AE552,8) :auto call
                COMTIMER(5,11-12)         :hangs port in cmd state if timer exp
                CUDUSE(-12)       :# char(s) copied from usern placed in
                                  :CUD field, (-) from last char entered
                CUG(1,1,1,3)              :closed user group facility sw opt's
                CUGPREF(0,3)              :specifying preferential CUG  
                CUGROUP(0,3106,0,3)       :specifying interlock code mapping
                EDITBUFFERSIZE(128,1-15)  :size of editing buffer
          INCOMINGCALLS(AUTO,0-15,20711,0-15,ANY,RC)  :incom calls answ auto
                INITMODE(1,11-12)         :PAD cmd mode initially (ports 11-12)
                INITMODE(0,13-15)         :login mode initially (ports 13-15)
                LESSHELP(OFF)             :provide maximum help
                MAXASSEMBLYTIMER(5,4)     :packet forwarding timer
                NNUICAL(ON)               :non NUI facility call-LOGI only
                ODNIC(3210)               :DNIC used to address the network
                PADCOMMANDS(1,0-15)       :support TYMNET extended commands
                POSMODES(1,1-5)           :login mode only=default, (ports 1-5)
                POSMODES(2,6-10)          :command mode only, (ports 6-10)
                POSMODES(3,11-15)         :allow PAD command and login mode
                SEGAC(30)                 :# of char in a segment for acctg
                UUNUMB(ON)        :implements the national numbering sys
        :
        :

        77                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988


        :.....................   PROFILE DEFINITIONS   ......................
        :
        : Define additional terminal profiles
        : Profiles #1-2 are listed here for reference, they can't be changed.
        :
        :       CCITT PARAMETERS 1 - 22
        :
        :       I                                          P P P P  P   P  P
        :       D                     P P   P   P P P  P   1 1 1 1  1   1  1
        :       X,    Profile name ,  1,2,  3,  4,5,6, 7,  0,2,3,5, 6 , 7, 8
        :-------+---------------------+-+---+---+-+-+--+---+-+-+-+--+---+--+-
        :PRFDEF(1,CCITT Smpl Std,     1,1,126,  0,1,1,02,  0,1,0,0,127,24,18)
        :PRFDEF(1,CONT,0,0,2,0) :X.3 parameters 19,20,21,22
        :PRFDEF(2,CCITT Trnsprt Std,  0,0,  0, 20,0,0,02,  0,0,0,0,127,24,18)
        :PRFDEF(2,CONT,0,0,2,0) :X.3 parameters 19,20,21,22
         PRFDEF(3,Tymnet Smpl Std,    1,1, 94,  0,1,5,04, 80,1,0,1,127,24,18)
         PRFDEF(3,CONT,0,0,2,0) :X.3 parameters 19,20,21,22
        :
        : Define national parameters for additional profiles
        : Again, national parameters for profiles #1-2 are listed
        : for reference.  They can't be changed.
        :.................................................................
        :
        : TYMNET NATIONAL PARAMETERS 1 - 3
        :
        :              I 
        :              D N N  N
        :              X,1,2, 3
        :--------------+-+-+--+-------------------------------------------
        :       PRFNDF(1,1,0, 0)
        :       PRFNDF(2,0,0, 0)
                PRFNDF(3,1,1, 0) :echo<TAB>, Expand<TAB> with <SPACE>chars
        :Default profile is profile one unless specified otherwise
                PROFILE(3,11-15)
        : PAD message modifications
                MTEXT(8,"8D"8ACUSTOMER NAME : )        :change PAD msg #8
        :***


        :***            1984 CCITT X.29 "Read" Cmd is not supported
        SETFLAG(X32584,OFF) :
        :   
        :***            Parity Error Retry Count
        PARERR(3)           :Parity Error is allowed at most three times
        :***            Default Ports Parity Type
        DEFPTY(SAVE)        :All ports are default to "save" parity
        :***            Ports are forced "Parity Type"
        PRTPAR(EVEN,7-15)   :Ports 7-15 are forced to "Even" parity   
        :***


        :***
        : Changed macros - new LOGII options

        78                                                           ISCS07.GED
        Sample CONSAT Version 7.0 LOGII Tymfile                  April 13, 1988


        : Addressable ports
                ADRPRT(30-31,952,06-07,NULL,RC) :ASYNC port addressability
                SADPRT(1,20,1,ANY,RC)           :SIO port addressability
        :***


        :***
        : New LOGII macros
        :
        : New macros
                LGTIMR(4)       :change LOGII login timer to 4*15 seconds
                ESCSTP(9)       :change LOGII ESC/<CR> count to maximum
                                :  9 times before port gets hung
        : OADR LOGII macros
                DEFOADR(-310612345)
                MYOADR(-3106987654,6,8,10,12)
                MYOADR(-310612345678,15)
        : NTN mapping macros
                ANTNMP(12345,1,4,5-7)           :NTN to ASYNC mapping
                SNTNMP(1234567890,1)            :NTN to SIO mapping
        :***

































        79                                                           ISCS07.GED
        X.3 Terminal Parameter Meanings                          April 13, 1988






                    APPENDIX III.   X.3 Terminal Parameter Meanings



             Terminal  Parameter Numbers,  Meanings,  and TYMNET Extended "Set"
        Command  Formats  ("ON"  and  "1" are  equivalent,  "OFF"  and  "0" are
        equivalent).

         X.3 Parameter           Meaning                TYMNET Extend
           Reference                                    Set Cmd Format
             1        Escape character                  ESCape_n
             2        Echo                              ECHo_{ON/OFF}
             3        Selection of data forwarding
                      signal                            FORward_n
             4        Selection of idle timer delay     IDLe_n
             5        Ancillary device control          ANCillary_{ON/OFF}
             6        Command service signals           SERvice_n
             7        Action on break character         BREak_n
             8        Discard output flag               FLUsh_{ON/OFF}
             9        Padding after carriage return     CRPadding_n
            10        Line folding                      WIDth_n
            11        Terminal speed                    SPEed_n
            12        Flow control by DTE               FLOw_{ON/OFF}
            13        LF insertion after CR             CRLf_n
            14        Linefeed padding                  LFPadding_n
            15        Edit in data transfer             EDIt_{ON/OFF}
            16        Character delete symbol           CHAracterdelete_n
            17        Line delete symbol                LINedelete_n
            18        Display line symbol               DISplayline_n
            19        Editing PAD service signals       EPSS_{ON/OFF} 
            20        Echo Mask                         EMSK_n   
            21        Parity Treatment                  PRTM_n
            22        Page Wait                         PAGE_{ON/OFF}   


         TYMNET National         Meaning                Set Cmd Format
          Parameters
          101         Echo of Control-I                 TAB_{ON/OFF}
          102         Expand Control-I with spaces      EXPtab_{ON/OFF}
          103         Code to emulate break key         BRKkey_N
             
         
          (Refer to CONSAT ERS for detail explanation.)   







        80                                                           ISCS07.GED
        Profile 0 - TYMNET Transparent Standard Profile          April 13, 1988






            APPENDIX IV.   Profile 0 - TYMNET Transparent Standard Profile



            * This profile is used by Consat PAD software in login mode.
              It can not be set by a user.

         ----------------------------------------------------------------
         CCITT
         Parameter  Value              Description
             1        0   Command mode entered only from login mode, not
                          during a call (escape from data transfer mode)
             2        0   Echo initially off
             3       255  Data forwarded when any character is typed.
             4        0   No idle timer
             5        0   No use of X-ON and X-OFF by CONSAT
             6        0   No PAD service signals sent to the start-stop
                          mode DTE
             7        4   Break signal causes a Break-Indication
             8        0   Normal data delivery (no discard output)
             9        T   Padding after carriage return set by TID
            10        0   No line folding
            11        T   Speed of DTE set by TID
            12        0   Use of X-ON and X-OFF by DTE
            13        4   Linefeed insertion after echoing carriage return
            14        T   Linefeed padding set by TID
            15        0   Editing not allowed in data transfer state
            16      127   Default character delete symbol is DEL
            17       24   Default line delete symbol is control-X (CAN)
            18       18   Default line display symbol is control-R (DC2)
            19        0   No Editing PAD service signals   
            20        0   No echo mask (all characters echoed)    
            21        0   No parity checking or generation
            22        0   Page wait disabled   
           
         TYMNET
         Parameter  Value              Description
           101        0   No echo of control-I
           102        0   Control-I not expanded with spaces
           103        0   No key is reserved to emulate the <Break> key


        NOTE:  A "T" in the value field means that the parameter  
               value is determined by the terminal identifier (TID) 
               entered when contact with the CONSAT is first made
               (for example, by the service request signal).  The
               TID may be the same as was used for the unenhanced
               CONSAT.


        81                                                           ISCS07.GED
        Profile 1 - CCITT Simple Standard Profile                April 13, 1988






                APPENDIX V.   Profile 1 - CCITT Simple Standard Profile



         CCITT
         Parameter  Value              Description
             1        1   Command mode entered not only from login mode,
                          but during a call (escape from data transfer
                          mode)
             2        1   Echo initially on
             3      126   Data forwarded when any control characters and
                          <DELETE> is typed.
             4        0   No idle timer
             5        1   Use of X-ON and X-OFF by CONSAT
             6        1   PAD service signals sent to the start-stop
                          mode DTE
             7        2   Break signal causes a reset
             8        0   Normal data delivery (no discard output)
             9        T   Padding after carriage return set by TID
            10        0   No line folding
            11        T   Speed of DTE set by TID
            12        1   Use of X-ON and X-OFF by DTE
            13        0   No linefeed insertion after carriage return
            14        T   Linefeed padding set by TID
            15        0   Editing not allowed in data transfer state
            16      127   Default character delete symbol is DEL
            17       24   Default line delete symbol is control-X (CAN)
            18       18   Default line display symbol is control-R (DC2)
            19        0   No editing PAD service signals
            20        0   No echo mask (all characters echoed)
            21        0   No parity checking or generation   
            22        0   Page wait disabled  

         TYMNET
         Parameter  Value              Description
           101        1   Echo control-I
           102        0   Control-I not expanded with spaces
           103        0   No key is reserved to emulate the <Break> key


        NOTE:  A "T" in the value field means that the parameter  
               value is determined by the terminal identifier (TID) 
               entered when contact with the CONSAT is first made
               (for example, by the service request signal).  The
               TID may be the same as was used for the unenhanced
               CONSAT.




        82                                                           ISCS07.GED
        Profile 2 - CCITT Transparent Profile                    April 13, 1988






                 APPENDIX VI.   Profile 2 - CCITT Transparent Profile



         CCITT
         Parameter  Value              Description
             1        0   Command mode entered only from login mode, not
                          during a call (data transfer state)
             2        0   Echo initially off
             3        0   Data forwarded when full packets (128 chars) or
                          idle timer expires (no forwarding characters)
             4       20   Data forwarded when idle for 1 second (20/20ths)
             5        0   No use of X-ON and X-OFF by CONSAT
             6        0   No service signals sent to the start-stop
                          mode DTE
             7        2   Break signal causes a reset
             8        0   Normal data delivery (no discard output)
             9        T   Padding after carriage return set by TID
            10        0   No line folding
            11        T   Speed of DTE set by TID
            12        0   No use of X-ON and X-OFF by DTE
            13        0   No linefeed insertion after carriage return
            14        T   Linefeed padding set by TID
            15        0   No editing in data transfer state
            16      127   Default character delete symbol is DEL
            17       24   Default line delete symbol is control-X (CAN)
            18       18   Default line display symbol is control-R (DC2)
            19        0   No editing PAD service signals
            20        0   No echo mask (all characters echoed)
            21        0   No parity checking or generation 
            22        0   Page wait disabled


         TYMNET
         Parameter  Value              Description
            101       0   Control-I not echoed
            102       0   Control-I not expanded with spaces
            103       0   No key is reserved to emulate the <Break> key
         

        NOTE:  A "T" in the value field means that the parameter  
               value is determined by the terminal identifier (TID) 
               entered when contact with the CONSAT is first made
               (for example, by the service request signal).  The
               TID may be the same as was used for the unenhanced
               CONSAT.




        83                                                           ISCS07.GED
        Profile 3 - TYMNET Simple Standard Profile               April 13, 1988






              APPENDIX VII.   Profile 3 - TYMNET Simple Standard Profile



             This   profile is  supplied  in the  sample tymfile  with  what is
        considered as the best  setting of terminal  parameters.   However, its
        use  is  not mandatory,  i.e.  its  definition can  be  removed  from a
        tymfile.  If its setting is  considered desirable but its name  is not,
        it can be renamed.

           CCITT
         Parameter  Value              Description
             1        1   Command mode entered not only from login mode,
                          but during a call (escape from data transfer 
                          mode)
             2        1   Echo initially on
             3       94   Data forwarded when full packet (128 chars),
                          idle timer expires, or on forwarding characters
             4        0   No idle timer
             5        1   Use of X-ON and X-OFF by CONSAT
             6        5   All service signals sent to the start-stop
                          mode DTE
             7        4   Break signal causes indication of break
             8        0   Normal data delivery (no discard output)
             9        T   Padding after carriage return set by TID
            10        0   No line folding
            11        T   Speed of DTE set by TID
            12        1   Use of X-ON and X-OFF by DTE
            13        0   N0 linefeed insertion after carriage return
            14        T   Linefeed padding set by TID
            15        1   Editing allowed in data transfer state
            16      127   Default character delete symbol is DEL
            17       24   Default line delete symbol is control-X (CAN)
            18       18   Default line display symbol is control-R (DC2)
            19        0   No editing PAD service signals
            20        0   No echo mask (all characters echoed)
            21        0   No parity checking or generation
            22        0   Page wait disabled 


         TYMNET
         Parameter  Value              Description
           101        1   Control-I not echoed
           102        1   Expand control-I with spaces
           103        0   No key is reserved to emulate the <Break> key


        NOTE:  A "T" in the value field means that the parameter  
               value is determined by the terminal identifier (TID) 

        84                                                           ISCS07.GED
        Profile 3 - TYMNET Simple Standard Profile               April 13, 1988


               entered when contact with the CONSAT is first made
               (for example, by the service request signal).  The
               TID may be the same as was used for the unenhanced
               CONSAT.


















































        85                                                           ISCS07.GED
        GLOSSARY                                                 April 13, 1988






                               APPENDIX VIII.   GLOSSARY


            
          
        1.  CONSAT - Consolidated Tymsat
           
            PAD - Packet Assembly/Disassembly Facility (PAD)
            
            CONSAT/PAD - Tymnet version of PAD provides a packetizing and
                         depacketizing functions in accordance with CCITT 
                         Recommendation X.3, X.28, and X.29.

        2.  CCITT - The International Telegraph And Telephone 
                    Consultative Committee.
          
        3.  X.3, X.28, X.29, and X.25

            (a) Recommendation X.3 - defines  the  operation and function
                of the PAD in support of a start-stop terminal.
            
            (b) Recommendation X.28 - defines the procedures by which the 
                start-stop terminal can interact with the PAD.
            
            (c) Recommendation X.29 - defines  the procedures,  use,  and 
                formats  of  X.29 PAD messages that are sent  between  an 
                X.25  DTE and local PAD or between the PAD  supporting  a 
                non-X.25 DTE and the local PAD. An X.29 PAD message is an 
                X.25 qualified data packet.
           
            (d) Recommendation X.25 - defines the procedures  used by the 
                PAD in an connection between the start-stop terminal  and 
                the remote DTE.
           
        4.  Reference/Parameter - CCITT uses both Reference and Parameter
            in  regard to the functionality of PAD.  Herein,  we use them 
            interchangeably throughout this document.













        86                                                           ISCS07.GED
   FhV